2025-05-01 18:14:25,934 INFO: [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://172.31.197.234:5000
2025-05-01 18:14:25,934 INFO: [33mPress CTRL+C to quit[0m
2025-05-01 18:15:08,418 INFO: [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://172.31.197.234:5000
2025-05-01 18:15:08,419 INFO: [33mPress CTRL+C to quit[0m
2025-05-01 18:16:37,806 INFO: [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://172.31.197.234:5000
2025-05-01 18:16:37,806 INFO: [33mPress CTRL+C to quit[0m
2025-05-01 18:21:40,217 INFO: [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://172.31.197.234:5000
2025-05-01 18:21:40,218 INFO: [33mPress CTRL+C to quit[0m
2025-05-01 18:26:45,931 INFO: [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://172.31.197.234:5000
2025-05-01 18:26:45,932 INFO: [33mPress CTRL+C to quit[0m
2025-05-01 18:27:09,885 INFO: 127.0.0.1 - - [01/May/2025 18:27:09] "POST /reset HTTP/1.1" 200 -
2025-05-01 18:27:16,650 INFO: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-01 18:27:16,651 INFO: Decision: REST | Reason: The player is at full energy (15), so it's a good opportunity to rest and regain +2 energy without wasting resources.
2025-05-01 18:27:16,651 INFO: 127.0.0.1 - - [01/May/2025 18:27:16] "POST /decide HTTP/1.1" 200 -
2025-05-01 18:27:21,247 INFO: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-01 18:27:21,248 INFO: Decision: REST | Reason: The player has already moved to the current position from the starting point, and they have not used any resources yet. Since the player's ENERGY is currently at maximum (15), resting would consume some FOOD and WATER, but it would also regain +2 ENERGY, which is a good way to maintain the player's resources while preparing for future moves.
2025-05-01 18:27:21,248 INFO: 127.0.0.1 - - [01/May/2025 18:27:21] "POST /decide HTTP/1.1" 200 -
2025-05-01 18:27:26,135 INFO: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-01 18:27:26,136 INFO: Decision: MOVE NORTHWEST | Reason: The player is currently at position (0, 0) and needs to move east to escape. Moving northwest allows the player to move away from the Desert terrain to their north, while also getting closer to the Plains terrain, which is considered safe and beneficial for travel. This move also sets up the player for a potential future move east, while also considering their current resource levels.
2025-05-01 18:27:26,136 INFO: 127.0.0.1 - - [01/May/2025 18:27:26] "POST /decide HTTP/1.1" 200 -
2025-05-01 18:27:30,223 INFO: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-01 18:27:30,224 INFO: Decision: REST | Reason: The player's current position is still at (0, 0), and the recent memory shows that the player has been resting at this location. To avoid wasting resources on unnecessary movement and to regain +2 ENERGY, the best course of action is to rest.
2025-05-01 18:27:30,224 INFO: 127.0.0.1 - - [01/May/2025 18:27:30] "POST /decide HTTP/1.1" 200 -
2025-05-01 18:27:34,851 INFO: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-01 18:27:34,852 INFO: Decision: MOVE NORTH | Reason: The player is currently at position (0, 0), and there is a Forest tile at this position that they can move into with a cost of -2 MOVE, -2 FOOD, and -2 WATER. This move does not risk any resource going to 0, and it allows the player to potentially explore other tiles and resources nearby.
2025-05-01 18:27:34,852 INFO: 127.0.0.1 - - [01/May/2025 18:27:34] "POST /decide HTTP/1.1" 200 -
2025-05-01 18:27:38,807 INFO: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-01 18:27:38,808 INFO: Decision: REST | Reason: The player's energy is at a relatively high level (15), and resting would restore 2 energy without wasting too much food and water. This action also gives the player a chance to reassess their current situation and plan their next move while avoiding a potentially costly or high-risk movement.
2025-05-01 18:27:38,808 INFO: 127.0.0.1 - - [01/May/2025 18:27:38] "POST /decide HTTP/1.1" 200 -
2025-05-01 18:29:59,644 INFO: 127.0.0.1 - - [01/May/2025 18:29:59] "GET /memory HTTP/1.1" 200 -
2025-05-01 18:29:59,661 INFO: 127.0.0.1 - - [01/May/2025 18:29:59] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-05-01 18:32:02,194 INFO: [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://172.31.197.234:5000
2025-05-01 18:32:02,194 INFO: [33mPress CTRL+C to quit[0m
2025-05-01 18:32:36,788 INFO: 127.0.0.1 - - [01/May/2025 18:32:36] "POST /reset HTTP/1.1" 200 -
2025-05-01 18:32:40,323 INFO: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-01 18:32:40,325 INFO: Decision: MOVE EAST | Reason: The player needs to move east towards the goal, and there is a Plains tile available that would cost -2 FOOD and -2 WATER, which is an acceptable cost for making progress.
2025-05-01 18:32:40,325 INFO: 127.0.0.1 - - [01/May/2025 18:32:40] "POST /decide HTTP/1.1" 200 -
2025-05-01 18:32:47,754 INFO: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-01 18:32:47,755 INFO: Decision: REST | Reason: The player's ENERGY is at 14, which is low, and moving into a tile with small costs may not be enough to regain enough ENERGY to make a safe move. RESTING will give the player +2 ENERGY, which is necessary to make a move that won't risk running out of ENERGY.
2025-05-01 18:32:47,755 INFO: 127.0.0.1 - - [01/May/2025 18:32:47] "POST /decide HTTP/1.1" 200 -
2025-05-01 18:32:51,827 INFO: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-01 18:32:51,828 INFO: Decision: REST | Reason: The player's current ENERGY level is 15, which is already at maximum, but their FOOD level is 14, which is low. RESTING will not waste any resources, but it will help conserve FOOD for future turns.
2025-05-01 18:32:51,828 INFO: 127.0.0.1 - - [01/May/2025 18:32:51] "POST /decide HTTP/1.1" 200 -
2025-05-01 18:32:56,681 INFO: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-01 18:32:56,681 INFO: Decision: REST | Reason: The player's current ENERGY level is 15, which is already at maximum. Resting will not provide any additional benefit in terms of ENERGY, but it will still consume some FOOD and WATER. It is better to wait and rest when the player's ENERGY level drops below 15, allowing the player to regain +2 ENERGY without wasting resources.
2025-05-01 18:32:56,682 INFO: 127.0.0.1 - - [01/May/2025 18:32:56] "POST /decide HTTP/1.1" 200 -
2025-05-01 18:33:00,860 INFO: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-01 18:33:00,860 INFO: Decision: MOVE EAST | Reason: The player's current position is at (0, 0), and the goal is to move east towards the east side of the map. Moving east allows the player to progress towards the goal, and the available options at the current position show a Plains tile with a low movement cost (-2) and a small food and water cost (-1 each). This move is safe and makes progress, making it a suitable choice.
2025-05-01 18:33:00,861 INFO: 127.0.0.1 - - [01/May/2025 18:33:00] "POST /decide HTTP/1.1" 200 -
2025-05-01 22:04:28,074 INFO: [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://172.31.197.234:5000
2025-05-01 22:04:28,075 INFO: [33mPress CTRL+C to quit[0m
2025-05-01 22:07:18,444 INFO: [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://172.31.197.234:5000
2025-05-01 22:07:18,444 INFO: [33mPress CTRL+C to quit[0m
2025-05-01 22:07:46,332 INFO: 127.0.0.1 - - [01/May/2025 22:07:46] "POST /reset HTTP/1.1" 200 -
2025-05-01 22:07:48,268 INFO: Retrying request to /chat/completions in 0.384202 seconds
2025-05-01 22:07:48,653 INFO: Retrying request to /chat/completions in 0.978664 seconds
2025-05-01 22:07:49,633 ERROR: Exception on /decide [POST]
Traceback (most recent call last):
  File "/home/ryanw/vllm-env/lib/python3.12/site-packages/httpx/_transports/default.py", line 101, in map_httpcore_exceptions
    yield
  File "/home/ryanw/vllm-env/lib/python3.12/site-packages/httpx/_transports/default.py", line 250, in handle_request
    resp = self._pool.handle_request(req)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ryanw/vllm-env/lib/python3.12/site-packages/httpcore/_sync/connection_pool.py", line 256, in handle_request
    raise exc from None
  File "/home/ryanw/vllm-env/lib/python3.12/site-packages/httpcore/_sync/connection_pool.py", line 236, in handle_request
    response = connection.handle_request(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ryanw/vllm-env/lib/python3.12/site-packages/httpcore/_sync/connection.py", line 101, in handle_request
    raise exc
  File "/home/ryanw/vllm-env/lib/python3.12/site-packages/httpcore/_sync/connection.py", line 78, in handle_request
    stream = self._connect(request)
             ^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ryanw/vllm-env/lib/python3.12/site-packages/httpcore/_sync/connection.py", line 124, in _connect
    stream = self._network_backend.connect_tcp(**kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ryanw/vllm-env/lib/python3.12/site-packages/httpcore/_backends/sync.py", line 207, in connect_tcp
    with map_exceptions(exc_map):
  File "/usr/lib/python3.12/contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "/home/ryanw/vllm-env/lib/python3.12/site-packages/httpcore/_exceptions.py", line 14, in map_exceptions
    raise to_exc(exc) from exc
httpcore.ConnectError: [Errno 111] Connection refused

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/ryanw/vllm-env/lib/python3.12/site-packages/openai/_base_client.py", line 969, in request
    response = self._client.send(
               ^^^^^^^^^^^^^^^^^^
  File "/home/ryanw/vllm-env/lib/python3.12/site-packages/httpx/_client.py", line 914, in send
    response = self._send_handling_auth(
               ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ryanw/vllm-env/lib/python3.12/site-packages/httpx/_client.py", line 942, in _send_handling_auth
    response = self._send_handling_redirects(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ryanw/vllm-env/lib/python3.12/site-packages/httpx/_client.py", line 979, in _send_handling_redirects
    response = self._send_single_request(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ryanw/vllm-env/lib/python3.12/site-packages/httpx/_client.py", line 1014, in _send_single_request
    response = transport.handle_request(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ryanw/vllm-env/lib/python3.12/site-packages/httpx/_transports/default.py", line 249, in handle_request
    with map_httpcore_exceptions():
  File "/usr/lib/python3.12/contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "/home/ryanw/vllm-env/lib/python3.12/site-packages/httpx/_transports/default.py", line 118, in map_httpcore_exceptions
    raise mapped_exc(message) from exc
httpx.ConnectError: [Errno 111] Connection refused

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/ryanw/vllm-env/lib/python3.12/site-packages/flask/app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ryanw/vllm-env/lib/python3.12/site-packages/flask/app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ryanw/vllm-env/lib/python3.12/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ryanw/vllm-env/lib/python3.12/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/c/Users/ryanw/OneDrive - Cal Poly Pomona/CPP Coding/CS3560/CS3560-WSS/PythonAI/main.py", line 28, in decide
    decision = engine.make_decision(
               ^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/c/Users/ryanw/OneDrive - Cal Poly Pomona/CPP Coding/CS3560/CS3560-WSS/PythonAI/decision_engine.py", line 51, in make_decision
    response = self.client.chat.completions.create(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ryanw/vllm-env/lib/python3.12/site-packages/openai/_utils/_utils.py", line 287, in wrapper
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/ryanw/vllm-env/lib/python3.12/site-packages/openai/resources/chat/completions/completions.py", line 925, in create
    return self._post(
           ^^^^^^^^^^^
  File "/home/ryanw/vllm-env/lib/python3.12/site-packages/openai/_base_client.py", line 1239, in post
    return cast(ResponseT, self.request(cast_to, opts, stream=stream, stream_cls=stream_cls))
                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ryanw/vllm-env/lib/python3.12/site-packages/openai/_base_client.py", line 1001, in request
    raise APIConnectionError(request=request) from err
openai.APIConnectionError: Connection error.
2025-05-01 22:07:49,655 INFO: 127.0.0.1 - - [01/May/2025 22:07:49] "[35m[1mPOST /decide HTTP/1.1[0m" 500 -
2025-05-02 00:20:31,104 INFO: [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://172.31.197.234:5000
2025-05-02 00:20:31,104 INFO: [33mPress CTRL+C to quit[0m
2025-05-02 00:21:26,032 INFO: 127.0.0.1 - - [02/May/2025 00:21:26] "POST /reset HTTP/1.1" 200 -
2025-05-02 00:21:31,482 INFO: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-02 00:21:31,484 ERROR: Exception on /decide [POST]
Traceback (most recent call last):
  File "/home/ryanw/vllm-env/lib/python3.12/site-packages/flask/app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ryanw/vllm-env/lib/python3.12/site-packages/flask/app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ryanw/vllm-env/lib/python3.12/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ryanw/vllm-env/lib/python3.12/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/c/Users/ryanw/OneDrive - Cal Poly Pomona/CPP Coding/CS3560/CS3560-WSS/PythonAI/main.py", line 28, in decide
    decision = engine.make_decision(
               ^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/c/Users/ryanw/OneDrive - Cal Poly Pomona/CPP Coding/CS3560/CS3560-WSS/PythonAI/decision_engine.py", line 61, in make_decision
    raw = response.choices[0].message.content.strip()
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'NoneType' object has no attribute 'strip'
2025-05-02 00:21:31,490 INFO: 127.0.0.1 - - [02/May/2025 00:21:31] "[35m[1mPOST /decide HTTP/1.1[0m" 500 -
2025-05-02 00:22:40,108 INFO: 127.0.0.1 - - [02/May/2025 00:22:40] "POST /reset HTTP/1.1" 200 -
2025-05-02 00:22:44,253 INFO: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-02 00:22:44,253 ERROR: Exception on /decide [POST]
Traceback (most recent call last):
  File "/home/ryanw/vllm-env/lib/python3.12/site-packages/flask/app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ryanw/vllm-env/lib/python3.12/site-packages/flask/app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ryanw/vllm-env/lib/python3.12/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ryanw/vllm-env/lib/python3.12/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/c/Users/ryanw/OneDrive - Cal Poly Pomona/CPP Coding/CS3560/CS3560-WSS/PythonAI/main.py", line 28, in decide
    decision = engine.make_decision(
               ^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/c/Users/ryanw/OneDrive - Cal Poly Pomona/CPP Coding/CS3560/CS3560-WSS/PythonAI/decision_engine.py", line 61, in make_decision
    raw = response.choices[0].message.content.strip()
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'NoneType' object has no attribute 'strip'
2025-05-02 00:22:44,255 INFO: 127.0.0.1 - - [02/May/2025 00:22:44] "[35m[1mPOST /decide HTTP/1.1[0m" 500 -
2025-05-02 00:56:36,182 INFO [root]: --- Logging configured for main.py ---
2025-05-02 00:56:36,183 INFO [root]: Initializing DecisionEngine with model: Qwen/Qwen3-14B-AWQ...
2025-05-02 00:56:36,216 INFO [root]: Loading prompt template from: /mnt/c/Users/ryanw/OneDrive - Cal Poly Pomona/CPP Coding/CS3560/CS3560-WSS/PythonAI/prompts/default.txt
2025-05-02 00:56:36,217 INFO [root]: DecisionEngine initialized for model: Qwen/Qwen3-14B-AWQ
2025-05-02 00:56:36,218 INFO [root]: Sampling Params: Temp=0.7, TopP=(0.95,), TopK=20, PresencePenalty=None
2025-05-02 00:56:36,218 INFO [root]: DecisionEngine initialized successfully.
2025-05-02 00:56:36,218 INFO [root]: Starting Flask server on 0.0.0.0:5000
2025-05-02 00:56:36,226 INFO [werkzeug]: [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://172.31.197.234:5000
2025-05-02 00:56:36,226 INFO [werkzeug]: [33mPress CTRL+C to quit[0m
2025-05-02 00:56:53,895 INFO [root]: Received request on /reset endpoint.
2025-05-02 00:56:53,896 INFO [root]: AI memory reset successfully via /reset endpoint.
2025-05-02 00:56:53,896 INFO [werkzeug]: 127.0.0.1 - - [02/May/2025 00:56:53] "POST /reset HTTP/1.1" 200 -
2025-05-02 00:56:55,803 INFO [root]: Received request on /decide endpoint.
2025-05-02 00:56:55,803 ERROR [root]: CRITICAL: Unhandled exception in /decide endpoint!
Traceback (most recent call last):
  File "/mnt/c/Users/ryanw/OneDrive - Cal Poly Pomona/CPP Coding/CS3560/CS3560-WSS/PythonAI/main.py", line 102, in decide
    decision = engine.make_decision(
               ^^^^^^^^^^^^^^^^^^^^^
TypeError: DecisionEngine.make_decision() got an unexpected keyword argument 'temperature'
2025-05-02 00:56:55,806 INFO [werkzeug]: 127.0.0.1 - - [02/May/2025 00:56:55] "[35m[1mPOST /decide HTTP/1.1[0m" 500 -
2025-05-02 00:56:58,150 INFO [root]: Received request on /decide endpoint.
2025-05-02 00:56:58,151 ERROR [root]: CRITICAL: Unhandled exception in /decide endpoint!
Traceback (most recent call last):
  File "/mnt/c/Users/ryanw/OneDrive - Cal Poly Pomona/CPP Coding/CS3560/CS3560-WSS/PythonAI/main.py", line 102, in decide
    decision = engine.make_decision(
               ^^^^^^^^^^^^^^^^^^^^^
TypeError: DecisionEngine.make_decision() got an unexpected keyword argument 'temperature'
2025-05-02 00:56:58,152 INFO [werkzeug]: 127.0.0.1 - - [02/May/2025 00:56:58] "[35m[1mPOST /decide HTTP/1.1[0m" 500 -
2025-05-02 00:57:03,392 INFO [root]: Received request on /decide endpoint.
2025-05-02 00:57:03,392 ERROR [root]: CRITICAL: Unhandled exception in /decide endpoint!
Traceback (most recent call last):
  File "/mnt/c/Users/ryanw/OneDrive - Cal Poly Pomona/CPP Coding/CS3560/CS3560-WSS/PythonAI/main.py", line 102, in decide
    decision = engine.make_decision(
               ^^^^^^^^^^^^^^^^^^^^^
TypeError: DecisionEngine.make_decision() got an unexpected keyword argument 'temperature'
2025-05-02 00:57:03,393 INFO [werkzeug]: 127.0.0.1 - - [02/May/2025 00:57:03] "[35m[1mPOST /decide HTTP/1.1[0m" 500 -
2025-05-02 00:57:05,726 INFO [root]: Received request on /decide endpoint.
2025-05-02 00:57:05,726 ERROR [root]: CRITICAL: Unhandled exception in /decide endpoint!
Traceback (most recent call last):
  File "/mnt/c/Users/ryanw/OneDrive - Cal Poly Pomona/CPP Coding/CS3560/CS3560-WSS/PythonAI/main.py", line 102, in decide
    decision = engine.make_decision(
               ^^^^^^^^^^^^^^^^^^^^^
TypeError: DecisionEngine.make_decision() got an unexpected keyword argument 'temperature'
2025-05-02 00:57:05,727 INFO [werkzeug]: 127.0.0.1 - - [02/May/2025 00:57:05] "[35m[1mPOST /decide HTTP/1.1[0m" 500 -
2025-05-02 01:07:24,399 INFO [root]: --- Logging configured for main.py ---
2025-05-02 01:07:24,400 INFO [root]: Initializing DecisionEngine with model: Qwen/Qwen3-14B-AWQ...
2025-05-02 01:07:24,424 INFO [root]: Loading prompt template from: /mnt/c/Users/ryanw/OneDrive - Cal Poly Pomona/CPP Coding/CS3560/CS3560-WSS/PythonAI/prompts/default.txt
2025-05-02 01:07:24,425 INFO [root]: DecisionEngine initialized for model: Qwen/Qwen3-14B-AWQ
2025-05-02 01:07:24,425 INFO [root]: Sampling Params: Temp=0.7, TopP=(0.95,), TopK=20, PresencePenalty=None
2025-05-02 01:07:24,425 INFO [root]: DecisionEngine initialized successfully.
2025-05-02 01:07:24,426 WARNING [root]: <<<<<<<<<< LOGGING TEST BEFORE APP RUN >>>>>>>>>>
2025-05-02 01:07:24,427 INFO [root]: Starting Flask server on 0.0.0.0:5000
2025-05-02 01:07:24,433 INFO [werkzeug]: [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://172.31.197.234:5000
2025-05-02 01:07:24,433 INFO [werkzeug]: [33mPress CTRL+C to quit[0m
2025-05-02 01:11:17,134 INFO [root]: --- Logging configured for main.py ---
2025-05-02 01:11:17,135 INFO [root]: Initializing DecisionEngine with model: Qwen/Qwen3-14B-AWQ...
2025-05-02 01:11:17,171 INFO [root]: Loading prompt template from: /mnt/c/Users/ryanw/OneDrive - Cal Poly Pomona/CPP Coding/CS3560/CS3560-WSS/PythonAI/prompts/default.txt
2025-05-02 01:11:17,172 INFO [root]: DecisionEngine initialized for model: Qwen/Qwen3-14B-AWQ
2025-05-02 01:11:17,173 INFO [root]: Sampling Params: Temp=0.7, TopP=(0.95,), TopK=20, PresencePenalty=None
2025-05-02 01:11:17,173 INFO [root]: DecisionEngine initialized successfully.
2025-05-02 01:11:17,174 WARNING [root]: <<<<<<<<<< LOGGING TEST BEFORE APP RUN >>>>>>>>>>
2025-05-02 01:11:17,174 INFO [root]: Starting Flask server on 0.0.0.0:5000
2025-05-02 01:11:17,181 INFO [werkzeug]: [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://172.31.197.234:5000
2025-05-02 01:11:17,181 INFO [werkzeug]: [33mPress CTRL+C to quit[0m
2025-05-02 01:12:55,444 INFO [root]: --- Logging configured for main.py ---
2025-05-02 01:12:55,445 INFO [root]: Initializing DecisionEngine with model: Qwen/Qwen3-14B-AWQ...
2025-05-02 01:12:55,466 INFO [root]: Loading prompt template from: /mnt/c/Users/ryanw/OneDrive - Cal Poly Pomona/CPP Coding/CS3560/CS3560-WSS/PythonAI/prompts/default.txt
2025-05-02 01:12:55,467 INFO [root]: DecisionEngine initialized for model: Qwen/Qwen3-14B-AWQ
2025-05-02 01:12:55,467 INFO [root]: Sampling Params: Temp=0.7, TopP=(0.95,), TopK=20, PresencePenalty=None
2025-05-02 01:12:55,467 INFO [root]: DecisionEngine initialized successfully.
2025-05-02 01:12:55,468 WARNING [root]: <<<<<<<<<< LOGGING TEST BEFORE APP RUN >>>>>>>>>>
2025-05-02 01:12:55,468 INFO [root]: Starting Flask server on 0.0.0.0:5000
2025-05-02 01:12:55,475 INFO [werkzeug]: [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://172.31.197.234:5000
2025-05-02 01:12:55,475 INFO [werkzeug]: [33mPress CTRL+C to quit[0m
2025-05-02 01:14:51,193 WARNING [root]: <<<<<<<<<< LOGGING TEST AT VERY TOP >>>>>>>>>>
2025-05-02 01:14:51,482 INFO [root]: --- Logging configured for main.py ---
2025-05-02 01:14:51,483 INFO [root]: Initializing DecisionEngine with model: Qwen/Qwen3-14B-AWQ...
2025-05-02 01:14:51,503 INFO [root]: Loading prompt template from: /mnt/c/Users/ryanw/OneDrive - Cal Poly Pomona/CPP Coding/CS3560/CS3560-WSS/PythonAI/prompts/default.txt
2025-05-02 01:14:51,504 INFO [root]: DecisionEngine initialized for model: Qwen/Qwen3-14B-AWQ
2025-05-02 01:14:51,504 INFO [root]: Sampling Params: Temp=0.6, TopP=0.95, TopK=20, PresencePenalty=None
2025-05-02 01:14:51,504 INFO [root]: DecisionEngine initialized successfully.
2025-05-02 01:14:51,505 WARNING [root]: --- THIS IS A TEST LOG BEFORE APP.RUN ---
2025-05-02 01:14:51,505 INFO [root]: Starting Flask server on 0.0.0.0:5000
2025-05-02 01:14:51,510 INFO [werkzeug]: [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://172.31.197.234:5000
2025-05-02 01:14:51,510 INFO [werkzeug]: [33mPress CTRL+C to quit[0m
2025-05-02 01:18:29,445 INFO [root]: --- Logging configured for main.py (File & Console) ---
2025-05-02 01:18:29,446 INFO [root]: Initializing DecisionEngine with model: Qwen/Qwen3-14B-AWQ...
2025-05-02 01:18:29,482 INFO [root]: Loading prompt template from: /mnt/c/Users/ryanw/OneDrive - Cal Poly Pomona/CPP Coding/CS3560/CS3560-WSS/PythonAI/prompts/default.txt
2025-05-02 01:18:29,483 INFO [root]: DecisionEngine initialized for model: Qwen/Qwen3-14B-AWQ
2025-05-02 01:18:29,484 INFO [root]: Sampling Params: Temp=0.6, TopP=0.95, TopK=20, PresencePenalty=None
2025-05-02 01:18:29,484 INFO [root]: DecisionEngine initialized successfully.
2025-05-02 01:18:29,485 INFO [root]: Starting Flask server on 0.0.0.0:5000
2025-05-02 01:18:29,492 INFO [werkzeug]: [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://172.31.197.234:5000
2025-05-02 01:18:29,492 INFO [werkzeug]: [33mPress CTRL+C to quit[0m
2025-05-02 01:18:56,706 INFO [root]: Received request on /reset endpoint.
2025-05-02 01:18:56,706 INFO [root]: AI memory reset successfully via /reset endpoint.
2025-05-02 01:18:56,706 INFO [werkzeug]: 127.0.0.1 - - [02/May/2025 01:18:56] "POST /reset HTTP/1.1" 200 -
2025-05-02 01:18:58,629 INFO [root]: Received request on /decide endpoint.
2025-05-02 01:18:58,630 INFO [root]: Sending request to model: Qwen/Qwen3-14B-AWQ
2025-05-02 01:18:58,631 ERROR [root]: Failed API call to LLM: Completions.create() got an unexpected keyword argument 'top_k'
Traceback (most recent call last):
  File "/mnt/c/Users/ryanw/OneDrive - Cal Poly Pomona/CPP Coding/CS3560/CS3560-WSS/PythonAI/decision_engine.py", line 122, in make_decision
    response = self.client.chat.completions.create(**api_params)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ryanw/vllm-env/lib/python3.12/site-packages/openai/_utils/_utils.py", line 287, in wrapper
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
TypeError: Completions.create() got an unexpected keyword argument 'top_k'
2025-05-02 01:18:58,634 INFO [root]: Decision: REST | Reason: API call failed.
2025-05-02 01:18:58,634 INFO [root]: Decision received from engine: REST
2025-05-02 01:18:58,634 INFO [werkzeug]: 127.0.0.1 - - [02/May/2025 01:18:58] "POST /decide HTTP/1.1" 200 -
2025-05-02 01:19:00,965 INFO [root]: Received request on /decide endpoint.
2025-05-02 01:19:00,966 INFO [root]: Sending request to model: Qwen/Qwen3-14B-AWQ
2025-05-02 01:19:00,966 ERROR [root]: Failed API call to LLM: Completions.create() got an unexpected keyword argument 'top_k'
Traceback (most recent call last):
  File "/mnt/c/Users/ryanw/OneDrive - Cal Poly Pomona/CPP Coding/CS3560/CS3560-WSS/PythonAI/decision_engine.py", line 122, in make_decision
    response = self.client.chat.completions.create(**api_params)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ryanw/vllm-env/lib/python3.12/site-packages/openai/_utils/_utils.py", line 287, in wrapper
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
TypeError: Completions.create() got an unexpected keyword argument 'top_k'
2025-05-02 01:19:00,967 INFO [root]: Decision: REST | Reason: API call failed.
2025-05-02 01:19:00,967 INFO [root]: Decision received from engine: REST
2025-05-02 01:19:00,967 INFO [werkzeug]: 127.0.0.1 - - [02/May/2025 01:19:00] "POST /decide HTTP/1.1" 200 -
2025-05-02 01:19:03,298 INFO [root]: Received request on /decide endpoint.
2025-05-02 01:19:03,298 INFO [root]: Sending request to model: Qwen/Qwen3-14B-AWQ
2025-05-02 01:19:03,298 ERROR [root]: Failed API call to LLM: Completions.create() got an unexpected keyword argument 'top_k'
Traceback (most recent call last):
  File "/mnt/c/Users/ryanw/OneDrive - Cal Poly Pomona/CPP Coding/CS3560/CS3560-WSS/PythonAI/decision_engine.py", line 122, in make_decision
    response = self.client.chat.completions.create(**api_params)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ryanw/vllm-env/lib/python3.12/site-packages/openai/_utils/_utils.py", line 287, in wrapper
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
TypeError: Completions.create() got an unexpected keyword argument 'top_k'
2025-05-02 01:19:03,299 INFO [root]: Decision: REST | Reason: API call failed.
2025-05-02 01:19:03,300 INFO [root]: Decision received from engine: REST
2025-05-02 01:19:03,300 INFO [werkzeug]: 127.0.0.1 - - [02/May/2025 01:19:03] "POST /decide HTTP/1.1" 200 -
2025-05-02 01:19:05,629 INFO [root]: Received request on /decide endpoint.
2025-05-02 01:19:05,630 INFO [root]: Sending request to model: Qwen/Qwen3-14B-AWQ
2025-05-02 01:19:05,630 ERROR [root]: Failed API call to LLM: Completions.create() got an unexpected keyword argument 'top_k'
Traceback (most recent call last):
  File "/mnt/c/Users/ryanw/OneDrive - Cal Poly Pomona/CPP Coding/CS3560/CS3560-WSS/PythonAI/decision_engine.py", line 122, in make_decision
    response = self.client.chat.completions.create(**api_params)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ryanw/vllm-env/lib/python3.12/site-packages/openai/_utils/_utils.py", line 287, in wrapper
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
TypeError: Completions.create() got an unexpected keyword argument 'top_k'
2025-05-02 01:19:05,631 INFO [root]: Decision: REST | Reason: API call failed.
2025-05-02 01:19:05,632 INFO [root]: Decision received from engine: REST
2025-05-02 01:19:05,632 INFO [werkzeug]: 127.0.0.1 - - [02/May/2025 01:19:05] "POST /decide HTTP/1.1" 200 -
2025-05-02 01:19:07,950 INFO [root]: Received request on /decide endpoint.
2025-05-02 01:19:07,950 INFO [root]: Sending request to model: Qwen/Qwen3-14B-AWQ
2025-05-02 01:19:07,950 ERROR [root]: Failed API call to LLM: Completions.create() got an unexpected keyword argument 'top_k'
Traceback (most recent call last):
  File "/mnt/c/Users/ryanw/OneDrive - Cal Poly Pomona/CPP Coding/CS3560/CS3560-WSS/PythonAI/decision_engine.py", line 122, in make_decision
    response = self.client.chat.completions.create(**api_params)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ryanw/vllm-env/lib/python3.12/site-packages/openai/_utils/_utils.py", line 287, in wrapper
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
TypeError: Completions.create() got an unexpected keyword argument 'top_k'
2025-05-02 01:19:07,952 INFO [root]: Decision: REST | Reason: API call failed.
2025-05-02 01:19:07,952 INFO [root]: Decision received from engine: REST
2025-05-02 01:19:07,952 INFO [werkzeug]: 127.0.0.1 - - [02/May/2025 01:19:07] "POST /decide HTTP/1.1" 200 -
2025-05-02 01:19:10,283 INFO [root]: Received request on /decide endpoint.
2025-05-02 01:19:10,284 INFO [root]: Sending request to model: Qwen/Qwen3-14B-AWQ
2025-05-02 01:19:10,284 ERROR [root]: Failed API call to LLM: Completions.create() got an unexpected keyword argument 'top_k'
Traceback (most recent call last):
  File "/mnt/c/Users/ryanw/OneDrive - Cal Poly Pomona/CPP Coding/CS3560/CS3560-WSS/PythonAI/decision_engine.py", line 122, in make_decision
    response = self.client.chat.completions.create(**api_params)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ryanw/vllm-env/lib/python3.12/site-packages/openai/_utils/_utils.py", line 287, in wrapper
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
TypeError: Completions.create() got an unexpected keyword argument 'top_k'
2025-05-02 01:19:10,285 INFO [root]: Decision: REST | Reason: API call failed.
2025-05-02 01:19:10,285 INFO [root]: Decision received from engine: REST
2025-05-02 01:19:10,286 INFO [werkzeug]: 127.0.0.1 - - [02/May/2025 01:19:10] "POST /decide HTTP/1.1" 200 -
2025-05-02 01:19:12,618 INFO [root]: Received request on /decide endpoint.
2025-05-02 01:19:12,618 INFO [root]: Sending request to model: Qwen/Qwen3-14B-AWQ
2025-05-02 01:19:12,619 ERROR [root]: Failed API call to LLM: Completions.create() got an unexpected keyword argument 'top_k'
Traceback (most recent call last):
  File "/mnt/c/Users/ryanw/OneDrive - Cal Poly Pomona/CPP Coding/CS3560/CS3560-WSS/PythonAI/decision_engine.py", line 122, in make_decision
    response = self.client.chat.completions.create(**api_params)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ryanw/vllm-env/lib/python3.12/site-packages/openai/_utils/_utils.py", line 287, in wrapper
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
TypeError: Completions.create() got an unexpected keyword argument 'top_k'
2025-05-02 01:19:12,620 INFO [root]: Decision: REST | Reason: API call failed.
2025-05-02 01:19:12,620 INFO [root]: Decision received from engine: REST
2025-05-02 01:19:12,620 INFO [werkzeug]: 127.0.0.1 - - [02/May/2025 01:19:12] "POST /decide HTTP/1.1" 200 -
2025-05-02 01:24:46,069 INFO [root]: --- Logging configured for main.py (File & Console) ---
2025-05-02 01:24:46,070 INFO [root]: Initializing DecisionEngine with model: Qwen/Qwen3-14B-AWQ...
2025-05-02 01:24:46,089 INFO [root]: Loading prompt template from: /mnt/c/Users/ryanw/OneDrive - Cal Poly Pomona/CPP Coding/CS3560/CS3560-WSS/PythonAI/prompts/default.txt
2025-05-02 01:24:46,090 INFO [root]: DecisionEngine initialized for model: Qwen/Qwen3-14B-AWQ
2025-05-02 01:24:46,090 INFO [root]: Sampling Params: Temp=0.6, TopP=0.95, PresencePenalty=None
2025-05-02 01:24:46,091 INFO [root]: DecisionEngine initialized successfully.
2025-05-02 01:24:46,091 INFO [root]: Starting Flask server on 0.0.0.0:5000
2025-05-02 01:24:46,097 INFO [werkzeug]: [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://172.31.197.234:5000
2025-05-02 01:24:46,097 INFO [werkzeug]: [33mPress CTRL+C to quit[0m
2025-05-02 01:25:14,634 INFO [root]: Received request on /reset endpoint.
2025-05-02 01:25:14,634 INFO [root]: AI memory reset successfully via /reset endpoint.
2025-05-02 01:25:14,634 INFO [werkzeug]: 127.0.0.1 - - [02/May/2025 01:25:14] "POST /reset HTTP/1.1" 200 -
2025-05-02 01:25:16,520 INFO [root]: Received request on /decide endpoint.
2025-05-02 01:25:16,521 INFO [root]: Sending request to model: Qwen/Qwen3-14B-AWQ
2025-05-02 01:25:19,791 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-02 01:25:19,793 ERROR [root]: Failed API call to LLM: 'NoneType' object has no attribute 'strip'
Traceback (most recent call last):
  File "/mnt/c/Users/ryanw/OneDrive - Cal Poly Pomona/CPP Coding/CS3560/CS3560-WSS/PythonAI/decision_engine.py", line 118, in make_decision
    raw_response = response.choices[0].message.content.strip()
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'NoneType' object has no attribute 'strip'
2025-05-02 01:25:19,796 INFO [root]: Decision: REST | Reason: API call failed.
2025-05-02 01:25:19,796 INFO [root]: Decision received from engine: REST
2025-05-02 01:25:19,797 INFO [werkzeug]: 127.0.0.1 - - [02/May/2025 01:25:19] "POST /decide HTTP/1.1" 200 -
2025-05-02 01:25:22,088 INFO [root]: Received request on /decide endpoint.
2025-05-02 01:25:22,089 INFO [root]: Sending request to model: Qwen/Qwen3-14B-AWQ
2025-05-02 01:25:25,189 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-02 01:25:25,189 ERROR [root]: Failed API call to LLM: 'NoneType' object has no attribute 'strip'
Traceback (most recent call last):
  File "/mnt/c/Users/ryanw/OneDrive - Cal Poly Pomona/CPP Coding/CS3560/CS3560-WSS/PythonAI/decision_engine.py", line 118, in make_decision
    raw_response = response.choices[0].message.content.strip()
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'NoneType' object has no attribute 'strip'
2025-05-02 01:25:25,191 INFO [root]: Decision: REST | Reason: API call failed.
2025-05-02 01:25:25,191 INFO [root]: Decision received from engine: REST
2025-05-02 01:25:25,192 INFO [werkzeug]: 127.0.0.1 - - [02/May/2025 01:25:25] "POST /decide HTTP/1.1" 200 -
2025-05-02 01:25:27,488 INFO [root]: Received request on /decide endpoint.
2025-05-02 01:25:27,488 INFO [root]: Sending request to model: Qwen/Qwen3-14B-AWQ
2025-05-02 01:25:29,894 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-02 01:25:29,895 ERROR [root]: Failed API call to LLM: 'NoneType' object has no attribute 'strip'
Traceback (most recent call last):
  File "/mnt/c/Users/ryanw/OneDrive - Cal Poly Pomona/CPP Coding/CS3560/CS3560-WSS/PythonAI/decision_engine.py", line 118, in make_decision
    raw_response = response.choices[0].message.content.strip()
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'NoneType' object has no attribute 'strip'
2025-05-02 01:25:29,896 INFO [root]: Decision: REST | Reason: API call failed.
2025-05-02 01:25:29,896 INFO [root]: Decision received from engine: REST
2025-05-02 01:25:29,897 INFO [werkzeug]: 127.0.0.1 - - [02/May/2025 01:25:29] "POST /decide HTTP/1.1" 200 -
2025-05-02 01:30:12,389 INFO [root]: --- Logging configured for main.py (File & Console) ---
2025-05-02 01:30:12,389 INFO [root]: Initializing DecisionEngine with model: Qwen/Qwen3-14B-AWQ...
2025-05-02 01:30:12,424 INFO [root]: Loading prompt template from: /mnt/c/Users/ryanw/OneDrive - Cal Poly Pomona/CPP Coding/CS3560/CS3560-WSS/PythonAI/prompts/default.txt
2025-05-02 01:30:12,425 INFO [root]: DecisionEngine initialized for model: Qwen/Qwen3-14B-AWQ
2025-05-02 01:30:12,425 INFO [root]: Sampling Params: Temp=0.6, TopP=0.95, PresencePenalty=None
2025-05-02 01:30:12,425 INFO [root]: DecisionEngine initialized successfully.
2025-05-02 01:30:12,426 INFO [root]: Starting Flask server on 0.0.0.0:5000
2025-05-02 01:30:12,434 INFO [werkzeug]: [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://172.31.197.234:5000
2025-05-02 01:30:12,434 INFO [werkzeug]: [33mPress CTRL+C to quit[0m
2025-05-02 01:30:41,806 INFO [root]: Received request on /reset endpoint.
2025-05-02 01:30:41,806 INFO [root]: AI memory reset successfully via /reset endpoint.
2025-05-02 01:30:41,806 INFO [werkzeug]: 127.0.0.1 - - [02/May/2025 01:30:41] "POST /reset HTTP/1.1" 200 -
2025-05-02 01:30:43,690 INFO [root]: Received request on /decide endpoint.
2025-05-02 01:30:43,691 INFO [root]: Sending request to model: Qwen/Qwen3-14B-AWQ
2025-05-02 01:30:46,931 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-02 01:30:46,934 INFO [root]: LLM generation finish reason: length
2025-05-02 01:30:46,934 ERROR [root]: LLM response content is None. Finish reason was: length
2025-05-02 01:30:46,935 INFO [root]: Decision: REST | Reason: LLM produced no content (finish_reason: length).
2025-05-02 01:30:46,935 INFO [root]: Decision received from engine: REST
2025-05-02 01:30:46,935 INFO [werkzeug]: 127.0.0.1 - - [02/May/2025 01:30:46] "POST /decide HTTP/1.1" 200 -
2025-05-02 01:30:49,242 INFO [root]: Received request on /decide endpoint.
2025-05-02 01:30:49,242 INFO [root]: Sending request to model: Qwen/Qwen3-14B-AWQ
2025-05-02 01:30:52,091 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-02 01:30:52,092 INFO [root]: LLM generation finish reason: length
2025-05-02 01:30:52,092 ERROR [root]: LLM response content is None. Finish reason was: length
2025-05-02 01:30:52,092 INFO [root]: Decision: REST | Reason: LLM produced no content (finish_reason: length).
2025-05-02 01:30:52,093 INFO [root]: Decision received from engine: REST
2025-05-02 01:30:52,093 INFO [werkzeug]: 127.0.0.1 - - [02/May/2025 01:30:52] "POST /decide HTTP/1.1" 200 -
2025-05-02 01:30:54,386 INFO [root]: Received request on /decide endpoint.
2025-05-02 01:30:54,386 INFO [root]: Sending request to model: Qwen/Qwen3-14B-AWQ
2025-05-02 01:30:56,759 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-02 01:30:56,760 INFO [root]: LLM generation finish reason: length
2025-05-02 01:30:56,760 ERROR [root]: LLM response content is None. Finish reason was: length
2025-05-02 01:30:56,761 INFO [root]: Decision: REST | Reason: LLM produced no content (finish_reason: length).
2025-05-02 01:30:56,761 INFO [root]: Decision received from engine: REST
2025-05-02 01:30:56,761 INFO [werkzeug]: 127.0.0.1 - - [02/May/2025 01:30:56] "POST /decide HTTP/1.1" 200 -
2025-05-02 01:39:57,597 INFO [root]: --- Logging configured for main.py (File & Console) ---
2025-05-02 01:39:57,597 INFO [root]: Initializing DecisionEngine with model: Qwen/Qwen3-14B-AWQ...
2025-05-02 01:39:57,627 INFO [root]: Loading prompt template from: /mnt/c/Users/ryanw/OneDrive - Cal Poly Pomona/CPP Coding/CS3560/CS3560-WSS/PythonAI/prompts/default.txt
2025-05-02 01:39:57,628 INFO [root]: DecisionEngine initialized for model: Qwen/Qwen3-14B-AWQ
2025-05-02 01:39:57,629 INFO [root]: Sampling Params: Temp=0.6, TopP=0.95, PresencePenalty=None
2025-05-02 01:39:57,629 INFO [root]: DecisionEngine initialized successfully.
2025-05-02 01:39:57,630 INFO [root]: Starting Flask server on 0.0.0.0:5000
2025-05-02 01:39:57,638 INFO [werkzeug]: [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://172.31.197.234:5000
2025-05-02 01:39:57,638 INFO [werkzeug]: [33mPress CTRL+C to quit[0m
2025-05-02 01:40:16,556 INFO [root]: Received request on /reset endpoint.
2025-05-02 01:40:16,557 INFO [root]: AI memory reset successfully via /reset endpoint.
2025-05-02 01:40:16,557 INFO [werkzeug]: 127.0.0.1 - - [02/May/2025 01:40:16] "POST /reset HTTP/1.1" 200 -
2025-05-02 01:40:18,442 INFO [root]: Received request on /decide endpoint.
2025-05-02 01:40:18,443 INFO [root]: Sending request to model: Qwen/Qwen3-14B-AWQ
2025-05-02 01:40:32,207 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-02 01:40:32,210 INFO [root]: LLM generation finish reason: stop
2025-05-02 01:40:32,210 INFO [root]: Decision: MOVE EAST | Reason: Moving east into a Plains tile with -1 move cost and +3 Food/Water bonuses provides a net resource gain while progressing toward the goal. This avoids high-risk terrains and ensures survival by replenishing resources.
2025-05-02 01:40:32,210 INFO [root]: Decision received from engine: MOVE EAST
2025-05-02 01:40:32,210 INFO [werkzeug]: 127.0.0.1 - - [02/May/2025 01:40:32] "POST /decide HTTP/1.1" 200 -
2025-05-02 01:40:34,491 INFO [root]: Received request on /decide endpoint.
2025-05-02 01:40:34,492 INFO [root]: Sending request to model: Qwen/Qwen3-14B-AWQ
2025-05-02 01:40:56,816 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-02 01:40:56,817 INFO [root]: LLM generation finish reason: length
2025-05-02 01:40:56,817 ERROR [root]: LLM response content is None. Finish reason was: length
2025-05-02 01:40:56,817 INFO [root]: Decision: REST | Reason: LLM produced no content (finish_reason: length).
2025-05-02 01:40:56,817 INFO [root]: Decision received from engine: REST
2025-05-02 01:40:56,818 INFO [werkzeug]: 127.0.0.1 - - [02/May/2025 01:40:56] "POST /decide HTTP/1.1" 200 -
2025-05-02 01:40:59,100 INFO [root]: Received request on /decide endpoint.
2025-05-02 01:40:59,101 INFO [root]: Sending request to model: Qwen/Qwen3-14B-AWQ
2025-05-02 01:41:21,981 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-02 01:41:21,982 INFO [root]: LLM generation finish reason: length
2025-05-02 01:41:21,982 ERROR [root]: LLM response content is None. Finish reason was: length
2025-05-02 01:41:21,982 INFO [root]: Decision: REST | Reason: LLM produced no content (finish_reason: length).
2025-05-02 01:41:21,982 INFO [root]: Decision received from engine: REST
2025-05-02 01:41:21,983 INFO [werkzeug]: 127.0.0.1 - - [02/May/2025 01:41:21] "POST /decide HTTP/1.1" 200 -
2025-05-02 01:41:24,268 INFO [root]: Received request on /decide endpoint.
2025-05-02 01:41:24,269 INFO [root]: Sending request to model: Qwen/Qwen3-14B-AWQ
2025-05-02 01:41:43,269 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-02 01:41:43,270 INFO [root]: LLM generation finish reason: length
2025-05-02 01:41:43,270 ERROR [root]: LLM response content is None. Finish reason was: length
2025-05-02 01:41:43,270 INFO [root]: Decision: REST | Reason: LLM produced no content (finish_reason: length).
2025-05-02 01:41:43,271 INFO [root]: Decision received from engine: REST
2025-05-02 01:41:43,271 INFO [werkzeug]: 127.0.0.1 - - [02/May/2025 01:41:43] "POST /decide HTTP/1.1" 200 -
2025-05-02 01:41:45,563 INFO [root]: Received request on /decide endpoint.
2025-05-02 01:41:45,563 INFO [root]: Sending request to model: Qwen/Qwen3-14B-AWQ
2025-05-02 01:42:08,192 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-02 01:42:08,192 INFO [root]: LLM generation finish reason: length
2025-05-02 01:42:08,193 ERROR [root]: LLM response content is None. Finish reason was: length
2025-05-02 01:42:08,193 INFO [root]: Decision: REST | Reason: LLM produced no content (finish_reason: length).
2025-05-02 01:42:08,193 INFO [root]: Decision received from engine: REST
2025-05-02 01:42:08,193 INFO [werkzeug]: 127.0.0.1 - - [02/May/2025 01:42:08] "POST /decide HTTP/1.1" 200 -
2025-05-02 01:42:10,459 INFO [root]: Received request on /decide endpoint.
2025-05-02 01:42:10,459 INFO [root]: Sending request to model: Qwen/Qwen3-14B-AWQ
2025-05-02 01:42:34,008 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-02 01:42:34,009 INFO [root]: LLM generation finish reason: length
2025-05-02 01:42:34,009 ERROR [root]: LLM response content is None. Finish reason was: length
2025-05-02 01:42:34,009 INFO [root]: Decision: REST | Reason: LLM produced no content (finish_reason: length).
2025-05-02 01:42:34,009 INFO [root]: Decision received from engine: REST
2025-05-02 01:42:34,010 INFO [werkzeug]: 127.0.0.1 - - [02/May/2025 01:42:34] "POST /decide HTTP/1.1" 200 -
2025-05-02 01:42:36,314 INFO [root]: Received request on /decide endpoint.
2025-05-02 01:42:36,314 INFO [root]: Sending request to model: Qwen/Qwen3-14B-AWQ
2025-05-02 01:42:46,916 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-02 01:42:46,917 INFO [root]: LLM generation finish reason: stop
2025-05-02 01:42:46,917 INFO [root]: Decision: MOVE EAST | Reason: Moving east to the adjacent Plains tile with food and water bonuses will increase FOOD by 1 (from 10-2+3) and maintain WATER at 9 (9-1+1), while progressing toward the east goal. Resting further would waste resources, and trading is not viable without gold.
2025-05-02 01:42:46,917 INFO [root]: Decision received from engine: MOVE EAST
2025-05-02 01:42:46,917 INFO [werkzeug]: 127.0.0.1 - - [02/May/2025 01:42:46] "POST /decide HTTP/1.1" 200 -
2025-05-02 01:42:49,224 INFO [root]: Received request on /decide endpoint.
2025-05-02 01:42:49,225 INFO [root]: Sending request to model: Qwen/Qwen3-14B-AWQ
2025-05-02 01:42:58,368 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-02 01:42:58,368 INFO [root]: LLM generation finish reason: stop
2025-05-02 01:42:58,369 INFO [root]: Decision: MOVE EAST | Reason: Moving east into the adjacent Plains tile provides a net resource gain (+3 FOOD, +1 WATER) after accounting for movement costs, while maintaining all resources above zero. Continuing eastward is critical for progress toward the goal, and the tile's bonuses offset the resource expenditure.
2025-05-02 01:42:58,369 INFO [root]: Decision received from engine: MOVE EAST
2025-05-02 01:42:58,369 INFO [werkzeug]: 127.0.0.1 - - [02/May/2025 01:42:58] "POST /decide HTTP/1.1" 200 -
2025-05-02 01:43:00,658 INFO [root]: Received request on /decide endpoint.
2025-05-02 01:43:00,658 INFO [root]: Sending request to model: Qwen/Qwen3-14B-AWQ
2025-05-02 01:43:21,751 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-02 01:43:21,751 INFO [root]: LLM generation finish reason: stop
2025-05-02 01:43:21,751 INFO [root]: Decision: MOVE EAST | Reason: The player needs to progress eastward to escape. The current position (0,0) is at the western edge, and moving east is critical. The available Plains tiles nearby have low movement costs (-1) and provide food/water bonuses, which help sustain resources while advancing. Resting would waste turns and reduce resources unnecessarily. Moving east now leverages the Plains' benefits to maintain survival while making progress.
2025-05-02 01:43:21,752 INFO [root]: Decision received from engine: MOVE EAST
2025-05-02 01:43:21,752 INFO [werkzeug]: 127.0.0.1 - - [02/May/2025 01:43:21] "POST /decide HTTP/1.1" 200 -
2025-05-02 01:43:24,046 INFO [root]: Received request on /decide endpoint.
2025-05-02 01:43:24,046 INFO [root]: Sending request to model: Qwen/Qwen3-14B-AWQ
2025-05-02 01:43:46,714 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-02 01:43:46,714 INFO [root]: LLM generation finish reason: length
2025-05-02 01:43:46,715 INFO [root]: Decision: MOVE EAST | Reason: Moving east into the adjacent Forest tile allows the player to access repeating food and water bonuses (+4 Food, +
2025-05-02 01:43:46,715 INFO [root]: Decision received from engine: MOVE EAST
2025-05-02 01:43:46,715 INFO [werkzeug]: 127.0.0.1 - - [02/May/2025 01:43:46] "POST /decide HTTP/1.1" 200 -
2025-05-02 01:43:49,019 INFO [root]: Received request on /decide endpoint.
2025-05-02 01:43:49,019 INFO [root]: Sending request to model: Qwen/Qwen3-14B-AWQ
2025-05-02 01:44:08,828 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-02 01:44:08,828 INFO [root]: LLM generation finish reason: length
2025-05-02 01:44:08,829 ERROR [root]: LLM response content is None. Finish reason was: length
2025-05-02 01:44:08,829 INFO [root]: Decision: REST | Reason: LLM produced no content (finish_reason: length).
2025-05-02 01:44:08,829 INFO [root]: Decision received from engine: REST
2025-05-02 01:44:08,829 INFO [werkzeug]: 127.0.0.1 - - [02/May/2025 01:44:08] "POST /decide HTTP/1.1" 200 -
2025-05-02 01:44:11,120 INFO [root]: Received request on /decide endpoint.
2025-05-02 01:44:11,120 INFO [root]: Sending request to model: Qwen/Qwen3-14B-AWQ
2025-05-02 01:44:33,560 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-02 01:44:33,561 INFO [root]: LLM generation finish reason: length
2025-05-02 01:44:33,561 ERROR [root]: LLM response content is None. Finish reason was: length
2025-05-02 01:44:33,561 INFO [root]: Decision: REST | Reason: LLM produced no content (finish_reason: length).
2025-05-02 01:44:33,561 INFO [root]: Decision received from engine: REST
2025-05-02 01:44:33,562 INFO [werkzeug]: 127.0.0.1 - - [02/May/2025 01:44:33] "POST /decide HTTP/1.1" 200 -
2025-05-02 01:44:35,868 INFO [root]: Received request on /decide endpoint.
2025-05-02 01:44:35,869 INFO [root]: Sending request to model: Qwen/Qwen3-14B-AWQ
2025-05-02 01:44:58,270 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-02 01:44:58,270 INFO [root]: LLM generation finish reason: length
2025-05-02 01:44:58,271 ERROR [root]: LLM response content is None. Finish reason was: length
2025-05-02 01:44:58,271 INFO [root]: Decision: REST | Reason: LLM produced no content (finish_reason: length).
2025-05-02 01:44:58,271 INFO [root]: Decision received from engine: REST
2025-05-02 01:44:58,271 INFO [werkzeug]: 127.0.0.1 - - [02/May/2025 01:44:58] "POST /decide HTTP/1.1" 200 -
2025-05-02 01:45:00,563 INFO [root]: Received request on /decide endpoint.
2025-05-02 01:45:00,563 INFO [root]: Sending request to model: Qwen/Qwen3-14B-AWQ
2025-05-02 01:45:19,571 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-02 01:45:19,572 INFO [root]: LLM generation finish reason: length
2025-05-02 01:45:19,572 ERROR [root]: LLM response content is None. Finish reason was: length
2025-05-02 01:45:19,572 INFO [root]: Decision: REST | Reason: LLM produced no content (finish_reason: length).
2025-05-02 01:45:19,572 INFO [root]: Decision received from engine: REST
2025-05-02 01:45:19,573 INFO [werkzeug]: 127.0.0.1 - - [02/May/2025 01:45:19] "POST /decide HTTP/1.1" 200 -
2025-05-02 01:45:21,874 INFO [root]: Received request on /decide endpoint.
2025-05-02 01:45:21,874 INFO [root]: Sending request to model: Qwen/Qwen3-14B-AWQ
2025-05-02 01:45:45,523 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-02 01:45:45,524 INFO [root]: LLM generation finish reason: length
2025-05-02 01:45:45,524 INFO [root]: Decision: MOVE EAST | Reason: The player needs to progress eastward toward safety. The current tile offers a Forest with repeating
2025-05-02 01:45:45,524 INFO [root]: Decision received from engine: MOVE EAST
2025-05-02 01:45:45,525 INFO [werkzeug]: 127.0.0.1 - - [02/May/2025 01:45:45] "POST /decide HTTP/1.1" 200 -
2025-05-02 01:45:47,831 INFO [root]: Received request on /decide endpoint.
2025-05-02 01:45:47,832 INFO [root]: Sending request to model: Qwen/Qwen3-14B-AWQ
2025-05-02 01:46:08,385 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-02 01:46:08,386 INFO [root]: LLM generation finish reason: stop
2025-05-02 01:46:08,386 INFO [root]: Decision: MOVE EAST | Reason: The player is at (0,0) with sufficient resources (Food:13, Water:6, Energy:13). The adjacent eastern tiles are Plains, which have low costs (-1 Food, -1 Water) and provide recurring food/water bonuses. Moving east progresses toward the goal while maintaining resource safety. Resting would waste turns and reduce resources unnecessarily.
2025-05-02 01:46:08,386 INFO [root]: Decision received from engine: MOVE EAST
2025-05-02 01:46:08,386 INFO [werkzeug]: 127.0.0.1 - - [02/May/2025 01:46:08] "POST /decide HTTP/1.1" 200 -
2025-05-02 01:49:36,273 INFO [root]: --- Logging configured for main.py (File & Console) ---
2025-05-02 01:49:36,274 INFO [root]: Initializing DecisionEngine with model: Qwen/Qwen3-14B-AWQ...
2025-05-02 01:49:36,296 INFO [root]: Loading prompt template from: /mnt/c/Users/ryanw/OneDrive - Cal Poly Pomona/CPP Coding/CS3560/CS3560-WSS/PythonAI/prompts/default.txt
2025-05-02 01:49:36,297 INFO [root]: DecisionEngine initialized for model: Qwen/Qwen3-14B-AWQ
2025-05-02 01:49:36,297 INFO [root]: Sampling Params: Temp=0.6, TopP=0.95, PresencePenalty=None
2025-05-02 01:49:36,297 INFO [root]: DecisionEngine initialized successfully.
2025-05-02 01:49:36,298 INFO [root]: Starting Flask server on 0.0.0.0:5000
2025-05-02 01:49:36,303 INFO [werkzeug]: [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://172.31.197.234:5000
2025-05-02 01:49:36,304 INFO [werkzeug]: [33mPress CTRL+C to quit[0m
2025-05-02 01:49:57,199 INFO [root]: Received request on /reset endpoint.
2025-05-02 01:49:57,199 INFO [root]: AI memory reset successfully via /reset endpoint.
2025-05-02 01:49:57,199 INFO [werkzeug]: 127.0.0.1 - - [02/May/2025 01:49:57] "POST /reset HTTP/1.1" 200 -
2025-05-02 01:49:59,073 INFO [root]: Received request on /decide endpoint.
2025-05-02 01:49:59,073 INFO [root]: Sending request to model: Qwen/Qwen3-14B-AWQ
2025-05-02 01:50:22,696 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-02 01:50:22,701 INFO [root]: LLM generation finish reason: length
2025-05-02 01:50:22,701 ERROR [root]: LLM response content is None. Finish reason was: length
2025-05-02 01:50:22,701 INFO [root]: Decision: REST | Reason: LLM produced no content (finish_reason: length).
2025-05-02 01:50:22,701 INFO [root]: Decision received from engine: REST
2025-05-02 01:50:22,702 INFO [werkzeug]: 127.0.0.1 - - [02/May/2025 01:50:22] "POST /decide HTTP/1.1" 200 -
2025-05-02 01:50:25,004 INFO [root]: Received request on /decide endpoint.
2025-05-02 01:50:25,004 INFO [root]: Sending request to model: Qwen/Qwen3-14B-AWQ
2025-05-02 01:51:03,508 INFO [root]: --- Logging configured for main.py (File & Console) ---
2025-05-02 01:51:03,509 INFO [root]: Initializing DecisionEngine with model: Qwen/Qwen3-14B-AWQ...
2025-05-02 01:51:03,530 INFO [root]: Loading prompt template from: /mnt/c/Users/ryanw/OneDrive - Cal Poly Pomona/CPP Coding/CS3560/CS3560-WSS/PythonAI/prompts/default.txt
2025-05-02 01:51:03,531 INFO [root]: DecisionEngine initialized for model: Qwen/Qwen3-14B-AWQ
2025-05-02 01:51:03,531 INFO [root]: Sampling Params: Temp=0.6, TopP=0.95, PresencePenalty=None
2025-05-02 01:51:03,531 INFO [root]: DecisionEngine initialized successfully.
2025-05-02 01:51:03,532 INFO [root]: Starting Flask server on 0.0.0.0:5000
2025-05-02 01:51:03,537 INFO [werkzeug]: [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://172.31.197.234:5000
2025-05-02 01:51:03,537 INFO [werkzeug]: [33mPress CTRL+C to quit[0m
2025-05-02 01:51:30,025 INFO [root]: Received request on /reset endpoint.
2025-05-02 01:51:30,025 INFO [root]: AI memory reset successfully via /reset endpoint.
2025-05-02 01:51:30,025 INFO [werkzeug]: 127.0.0.1 - - [02/May/2025 01:51:30] "POST /reset HTTP/1.1" 200 -
2025-05-02 01:51:31,899 INFO [root]: Received request on /decide endpoint.
2025-05-02 01:51:31,900 INFO [root]: Sending request to model: Qwen/Qwen3-14B-AWQ
2025-05-02 01:51:46,309 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-02 01:51:46,314 INFO [root]: LLM generation finish reason: stop
2025-05-02 01:51:46,314 INFO [root]: Decision: MOVE EAST | Reason: The player starts at (0,0) with full resources and needs to progress east. The adjacent eastern tile is Plains with low costs (-1 FOOD, -1 WATER) and recurring bonuses (+4 FOOD, +1 WATER). Moving east here safely maintains resources while gaining immediate food/water boosts, aligning with the goal of advancing east without unnecessary risk.
2025-05-02 01:51:46,315 INFO [root]: Decision received from engine: MOVE EAST
2025-05-02 01:51:46,315 INFO [werkzeug]: 127.0.0.1 - - [02/May/2025 01:51:46] "POST /decide HTTP/1.1" 200 -
2025-05-02 01:51:48,587 INFO [root]: Received request on /decide endpoint.
2025-05-02 01:51:48,587 INFO [root]: Sending request to model: Qwen/Qwen3-14B-AWQ
2025-05-02 01:52:12,620 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-02 01:52:12,620 INFO [root]: LLM generation finish reason: stop
2025-05-02 01:52:12,621 INFO [root]: Decision: MOVE EAST | Reason: Moving east into the adjacent Plains tile provides a net resource gain (+2 Food, +2 Water) after accounting for movement costs, while progressing toward the east goal. The current resources (Food:12, Water:13) can sustain this move safely, and the repeating bonuses will help maintain supplies for future steps.
2025-05-02 01:52:12,621 INFO [root]: Decision received from engine: MOVE EAST
2025-05-02 01:52:12,621 INFO [werkzeug]: 127.0.0.1 - - [02/May/2025 01:52:12] "POST /decide HTTP/1.1" 200 -
2025-05-02 01:52:14,903 INFO [root]: Received request on /decide endpoint.
2025-05-02 01:52:14,904 INFO [root]: Sending request to model: Qwen/Qwen3-14B-AWQ
2025-05-02 01:52:54,508 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-02 01:52:54,509 INFO [root]: LLM generation finish reason: stop
2025-05-02 01:52:54,509 INFO [root]: Decision: MOVE EAST | Reason: Moving east into the Plains tile provides a net gain of +3 FOOD and +1 WATER while only costing 2 ENERGY. This ensures resource replenishment and safe progress toward the east, avoiding high-risk terrains like Desert.
2025-05-02 01:52:54,509 INFO [root]: Decision received from engine: MOVE EAST
2025-05-02 01:52:54,510 INFO [werkzeug]: 127.0.0.1 - - [02/May/2025 01:52:54] "POST /decide HTTP/1.1" 200 -
2025-05-02 01:52:56,804 INFO [root]: Received request on /decide endpoint.
2025-05-02 01:52:56,804 INFO [root]: Sending request to model: Qwen/Qwen3-14B-AWQ
2025-05-02 01:53:29,671 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-02 01:53:29,671 INFO [root]: LLM generation finish reason: stop
2025-05-02 01:53:29,672 INFO [root]: Decision: MOVE EAST | Reason: The player is at (0,0) with sufficient resources to move east into a Plains tile that provides net +2 FOOD and +1 WATER, which will sustain progress toward the east while replenishing critical resources. Moving east is the most direct path to the goal.
2025-05-02 01:53:29,672 INFO [root]: Decision received from engine: MOVE EAST
2025-05-02 01:53:29,672 INFO [werkzeug]: 127.0.0.1 - - [02/May/2025 01:53:29] "POST /decide HTTP/1.1" 200 -
2025-05-02 01:53:31,954 INFO [root]: Received request on /decide endpoint.
2025-05-02 01:53:31,954 INFO [root]: Sending request to model: Qwen/Qwen3-14B-AWQ
2025-05-02 01:54:09,470 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-02 01:54:09,470 INFO [root]: LLM generation finish reason: stop
2025-05-02 01:54:09,470 INFO [root]: Decision: REST | Reason: The player's Energy is low (5), and moving east would deplete it further. Resting increases Energy to 7 while only slightly reducing Food (15→14) and Water (7→6), ensuring survival and better preparation for future movement.
2025-05-02 01:54:09,471 INFO [root]: Decision received from engine: REST
2025-05-02 01:54:09,471 INFO [werkzeug]: 127.0.0.1 - - [02/May/2025 01:54:09] "POST /decide HTTP/1.1" 200 -
2025-05-02 01:54:11,772 INFO [root]: Received request on /decide endpoint.
2025-05-02 01:54:11,772 INFO [root]: Sending request to model: Qwen/Qwen3-14B-AWQ
2025-05-02 01:55:47,242 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-02 01:55:47,242 INFO [root]: LLM generation finish reason: stop
2025-05-02 01:55:47,243 INFO [root]: Decision: MOVE EAST | Reason: Moving east directly toward the goal, despite the water cost, as it keeps the player progressing east while maintaining all resources above zero (water would drop to 2, which is safe). The Desert tile is the only immediate option for eastward progress, and the player has sufficient food and water to survive the move.
2025-05-02 01:55:47,243 INFO [root]: Decision received from engine: MOVE EAST
2025-05-02 01:55:47,243 INFO [werkzeug]: 127.0.0.1 - - [02/May/2025 01:55:47] "POST /decide HTTP/1.1" 200 -
2025-05-02 01:55:49,526 INFO [root]: Received request on /decide endpoint.
2025-05-02 01:55:49,526 INFO [root]: Sending request to model: Qwen/Qwen3-14B-AWQ
2025-05-02 01:56:44,820 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-02 01:56:44,821 INFO [root]: LLM generation finish reason: stop
2025-05-02 01:56:44,821 INFO [root]: Decision: MOVE EAST | Reason: Moving east into a Plains tile with lower resource costs (-1 FOOD, -1 WATER) and replenishment bonuses (+2 FOOD, +3 WATER) preserves resources while making progress. This avoids high-cost Forest tiles and ensures Energy remains sufficient for future movement.
2025-05-02 01:56:44,821 INFO [root]: Decision received from engine: MOVE EAST
2025-05-02 01:56:44,821 INFO [werkzeug]: 127.0.0.1 - - [02/May/2025 01:56:44] "POST /decide HTTP/1.1" 200 -
2025-05-02 01:56:47,095 INFO [root]: Received request on /decide endpoint.
2025-05-02 01:56:47,095 INFO [root]: Sending request to model: Qwen/Qwen3-14B-AWQ
2025-05-02 01:57:33,516 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-02 01:57:33,516 INFO [root]: LLM generation finish reason: stop
2025-05-02 01:57:33,516 INFO [root]: Decision: MOVE EAST | Reason: Moving east into a Plains tile with move cost -1, food -1, and water -1 allows progress toward the goal while maintaining resources. The +2 food and +3 water bonuses offset the costs, ensuring survival and forward movement.
2025-05-02 01:57:33,517 INFO [root]: Decision received from engine: MOVE EAST
2025-05-02 01:57:33,517 INFO [werkzeug]: 127.0.0.1 - - [02/May/2025 01:57:33] "POST /decide HTTP/1.1" 200 -
2025-05-02 02:13:49,692 INFO [root]: --- Logging configured for main.py (File & Console) ---
2025-05-02 02:13:49,693 INFO [root]: Initializing DecisionEngine with model: Qwen/Qwen3-14B-AWQ...
2025-05-02 02:13:49,738 INFO [root]: Loading prompt template from: /mnt/c/Users/ryanw/OneDrive - Cal Poly Pomona/CPP Coding/CS3560/CS3560-WSS/PythonAI/prompts/default.txt
2025-05-02 02:13:49,739 INFO [root]: DecisionEngine initialized for model: Qwen/Qwen3-14B-AWQ
2025-05-02 02:13:49,740 INFO [root]: Sampling Params: Temp=0.6, TopP=0.95, PresencePenalty=None
2025-05-02 02:13:49,740 INFO [root]: DecisionEngine initialized successfully.
2025-05-02 02:13:49,740 INFO [root]: Starting Flask server on 0.0.0.0:5000
2025-05-02 02:13:49,749 INFO [werkzeug]: [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://172.31.197.234:5000
2025-05-02 02:13:49,749 INFO [werkzeug]: [33mPress CTRL+C to quit[0m
2025-05-02 02:14:23,822 INFO [root]: Received request on /reset endpoint.
2025-05-02 02:14:23,823 INFO [root]: AI memory reset successfully via /reset endpoint.
2025-05-02 02:14:23,823 INFO [werkzeug]: 127.0.0.1 - - [02/May/2025 02:14:23] "POST /reset HTTP/1.1" 200 -
2025-05-02 02:14:25,711 INFO [root]: Received request on /decide endpoint.
2025-05-02 02:14:25,712 INFO [root]: Sending request to model: Qwen/Qwen3-14B-AWQ
2025-05-02 02:14:34,686 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-02 02:14:34,689 INFO [root]: LLM generation finish reason: stop
2025-05-02 02:14:34,689 INFO [root]: Decision: MOVE EAST | Reason: Moving east to (+1,0) is a Plains tile with net resource gains (+1 FOOD, +2 WATER) after costs, allowing progress toward the east goal while boosting survival resources. No need to rest with high Energy (15) and safe, resource-positive movement options available.
2025-05-02 02:14:34,689 INFO [root]: Decision received from engine: MOVE EAST
2025-05-02 02:14:34,690 INFO [werkzeug]: 127.0.0.1 - - [02/May/2025 02:14:34] "POST /decide HTTP/1.1" 200 -
2025-05-02 02:14:36,981 INFO [root]: Received request on /decide endpoint.
2025-05-02 02:14:36,981 INFO [root]: Sending request to model: Qwen/Qwen3-14B-AWQ
2025-05-02 02:15:09,901 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-02 02:15:09,902 INFO [root]: LLM generation finish reason: stop
2025-05-02 02:15:09,902 INFO [root]: Decision: MOVE EAST | Reason: Moving east to the Plains tile (+1,0) provides a net gain of +3 FOOD and +1 WATER after accounting for costs, while making direct progress toward the east goal. Resources remain well above critical thresholds, and the tile's repeating bonuses ensure sustained survival. Resting is unnecessary with ample energy, and trading isn't viable here.
2025-05-02 02:15:09,902 INFO [root]: Decision received from engine: MOVE EAST
2025-05-02 02:15:09,903 INFO [werkzeug]: 127.0.0.1 - - [02/May/2025 02:15:09] "POST /decide HTTP/1.1" 200 -
2025-05-02 02:15:12,203 INFO [root]: Received request on /decide endpoint.
2025-05-02 02:15:12,204 INFO [root]: Sending request to model: Qwen/Qwen3-14B-AWQ
2025-05-02 02:15:47,323 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-02 02:15:47,324 INFO [root]: LLM generation finish reason: stop
2025-05-02 02:15:47,324 INFO [root]: Decision: MOVE EAST | Reason: Moving east to the adjacent Plains tile (+1,0) provides a net +0 Food and -1 Water (after bonuses), keeping resources well above critical levels. The move costs only 1 Energy (from 13 → 12), which is manageable. Prioritizing eastward progress on safe, resource-boosting Plains tiles aligns with the goal of reaching x ≥ 10 while maintaining survival. Resting would waste time without advancing progress, and trading is unnecessary with current resource levels.
2025-05-02 02:15:47,324 INFO [root]: Decision received from engine: MOVE EAST
2025-05-02 02:15:47,325 INFO [werkzeug]: 127.0.0.1 - - [02/May/2025 02:15:47] "POST /decide HTTP/1.1" 200 -
2025-05-02 02:15:49,620 INFO [root]: Received request on /decide endpoint.
2025-05-02 02:15:49,620 INFO [root]: Sending request to model: Qwen/Qwen3-14B-AWQ
2025-05-02 02:16:27,667 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-02 02:16:27,668 INFO [root]: LLM generation finish reason: stop
2025-05-02 02:16:27,668 INFO [root]: Decision: MOVE EAST | Reason: Moving east to (+1,0) provides a net +1 FOOD and +1 WATER (after bonuses), maintains safe resource levels, and progresses toward the east goal. The tile has repeating bonuses for long-term survival, and the adjacent tile (+2,0) has a trader for future resource trade. Energy remains at 10, which is sufficient for continued eastward movement.
2025-05-02 02:16:27,668 INFO [root]: Decision received from engine: MOVE EAST
2025-05-02 02:16:27,668 INFO [werkzeug]: 127.0.0.1 - - [02/May/2025 02:16:27] "POST /decide HTTP/1.1" 200 -
2025-05-02 02:16:29,963 INFO [root]: Received request on /decide endpoint.
2025-05-02 02:16:29,963 INFO [root]: Sending request to model: Qwen/Qwen3-14B-AWQ
2025-05-02 02:17:21,526 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-02 02:17:21,527 INFO [root]: LLM generation finish reason: stop
2025-05-02 02:17:21,527 INFO [root]: Decision: MOVE EAST | Reason: Moving east to a Plains tile with a trader and repeating bonuses (+2 Food, +2 Water) ensures safe progress toward the goal while maintaining resource levels. The net resource changes (Food: 15 → 16, Water: 15 → 15, Energy: 10 → 9) stay above critical thresholds, and the trader provides future trade opportunities. Resting is unnecessary here as energy is sufficient for movement and progress.
2025-05-02 02:17:21,527 INFO [root]: Decision received from engine: MOVE EAST
2025-05-02 02:17:21,528 INFO [werkzeug]: 127.0.0.1 - - [02/May/2025 02:17:21] "POST /decide HTTP/1.1" 200 -
2025-05-02 02:17:23,828 INFO [root]: Received request on /decide endpoint.
2025-05-02 02:17:23,828 INFO [root]: Sending request to model: Qwen/Qwen3-14B-AWQ
2025-05-02 02:17:50,723 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-02 02:17:50,723 INFO [root]: LLM generation finish reason: stop
2025-05-02 02:17:50,724 INFO [root]: Decision: MOVE EAST | Reason: The tile to the east (+1,0) is a Plains with a net gain of +3 FOOD and +1 WATER (after subtracting move costs) and a repeating Water bonus. Moving east safely increases resources while progressing toward the goal. Current resources (Food:15, Water:15, Energy:9) are sufficient to handle the move’s costs (-1 Energy, -1 Food, -2 Water) and maintain safety buffers. Prioritizing eastward movement on low-cost, high-bonus tiles aligns with survival and progress goals.
2025-05-02 02:17:50,724 INFO [root]: Decision received from engine: MOVE EAST
2025-05-02 02:17:50,724 INFO [werkzeug]: 127.0.0.1 - - [02/May/2025 02:17:50] "POST /decide HTTP/1.1" 200 -
2025-05-02 02:17:53,017 INFO [root]: Received request on /decide endpoint.
2025-05-02 02:17:53,018 INFO [root]: Sending request to model: Qwen/Qwen3-14B-AWQ
2025-05-02 02:18:58,801 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-02 02:18:58,801 INFO [root]: LLM generation finish reason: stop
2025-05-02 02:18:58,801 INFO [root]: Decision: MOVE EAST | Reason: Moving east to the Plains tile (+1,0) provides a net gain of +2 FOOD and +1 WATER (after subtracting costs) while allowing eastward progress. The move is safe (resources stay above 3) and leverages repeating bonuses for long-term survival. Resting would delay progress, and other directions either risk resource loss or hinder eastward movement.
2025-05-02 02:18:58,802 INFO [root]: Decision received from engine: MOVE EAST
2025-05-02 02:18:58,802 INFO [werkzeug]: 127.0.0.1 - - [02/May/2025 02:18:58] "POST /decide HTTP/1.1" 200 -
2025-05-02 02:19:01,097 INFO [root]: Received request on /decide endpoint.
2025-05-02 02:19:01,097 INFO [root]: Sending request to model: Qwen/Qwen3-14B-AWQ
2025-05-02 02:20:28,493 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-02 02:20:28,493 INFO [root]: LLM generation finish reason: stop
2025-05-02 02:20:28,494 INFO [root]: Decision: MOVE NORTHEAST | Reason: Moving NORTHEAST to a Plains tile with lower movement cost (-1) preserves more Energy (6 → 5) compared to moving EAST (-2, 6 → 4). This tile also provides +4 Food and +3 Water bonuses, improving resource totals (Food: 15 → 17, Water: 13 → 14) while maintaining safe resource levels. The diagonal move still progresses eastward and opens access to a nearby trader tile (2,-1) for future trading, balancing survival and progress.
2025-05-02 02:20:28,494 INFO [root]: Decision received from engine: MOVE NORTHEAST
2025-05-02 02:20:28,494 INFO [werkzeug]: 127.0.0.1 - - [02/May/2025 02:20:28] "POST /decide HTTP/1.1" 200 -
2025-05-02 02:20:30,786 INFO [root]: Received request on /decide endpoint.
2025-05-02 02:20:30,786 INFO [root]: Sending request to model: Qwen/Qwen3-14B-AWQ
2025-05-02 02:21:07,269 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-02 02:21:07,270 INFO [root]: LLM generation finish reason: stop
2025-05-02 02:21:07,270 INFO [root]: Decision: MOVE EAST | Reason: Moving east to the Plains tile (+1,0) allows progress toward the goal while maintaining resource safety. The move costs 1 FOOD and 2 WATER (resulting in 14 and 12, respectively) and 2 ENERGY (resulting in 3, which is safe). This tile offers repeating Food/Water bonuses and a Trader for future resource management, prioritizing eastward movement and long-term sustainability over resting or riskier terrain.
2025-05-02 02:21:07,270 INFO [root]: Decision received from engine: MOVE EAST
2025-05-02 02:21:07,271 INFO [werkzeug]: 127.0.0.1 - - [02/May/2025 02:21:07] "POST /decide HTTP/1.1" 200 -
2025-05-02 03:16:39,926 INFO [root]: --- Logging configured for main.py (File & Console) ---
2025-05-02 03:16:39,927 INFO [root]: Initializing DecisionEngine with model: Qwen/Qwen3-14B-AWQ...
2025-05-02 03:16:39,988 INFO [root]: Loading prompt template from: /mnt/c/Users/ryanw/OneDrive - Cal Poly Pomona/CPP Coding/CS3560/CS3560-WSS/PythonAI/prompts/default.txt
2025-05-02 03:16:39,989 INFO [root]: DecisionEngine initialized for model: Qwen/Qwen3-14B-AWQ
2025-05-02 03:16:39,989 INFO [root]: Sampling Params: Temp=0.6, TopP=0.95, PresencePenalty=None
2025-05-02 03:16:39,990 INFO [root]: DecisionEngine initialized successfully.
2025-05-02 03:16:39,991 INFO [root]: Starting Flask server on 0.0.0.0:5000
2025-05-02 03:16:40,003 INFO [werkzeug]: [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://172.31.197.234:5000
2025-05-02 03:16:40,003 INFO [werkzeug]: [33mPress CTRL+C to quit[0m
2025-05-02 03:17:04,458 INFO [root]: Received request on /reset endpoint.
2025-05-02 03:17:04,458 INFO [root]: AI memory reset successfully via /reset endpoint.
2025-05-02 03:17:04,459 INFO [werkzeug]: 127.0.0.1 - - [02/May/2025 03:17:04] "POST /reset HTTP/1.1" 200 -
2025-05-02 03:17:06,346 INFO [root]: Received request on /decide endpoint.
2025-05-02 03:17:06,347 INFO [root]: Sending request to model: Qwen/Qwen3-14B-AWQ
2025-05-02 03:20:38,138 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-02 03:20:38,142 INFO [root]: LLM generation finish reason: stop
2025-05-02 03:20:38,142 INFO [root]: Decision: MOVE EAST | Reason: Moving east to the Forest tile at (+2,0) provides a net neutral resource impact (food/water) with low movement cost (-2 energy) and repeating bonuses. This is a safe, efficient step toward the east goal while preserving resources. The Forest tile's moderate costs and bonuses make it ideal for progress without risk.
2025-05-02 03:20:38,142 INFO [root]: Decision received from engine: MOVE EAST
2025-05-02 03:20:38,143 INFO [werkzeug]: 127.0.0.1 - - [02/May/2025 03:20:38] "POST /decide HTTP/1.1" 200 -
2025-05-03 18:23:03,358 INFO [root]: --- Logging configured for main.py (File & Console) ---
2025-05-03 18:23:03,359 INFO [root]: Initializing DecisionEngine with model: Qwen/Qwen3-14B-AWQ...
2025-05-03 18:23:03,401 INFO [root]: Loading prompt template from: /mnt/c/Users/ryanw/OneDrive - Cal Poly Pomona/CPP Coding/CS3560/CS3560-WSS/PythonAI/prompts/default.txt
2025-05-03 18:23:03,402 INFO [root]: DecisionEngine initialized for model: Qwen/Qwen3-14B-AWQ
2025-05-03 18:23:03,402 INFO [root]: Sampling Params: Temp=0.6, TopP=0.95, PresencePenalty=None
2025-05-03 18:23:03,402 ERROR [root]: Failed to load prompt template from /mnt/c/Users/ryanw/OneDrive - Cal Poly Pomona/CPP Coding/CS3560/CS3560-WSS/PythonAI/trade_prompt.txt: [Errno 2] No such file or directory: '/mnt/c/Users/ryanw/OneDrive - Cal Poly Pomona/CPP Coding/CS3560/CS3560-WSS/PythonAI/trade_prompt.txt'
Traceback (most recent call last):
  File "/mnt/c/Users/ryanw/OneDrive - Cal Poly Pomona/CPP Coding/CS3560/CS3560-WSS/PythonAI/decision_engine.py", line 441, in _load_prompt_template
    with open(path, "r", encoding="utf-8") as f:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
FileNotFoundError: [Errno 2] No such file or directory: '/mnt/c/Users/ryanw/OneDrive - Cal Poly Pomona/CPP Coding/CS3560/CS3560-WSS/PythonAI/trade_prompt.txt'
2025-05-03 18:23:03,405 ERROR [root]: CRITICAL: Trade prompt template failed to load.
2025-05-03 18:23:03,405 INFO [root]: DecisionEngine initialized successfully.
2025-05-03 18:24:36,905 INFO [root]: --- Logging configured for main.py (File & Console) ---
2025-05-03 18:24:36,906 INFO [root]: Initializing DecisionEngine with model: Qwen/Qwen3-14B-AWQ...
2025-05-03 18:24:36,929 INFO [root]: Loading prompt template from: /mnt/c/Users/ryanw/OneDrive - Cal Poly Pomona/CPP Coding/CS3560/CS3560-WSS/PythonAI/prompts/default.txt
2025-05-03 18:24:36,931 INFO [root]: DecisionEngine initialized for model: Qwen/Qwen3-14B-AWQ
2025-05-03 18:24:36,931 INFO [root]: Sampling Params: Temp=0.6, TopP=0.95, PresencePenalty=None
2025-05-03 18:24:36,937 INFO [root]: Loading prompt template from: /mnt/c/Users/ryanw/OneDrive - Cal Poly Pomona/CPP Coding/CS3560/CS3560-WSS/PythonAI/prompts/trade_prompt.txt
2025-05-03 18:24:36,938 INFO [root]: DecisionEngine initialized successfully.
2025-05-03 18:24:47,156 INFO [root]: --- Logging configured for main.py (File & Console) ---
2025-05-03 18:24:47,157 INFO [root]: Initializing DecisionEngine with model: Qwen/Qwen3-14B-AWQ...
2025-05-03 18:24:47,182 INFO [root]: Loading prompt template from: /mnt/c/Users/ryanw/OneDrive - Cal Poly Pomona/CPP Coding/CS3560/CS3560-WSS/PythonAI/prompts/default.txt
2025-05-03 18:24:47,183 INFO [root]: DecisionEngine initialized for model: Qwen/Qwen3-14B-AWQ
2025-05-03 18:24:47,184 INFO [root]: Sampling Params: Temp=0.6, TopP=0.95, PresencePenalty=None
2025-05-03 18:24:47,185 INFO [root]: Loading prompt template from: /mnt/c/Users/ryanw/OneDrive - Cal Poly Pomona/CPP Coding/CS3560/CS3560-WSS/PythonAI/prompts/trade_prompt.txt
2025-05-03 18:24:47,186 INFO [root]: DecisionEngine initialized successfully.
2025-05-03 18:25:29,891 INFO [root]: --- Logging configured for main.py (File & Console) ---
2025-05-03 18:25:29,892 INFO [root]: Initializing DecisionEngine with model: Qwen/Qwen3-14B-AWQ...
2025-05-03 18:25:29,917 INFO [root]: Loading prompt template from: /mnt/c/Users/ryanw/OneDrive - Cal Poly Pomona/CPP Coding/CS3560/CS3560-WSS/PythonAI/prompts/default.txt
2025-05-03 18:25:29,918 INFO [root]: DecisionEngine initialized for model: Qwen/Qwen3-14B-AWQ
2025-05-03 18:25:29,918 INFO [root]: Sampling Params: Temp=0.6, TopP=0.95, PresencePenalty=None
2025-05-03 18:25:29,920 INFO [root]: Loading prompt template from: /mnt/c/Users/ryanw/OneDrive - Cal Poly Pomona/CPP Coding/CS3560/CS3560-WSS/PythonAI/prompts/trade_prompt.txt
2025-05-03 18:25:29,920 INFO [root]: DecisionEngine initialized successfully.
2025-05-03 18:27:40,035 INFO [root]: --- Logging configured for main.py (File & Console) ---
2025-05-03 18:27:40,036 INFO [root]: Initializing DecisionEngine with model: Qwen/Qwen3-14B-AWQ...
2025-05-03 18:27:40,060 INFO [root]: Loading prompt template from: /mnt/c/Users/ryanw/OneDrive - Cal Poly Pomona/CPP Coding/CS3560/CS3560-WSS/PythonAI/prompts/default.txt
2025-05-03 18:27:40,061 INFO [root]: DecisionEngine initialized for model: Qwen/Qwen3-14B-AWQ
2025-05-03 18:27:40,061 INFO [root]: Sampling Params: Temp=0.6, TopP=0.95, PresencePenalty=None
2025-05-03 18:27:40,062 INFO [root]: Loading prompt template from: /mnt/c/Users/ryanw/OneDrive - Cal Poly Pomona/CPP Coding/CS3560/CS3560-WSS/PythonAI/prompts/trade_prompt.txt
2025-05-03 18:27:40,063 INFO [root]: DecisionEngine initialized successfully.
2025-05-03 18:27:40,064 INFO [root]: Starting Flask server on 0.0.0.0:5000
2025-05-03 18:27:40,073 INFO [werkzeug]: [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://172.31.197.234:5000
2025-05-03 18:27:40,073 INFO [werkzeug]: [33mPress CTRL+C to quit[0m
2025-05-03 18:28:13,840 INFO [root]: Received request on /reset endpoint.
2025-05-03 18:28:13,841 INFO [root]: AI memory reset successfully via /reset endpoint.
2025-05-03 18:28:13,841 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 18:28:13] "POST /reset HTTP/1.1" 200 -
2025-05-03 18:28:15,770 INFO [root]: Received request on /decide endpoint.
2025-05-03 18:28:15,771 INFO [root]: Sending request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 18:28:45,713 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 18:28:45,717 INFO [root]: LLM generation finish reason: stop
2025-05-03 18:28:45,717 INFO [root]: Decision: MOVE NORTH | Reason: Moving north to the Plains tile at (0,-1) provides a net gain of +3 FOOD and +1 WATER after accounting for the tile's costs and bonuses. This strengthens resources while avoiding high-risk terrains like Desert or Mountain. The Trader presence here also offers future trade opportunities, supporting long-term survival and progress toward the east.
2025-05-03 18:28:45,717 INFO [root]: Decision received from engine: MOVE NORTH
2025-05-03 18:28:45,717 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 18:28:45] "POST /decide HTTP/1.1" 200 -
2025-05-03 18:28:48,040 INFO [root]: Received request on /decide endpoint.
2025-05-03 18:28:48,041 INFO [root]: Sending request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 18:29:11,184 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 18:29:11,184 INFO [root]: LLM generation finish reason: stop
2025-05-03 18:29:11,185 INFO [root]: Decision: MOVE EAST | Reason: Moving east to (+1,0) provides a net 0 food and -1 water (15 → 14), which is safe and maintains progress toward the east goal. While the northern tile offers resource gains, eastward movement is prioritized to avoid stagnation. The water drop is minimal and within the safety buffer, ensuring survival while advancing.
2025-05-03 18:29:11,185 INFO [root]: Decision received from engine: MOVE EAST
2025-05-03 18:29:11,185 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 18:29:11] "POST /decide HTTP/1.1" 200 -
2025-05-03 18:29:13,522 INFO [root]: Received request on /decide endpoint.
2025-05-03 18:29:13,522 INFO [root]: Sending request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 18:29:49,561 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 18:29:49,562 INFO [root]: LLM generation finish reason: stop
2025-05-03 18:29:49,562 INFO [root]: Decision: MOVE NORTHEAST | Reason: Moving NORTHEAST to the Forest tile provides a net +1 FOOD and +1 WATER after accounting for costs, while making progress eastward. This avoids the high-cost Desert tiles immediately east and ensures resource gains to support continued movement. Energy drops to 10, which is safe and allows further progress.
2025-05-03 18:29:49,562 INFO [root]: Decision received from engine: MOVE NORTHEAST
2025-05-03 18:29:49,563 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 18:29:49] "POST /decide HTTP/1.1" 200 -
2025-05-03 18:29:51,897 INFO [root]: Received request on /decide endpoint.
2025-05-03 18:29:51,898 INFO [root]: Sending request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 18:30:49,698 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 18:30:49,698 INFO [root]: LLM generation finish reason: stop
2025-05-03 18:30:49,698 INFO [root]: Decision: MOVE EAST | Reason: Moving east to the adjacent Plains tile provides a net gain in food (+3) and water (+1) after accounting for costs, while maintaining safe resource levels. This move progresses eastward toward the goal and leverages the tile's trader for future trade opportunities. Resting is unnecessary here as energy (11) is sufficient for movement, and resources are well above critical thresholds.
2025-05-03 18:30:49,699 INFO [root]: Decision received from engine: MOVE EAST
2025-05-03 18:30:49,699 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 18:30:49] "POST /decide HTTP/1.1" 200 -
2025-05-03 18:30:52,050 INFO [root]: Received request on /decide endpoint.
2025-05-03 18:30:52,051 INFO [root]: Sending request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 18:31:35,070 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 18:31:35,070 INFO [root]: LLM generation finish reason: stop
2025-05-03 18:31:35,071 INFO [root]: Decision: MOVE EAST | Reason: Moving east to the Plains tile (+1,0) provides a safe, resource-efficient step toward the goal. The move subtracts 2 Energy (10 → 8), 1 Food (15 → 14), and 1 Water (15 → 14), but the tile’s bonuses (+2 Food, +1 Water) restore resources to 16 Food and 15 Water, netting a slight gain. This avoids risky terrain like Desert or Mountain and keeps progress eastward. Resting is unnecessary here, as Energy remains sufficient for movement and resources are well above critical thresholds.
2025-05-03 18:31:35,071 INFO [root]: Decision received from engine: MOVE EAST
2025-05-03 18:31:35,071 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 18:31:35] "POST /decide HTTP/1.1" 200 -
2025-05-03 18:31:37,380 INFO [root]: Received request on /decide endpoint.
2025-05-03 18:31:37,380 INFO [root]: Sending request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 18:32:16,778 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 18:32:16,779 INFO [root]: LLM generation finish reason: stop
2025-05-03 18:32:16,779 INFO [root]: Decision: MOVE NORTHEAST | Reason: Moving northeast to the Forest tile provides significant resource gains (+5 Food, +4 Water) after accounting for costs, while only reducing Energy by 2 (to 6). This improves survival margins and allows progress eastward safely, avoiding the high-cost Mountain tile to the immediate east. The net resource increase supports continued movement without risking depletion.
2025-05-03 18:32:16,779 INFO [root]: Decision received from engine: MOVE NORTHEAST
2025-05-03 18:32:16,780 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 18:32:16] "POST /decide HTTP/1.1" 200 -
2025-05-03 18:32:19,344 INFO [root]: Received request on /decide endpoint.
2025-05-03 18:32:19,344 INFO [root]: Sending request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 18:33:00,641 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 18:33:00,642 INFO [root]: LLM generation finish reason: stop
2025-05-03 18:33:00,642 INFO [root]: Decision: MOVE NORTHEAST | Reason: Moving NORTHEAST to a Plains tile with Food and Water bonuses (+2 Food, +1 Water) and a Trader, while subtracting only 2 Energy (leaving 6) and netting no resource loss after bonuses. This maintains resource safety, provides immediate benefits, and accesses a Trader for future trade opportunities. Avoiding high-cost Mountain terrain and unexplored tiles ensures survival while progressing eastward.
2025-05-03 18:33:00,642 INFO [root]: Decision received from engine: MOVE NORTHEAST
2025-05-03 18:33:00,642 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 18:33:00] "POST /decide HTTP/1.1" 200 -
2025-05-03 18:33:02,967 INFO [root]: Received request on /decide endpoint.
2025-05-03 18:33:02,968 INFO [root]: Sending request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 18:33:24,884 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 18:33:24,884 INFO [root]: LLM generation finish reason: stop
2025-05-03 18:33:24,884 INFO [root]: Decision: REST | Reason: All adjacent tiles are unknown ([???]), making any movement invalid. Resting preserves resources and allows recovery of energy without risking resource depletion.
2025-05-03 18:33:24,885 INFO [root]: Decision received from engine: REST
2025-05-03 18:33:24,885 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 18:33:24] "POST /decide HTTP/1.1" 200 -
2025-05-03 18:41:58,164 INFO [root]: --- Logging configured for main.py (File & Console) ---
2025-05-03 18:41:58,165 INFO [root]: Initializing DecisionEngine with model: Qwen/Qwen3-14B-AWQ...
2025-05-03 18:41:58,191 INFO [root]: Loading prompt template from: /mnt/c/Users/ryanw/OneDrive - Cal Poly Pomona/CPP Coding/CS3560/CS3560-WSS/PythonAI/prompts/default.txt
2025-05-03 18:41:58,192 INFO [root]: DecisionEngine initialized for model: Qwen/Qwen3-14B-AWQ
2025-05-03 18:41:58,192 INFO [root]: Sampling Params: Temp=0.6, TopP=0.95, PresencePenalty=None
2025-05-03 18:41:58,193 INFO [root]: Loading prompt template from: /mnt/c/Users/ryanw/OneDrive - Cal Poly Pomona/CPP Coding/CS3560/CS3560-WSS/PythonAI/prompts/trade_prompt.txt
2025-05-03 18:41:58,194 INFO [root]: DecisionEngine initialized successfully.
2025-05-03 18:41:58,195 INFO [root]: Starting Flask server on 0.0.0.0:5000
2025-05-03 18:41:58,201 INFO [werkzeug]: [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://172.31.197.234:5000
2025-05-03 18:41:58,201 INFO [werkzeug]: [33mPress CTRL+C to quit[0m
2025-05-03 18:42:15,296 INFO [root]: Received request on /reset endpoint.
2025-05-03 18:42:15,296 INFO [root]: AI memory reset successfully via /reset endpoint.
2025-05-03 18:42:15,296 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 18:42:15] "POST /reset HTTP/1.1" 200 -
2025-05-03 18:42:17,210 INFO [root]: Received request on /decide endpoint.
2025-05-03 18:42:17,210 ERROR [root]: CRITICAL: Unhandled exception in /decide endpoint!
Traceback (most recent call last):
  File "/mnt/c/Users/ryanw/OneDrive - Cal Poly Pomona/CPP Coding/CS3560/CS3560-WSS/PythonAI/main.py", line 106, in decide
    decision = engine.make_decision(
               ^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/c/Users/ryanw/OneDrive - Cal Poly Pomona/CPP Coding/CS3560/CS3560-WSS/PythonAI/decision_engine.py", line 88, in make_decision
    logging.debug(f"Received visible_terrain data structure:\n{json.dumps(visible_terrain, indent=2)}")
                                                               ^^^^
NameError: name 'json' is not defined. Did you forget to import 'json'
2025-05-03 18:42:17,216 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 18:42:17] "[35m[1mPOST /decide HTTP/1.1[0m" 500 -
2025-05-03 18:42:19,530 INFO [root]: Received request on /decide endpoint.
2025-05-03 18:42:19,531 ERROR [root]: CRITICAL: Unhandled exception in /decide endpoint!
Traceback (most recent call last):
  File "/mnt/c/Users/ryanw/OneDrive - Cal Poly Pomona/CPP Coding/CS3560/CS3560-WSS/PythonAI/main.py", line 106, in decide
    decision = engine.make_decision(
               ^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/c/Users/ryanw/OneDrive - Cal Poly Pomona/CPP Coding/CS3560/CS3560-WSS/PythonAI/decision_engine.py", line 88, in make_decision
    logging.debug(f"Received visible_terrain data structure:\n{json.dumps(visible_terrain, indent=2)}")
                                                               ^^^^
NameError: name 'json' is not defined. Did you forget to import 'json'
2025-05-03 18:42:19,532 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 18:42:19] "[35m[1mPOST /decide HTTP/1.1[0m" 500 -
2025-05-03 18:42:21,862 INFO [root]: Received request on /decide endpoint.
2025-05-03 18:42:21,863 ERROR [root]: CRITICAL: Unhandled exception in /decide endpoint!
Traceback (most recent call last):
  File "/mnt/c/Users/ryanw/OneDrive - Cal Poly Pomona/CPP Coding/CS3560/CS3560-WSS/PythonAI/main.py", line 106, in decide
    decision = engine.make_decision(
               ^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/c/Users/ryanw/OneDrive - Cal Poly Pomona/CPP Coding/CS3560/CS3560-WSS/PythonAI/decision_engine.py", line 88, in make_decision
    logging.debug(f"Received visible_terrain data structure:\n{json.dumps(visible_terrain, indent=2)}")
                                                               ^^^^
NameError: name 'json' is not defined. Did you forget to import 'json'
2025-05-03 18:42:21,864 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 18:42:21] "[35m[1mPOST /decide HTTP/1.1[0m" 500 -
2025-05-03 18:42:24,196 INFO [root]: Received request on /decide endpoint.
2025-05-03 18:42:24,196 ERROR [root]: CRITICAL: Unhandled exception in /decide endpoint!
Traceback (most recent call last):
  File "/mnt/c/Users/ryanw/OneDrive - Cal Poly Pomona/CPP Coding/CS3560/CS3560-WSS/PythonAI/main.py", line 106, in decide
    decision = engine.make_decision(
               ^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/c/Users/ryanw/OneDrive - Cal Poly Pomona/CPP Coding/CS3560/CS3560-WSS/PythonAI/decision_engine.py", line 88, in make_decision
    logging.debug(f"Received visible_terrain data structure:\n{json.dumps(visible_terrain, indent=2)}")
                                                               ^^^^
NameError: name 'json' is not defined. Did you forget to import 'json'
2025-05-03 18:42:24,198 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 18:42:24] "[35m[1mPOST /decide HTTP/1.1[0m" 500 -
2025-05-03 18:42:26,517 INFO [root]: Received request on /decide endpoint.
2025-05-03 18:42:26,517 ERROR [root]: CRITICAL: Unhandled exception in /decide endpoint!
Traceback (most recent call last):
  File "/mnt/c/Users/ryanw/OneDrive - Cal Poly Pomona/CPP Coding/CS3560/CS3560-WSS/PythonAI/main.py", line 106, in decide
    decision = engine.make_decision(
               ^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/c/Users/ryanw/OneDrive - Cal Poly Pomona/CPP Coding/CS3560/CS3560-WSS/PythonAI/decision_engine.py", line 88, in make_decision
    logging.debug(f"Received visible_terrain data structure:\n{json.dumps(visible_terrain, indent=2)}")
                                                               ^^^^
NameError: name 'json' is not defined. Did you forget to import 'json'
2025-05-03 18:42:26,519 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 18:42:26] "[35m[1mPOST /decide HTTP/1.1[0m" 500 -
2025-05-03 18:42:28,865 INFO [root]: Received request on /decide endpoint.
2025-05-03 18:42:28,865 ERROR [root]: CRITICAL: Unhandled exception in /decide endpoint!
Traceback (most recent call last):
  File "/mnt/c/Users/ryanw/OneDrive - Cal Poly Pomona/CPP Coding/CS3560/CS3560-WSS/PythonAI/main.py", line 106, in decide
    decision = engine.make_decision(
               ^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/c/Users/ryanw/OneDrive - Cal Poly Pomona/CPP Coding/CS3560/CS3560-WSS/PythonAI/decision_engine.py", line 88, in make_decision
    logging.debug(f"Received visible_terrain data structure:\n{json.dumps(visible_terrain, indent=2)}")
                                                               ^^^^
NameError: name 'json' is not defined. Did you forget to import 'json'
2025-05-03 18:42:28,867 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 18:42:28] "[35m[1mPOST /decide HTTP/1.1[0m" 500 -
2025-05-03 18:42:31,200 INFO [root]: Received request on /decide endpoint.
2025-05-03 18:42:31,200 ERROR [root]: CRITICAL: Unhandled exception in /decide endpoint!
Traceback (most recent call last):
  File "/mnt/c/Users/ryanw/OneDrive - Cal Poly Pomona/CPP Coding/CS3560/CS3560-WSS/PythonAI/main.py", line 106, in decide
    decision = engine.make_decision(
               ^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/c/Users/ryanw/OneDrive - Cal Poly Pomona/CPP Coding/CS3560/CS3560-WSS/PythonAI/decision_engine.py", line 88, in make_decision
    logging.debug(f"Received visible_terrain data structure:\n{json.dumps(visible_terrain, indent=2)}")
                                                               ^^^^
NameError: name 'json' is not defined. Did you forget to import 'json'
2025-05-03 18:42:31,202 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 18:42:31] "[35m[1mPOST /decide HTTP/1.1[0m" 500 -
2025-05-03 18:42:33,519 INFO [root]: Received request on /decide endpoint.
2025-05-03 18:42:33,520 ERROR [root]: CRITICAL: Unhandled exception in /decide endpoint!
Traceback (most recent call last):
  File "/mnt/c/Users/ryanw/OneDrive - Cal Poly Pomona/CPP Coding/CS3560/CS3560-WSS/PythonAI/main.py", line 106, in decide
    decision = engine.make_decision(
               ^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/c/Users/ryanw/OneDrive - Cal Poly Pomona/CPP Coding/CS3560/CS3560-WSS/PythonAI/decision_engine.py", line 88, in make_decision
    logging.debug(f"Received visible_terrain data structure:\n{json.dumps(visible_terrain, indent=2)}")
                                                               ^^^^
NameError: name 'json' is not defined. Did you forget to import 'json'
2025-05-03 18:42:33,521 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 18:42:33] "[35m[1mPOST /decide HTTP/1.1[0m" 500 -
2025-05-03 18:42:35,851 INFO [root]: Received request on /decide endpoint.
2025-05-03 18:42:35,852 ERROR [root]: CRITICAL: Unhandled exception in /decide endpoint!
Traceback (most recent call last):
  File "/mnt/c/Users/ryanw/OneDrive - Cal Poly Pomona/CPP Coding/CS3560/CS3560-WSS/PythonAI/main.py", line 106, in decide
    decision = engine.make_decision(
               ^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/c/Users/ryanw/OneDrive - Cal Poly Pomona/CPP Coding/CS3560/CS3560-WSS/PythonAI/decision_engine.py", line 88, in make_decision
    logging.debug(f"Received visible_terrain data structure:\n{json.dumps(visible_terrain, indent=2)}")
                                                               ^^^^
NameError: name 'json' is not defined. Did you forget to import 'json'
2025-05-03 18:42:35,854 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 18:42:35] "[35m[1mPOST /decide HTTP/1.1[0m" 500 -
2025-05-03 18:42:38,171 INFO [root]: Received request on /decide endpoint.
2025-05-03 18:42:38,171 ERROR [root]: CRITICAL: Unhandled exception in /decide endpoint!
Traceback (most recent call last):
  File "/mnt/c/Users/ryanw/OneDrive - Cal Poly Pomona/CPP Coding/CS3560/CS3560-WSS/PythonAI/main.py", line 106, in decide
    decision = engine.make_decision(
               ^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/c/Users/ryanw/OneDrive - Cal Poly Pomona/CPP Coding/CS3560/CS3560-WSS/PythonAI/decision_engine.py", line 88, in make_decision
    logging.debug(f"Received visible_terrain data structure:\n{json.dumps(visible_terrain, indent=2)}")
                                                               ^^^^
NameError: name 'json' is not defined. Did you forget to import 'json'
2025-05-03 18:42:38,173 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 18:42:38] "[35m[1mPOST /decide HTTP/1.1[0m" 500 -
2025-05-03 18:42:43,451 INFO [root]: Received request on /decide endpoint.
2025-05-03 18:42:43,451 ERROR [root]: CRITICAL: Unhandled exception in /decide endpoint!
Traceback (most recent call last):
  File "/mnt/c/Users/ryanw/OneDrive - Cal Poly Pomona/CPP Coding/CS3560/CS3560-WSS/PythonAI/main.py", line 106, in decide
    decision = engine.make_decision(
               ^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/c/Users/ryanw/OneDrive - Cal Poly Pomona/CPP Coding/CS3560/CS3560-WSS/PythonAI/decision_engine.py", line 88, in make_decision
    logging.debug(f"Received visible_terrain data structure:\n{json.dumps(visible_terrain, indent=2)}")
                                                               ^^^^
NameError: name 'json' is not defined. Did you forget to import 'json'
2025-05-03 18:42:43,453 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 18:42:43] "[35m[1mPOST /decide HTTP/1.1[0m" 500 -
2025-05-03 18:42:45,771 INFO [root]: Received request on /decide endpoint.
2025-05-03 18:42:45,771 ERROR [root]: CRITICAL: Unhandled exception in /decide endpoint!
Traceback (most recent call last):
  File "/mnt/c/Users/ryanw/OneDrive - Cal Poly Pomona/CPP Coding/CS3560/CS3560-WSS/PythonAI/main.py", line 106, in decide
    decision = engine.make_decision(
               ^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/c/Users/ryanw/OneDrive - Cal Poly Pomona/CPP Coding/CS3560/CS3560-WSS/PythonAI/decision_engine.py", line 88, in make_decision
    logging.debug(f"Received visible_terrain data structure:\n{json.dumps(visible_terrain, indent=2)}")
                                                               ^^^^
NameError: name 'json' is not defined. Did you forget to import 'json'
2025-05-03 18:42:45,773 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 18:42:45] "[35m[1mPOST /decide HTTP/1.1[0m" 500 -
2025-05-03 18:42:48,095 INFO [root]: Received request on /decide endpoint.
2025-05-03 18:42:48,096 ERROR [root]: CRITICAL: Unhandled exception in /decide endpoint!
Traceback (most recent call last):
  File "/mnt/c/Users/ryanw/OneDrive - Cal Poly Pomona/CPP Coding/CS3560/CS3560-WSS/PythonAI/main.py", line 106, in decide
    decision = engine.make_decision(
               ^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/c/Users/ryanw/OneDrive - Cal Poly Pomona/CPP Coding/CS3560/CS3560-WSS/PythonAI/decision_engine.py", line 88, in make_decision
    logging.debug(f"Received visible_terrain data structure:\n{json.dumps(visible_terrain, indent=2)}")
                                                               ^^^^
NameError: name 'json' is not defined. Did you forget to import 'json'
2025-05-03 18:42:48,098 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 18:42:48] "[35m[1mPOST /decide HTTP/1.1[0m" 500 -
2025-05-03 18:42:50,414 INFO [root]: Received request on /decide endpoint.
2025-05-03 18:42:50,415 ERROR [root]: CRITICAL: Unhandled exception in /decide endpoint!
Traceback (most recent call last):
  File "/mnt/c/Users/ryanw/OneDrive - Cal Poly Pomona/CPP Coding/CS3560/CS3560-WSS/PythonAI/main.py", line 106, in decide
    decision = engine.make_decision(
               ^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/c/Users/ryanw/OneDrive - Cal Poly Pomona/CPP Coding/CS3560/CS3560-WSS/PythonAI/decision_engine.py", line 88, in make_decision
    logging.debug(f"Received visible_terrain data structure:\n{json.dumps(visible_terrain, indent=2)}")
                                                               ^^^^
NameError: name 'json' is not defined. Did you forget to import 'json'
2025-05-03 18:42:50,417 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 18:42:50] "[35m[1mPOST /decide HTTP/1.1[0m" 500 -
2025-05-03 18:42:52,745 INFO [root]: Received request on /decide endpoint.
2025-05-03 18:42:52,746 ERROR [root]: CRITICAL: Unhandled exception in /decide endpoint!
Traceback (most recent call last):
  File "/mnt/c/Users/ryanw/OneDrive - Cal Poly Pomona/CPP Coding/CS3560/CS3560-WSS/PythonAI/main.py", line 106, in decide
    decision = engine.make_decision(
               ^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/c/Users/ryanw/OneDrive - Cal Poly Pomona/CPP Coding/CS3560/CS3560-WSS/PythonAI/decision_engine.py", line 88, in make_decision
    logging.debug(f"Received visible_terrain data structure:\n{json.dumps(visible_terrain, indent=2)}")
                                                               ^^^^
NameError: name 'json' is not defined. Did you forget to import 'json'
2025-05-03 18:42:52,747 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 18:42:52] "[35m[1mPOST /decide HTTP/1.1[0m" 500 -
2025-05-03 18:42:55,078 INFO [root]: Received request on /decide endpoint.
2025-05-03 18:42:55,078 ERROR [root]: CRITICAL: Unhandled exception in /decide endpoint!
Traceback (most recent call last):
  File "/mnt/c/Users/ryanw/OneDrive - Cal Poly Pomona/CPP Coding/CS3560/CS3560-WSS/PythonAI/main.py", line 106, in decide
    decision = engine.make_decision(
               ^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/c/Users/ryanw/OneDrive - Cal Poly Pomona/CPP Coding/CS3560/CS3560-WSS/PythonAI/decision_engine.py", line 88, in make_decision
    logging.debug(f"Received visible_terrain data structure:\n{json.dumps(visible_terrain, indent=2)}")
                                                               ^^^^
NameError: name 'json' is not defined. Did you forget to import 'json'
2025-05-03 18:42:55,080 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 18:42:55] "[35m[1mPOST /decide HTTP/1.1[0m" 500 -
2025-05-03 18:42:57,411 INFO [root]: Received request on /decide endpoint.
2025-05-03 18:42:57,411 ERROR [root]: CRITICAL: Unhandled exception in /decide endpoint!
Traceback (most recent call last):
  File "/mnt/c/Users/ryanw/OneDrive - Cal Poly Pomona/CPP Coding/CS3560/CS3560-WSS/PythonAI/main.py", line 106, in decide
    decision = engine.make_decision(
               ^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/c/Users/ryanw/OneDrive - Cal Poly Pomona/CPP Coding/CS3560/CS3560-WSS/PythonAI/decision_engine.py", line 88, in make_decision
    logging.debug(f"Received visible_terrain data structure:\n{json.dumps(visible_terrain, indent=2)}")
                                                               ^^^^
NameError: name 'json' is not defined. Did you forget to import 'json'
2025-05-03 18:42:57,413 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 18:42:57] "[35m[1mPOST /decide HTTP/1.1[0m" 500 -
2025-05-03 18:42:59,745 INFO [root]: Received request on /decide endpoint.
2025-05-03 18:42:59,746 ERROR [root]: CRITICAL: Unhandled exception in /decide endpoint!
Traceback (most recent call last):
  File "/mnt/c/Users/ryanw/OneDrive - Cal Poly Pomona/CPP Coding/CS3560/CS3560-WSS/PythonAI/main.py", line 106, in decide
    decision = engine.make_decision(
               ^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/c/Users/ryanw/OneDrive - Cal Poly Pomona/CPP Coding/CS3560/CS3560-WSS/PythonAI/decision_engine.py", line 88, in make_decision
    logging.debug(f"Received visible_terrain data structure:\n{json.dumps(visible_terrain, indent=2)}")
                                                               ^^^^
NameError: name 'json' is not defined. Did you forget to import 'json'
2025-05-03 18:42:59,748 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 18:42:59] "[35m[1mPOST /decide HTTP/1.1[0m" 500 -
2025-05-03 18:43:02,067 INFO [root]: Received request on /decide endpoint.
2025-05-03 18:43:02,067 ERROR [root]: CRITICAL: Unhandled exception in /decide endpoint!
Traceback (most recent call last):
  File "/mnt/c/Users/ryanw/OneDrive - Cal Poly Pomona/CPP Coding/CS3560/CS3560-WSS/PythonAI/main.py", line 106, in decide
    decision = engine.make_decision(
               ^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/c/Users/ryanw/OneDrive - Cal Poly Pomona/CPP Coding/CS3560/CS3560-WSS/PythonAI/decision_engine.py", line 88, in make_decision
    logging.debug(f"Received visible_terrain data structure:\n{json.dumps(visible_terrain, indent=2)}")
                                                               ^^^^
NameError: name 'json' is not defined. Did you forget to import 'json'
2025-05-03 18:43:02,069 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 18:43:02] "[35m[1mPOST /decide HTTP/1.1[0m" 500 -
2025-05-03 18:43:04,383 INFO [root]: Received request on /decide endpoint.
2025-05-03 18:43:04,384 ERROR [root]: CRITICAL: Unhandled exception in /decide endpoint!
Traceback (most recent call last):
  File "/mnt/c/Users/ryanw/OneDrive - Cal Poly Pomona/CPP Coding/CS3560/CS3560-WSS/PythonAI/main.py", line 106, in decide
    decision = engine.make_decision(
               ^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/c/Users/ryanw/OneDrive - Cal Poly Pomona/CPP Coding/CS3560/CS3560-WSS/PythonAI/decision_engine.py", line 88, in make_decision
    logging.debug(f"Received visible_terrain data structure:\n{json.dumps(visible_terrain, indent=2)}")
                                                               ^^^^
NameError: name 'json' is not defined. Did you forget to import 'json'
2025-05-03 18:43:04,385 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 18:43:04] "[35m[1mPOST /decide HTTP/1.1[0m" 500 -
2025-05-03 18:43:06,731 INFO [root]: Received request on /decide endpoint.
2025-05-03 18:43:06,731 ERROR [root]: CRITICAL: Unhandled exception in /decide endpoint!
Traceback (most recent call last):
  File "/mnt/c/Users/ryanw/OneDrive - Cal Poly Pomona/CPP Coding/CS3560/CS3560-WSS/PythonAI/main.py", line 106, in decide
    decision = engine.make_decision(
               ^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/c/Users/ryanw/OneDrive - Cal Poly Pomona/CPP Coding/CS3560/CS3560-WSS/PythonAI/decision_engine.py", line 88, in make_decision
    logging.debug(f"Received visible_terrain data structure:\n{json.dumps(visible_terrain, indent=2)}")
                                                               ^^^^
NameError: name 'json' is not defined. Did you forget to import 'json'
2025-05-03 18:43:06,733 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 18:43:06] "[35m[1mPOST /decide HTTP/1.1[0m" 500 -
2025-05-03 18:43:09,065 INFO [root]: Received request on /decide endpoint.
2025-05-03 18:43:09,066 ERROR [root]: CRITICAL: Unhandled exception in /decide endpoint!
Traceback (most recent call last):
  File "/mnt/c/Users/ryanw/OneDrive - Cal Poly Pomona/CPP Coding/CS3560/CS3560-WSS/PythonAI/main.py", line 106, in decide
    decision = engine.make_decision(
               ^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/c/Users/ryanw/OneDrive - Cal Poly Pomona/CPP Coding/CS3560/CS3560-WSS/PythonAI/decision_engine.py", line 88, in make_decision
    logging.debug(f"Received visible_terrain data structure:\n{json.dumps(visible_terrain, indent=2)}")
                                                               ^^^^
NameError: name 'json' is not defined. Did you forget to import 'json'
2025-05-03 18:43:09,068 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 18:43:09] "[35m[1mPOST /decide HTTP/1.1[0m" 500 -
2025-05-03 18:43:11,403 INFO [root]: Received request on /decide endpoint.
2025-05-03 18:43:11,403 ERROR [root]: CRITICAL: Unhandled exception in /decide endpoint!
Traceback (most recent call last):
  File "/mnt/c/Users/ryanw/OneDrive - Cal Poly Pomona/CPP Coding/CS3560/CS3560-WSS/PythonAI/main.py", line 106, in decide
    decision = engine.make_decision(
               ^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/c/Users/ryanw/OneDrive - Cal Poly Pomona/CPP Coding/CS3560/CS3560-WSS/PythonAI/decision_engine.py", line 88, in make_decision
    logging.debug(f"Received visible_terrain data structure:\n{json.dumps(visible_terrain, indent=2)}")
                                                               ^^^^
NameError: name 'json' is not defined. Did you forget to import 'json'
2025-05-03 18:43:11,405 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 18:43:11] "[35m[1mPOST /decide HTTP/1.1[0m" 500 -
2025-05-03 18:43:13,724 INFO [root]: Received request on /decide endpoint.
2025-05-03 18:43:13,725 ERROR [root]: CRITICAL: Unhandled exception in /decide endpoint!
Traceback (most recent call last):
  File "/mnt/c/Users/ryanw/OneDrive - Cal Poly Pomona/CPP Coding/CS3560/CS3560-WSS/PythonAI/main.py", line 106, in decide
    decision = engine.make_decision(
               ^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/c/Users/ryanw/OneDrive - Cal Poly Pomona/CPP Coding/CS3560/CS3560-WSS/PythonAI/decision_engine.py", line 88, in make_decision
    logging.debug(f"Received visible_terrain data structure:\n{json.dumps(visible_terrain, indent=2)}")
                                                               ^^^^
NameError: name 'json' is not defined. Did you forget to import 'json'
2025-05-03 18:43:13,726 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 18:43:13] "[35m[1mPOST /decide HTTP/1.1[0m" 500 -
2025-05-03 18:43:18,989 INFO [root]: Received request on /decide endpoint.
2025-05-03 18:43:18,990 ERROR [root]: CRITICAL: Unhandled exception in /decide endpoint!
Traceback (most recent call last):
  File "/mnt/c/Users/ryanw/OneDrive - Cal Poly Pomona/CPP Coding/CS3560/CS3560-WSS/PythonAI/main.py", line 106, in decide
    decision = engine.make_decision(
               ^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/c/Users/ryanw/OneDrive - Cal Poly Pomona/CPP Coding/CS3560/CS3560-WSS/PythonAI/decision_engine.py", line 88, in make_decision
    logging.debug(f"Received visible_terrain data structure:\n{json.dumps(visible_terrain, indent=2)}")
                                                               ^^^^
NameError: name 'json' is not defined. Did you forget to import 'json'
2025-05-03 18:43:18,991 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 18:43:18] "[35m[1mPOST /decide HTTP/1.1[0m" 500 -
2025-05-03 18:43:21,319 INFO [root]: Received request on /decide endpoint.
2025-05-03 18:43:21,319 ERROR [root]: CRITICAL: Unhandled exception in /decide endpoint!
Traceback (most recent call last):
  File "/mnt/c/Users/ryanw/OneDrive - Cal Poly Pomona/CPP Coding/CS3560/CS3560-WSS/PythonAI/main.py", line 106, in decide
    decision = engine.make_decision(
               ^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/c/Users/ryanw/OneDrive - Cal Poly Pomona/CPP Coding/CS3560/CS3560-WSS/PythonAI/decision_engine.py", line 88, in make_decision
    logging.debug(f"Received visible_terrain data structure:\n{json.dumps(visible_terrain, indent=2)}")
                                                               ^^^^
NameError: name 'json' is not defined. Did you forget to import 'json'
2025-05-03 18:43:21,321 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 18:43:21] "[35m[1mPOST /decide HTTP/1.1[0m" 500 -
2025-05-03 18:43:23,646 INFO [root]: Received request on /decide endpoint.
2025-05-03 18:43:23,646 ERROR [root]: CRITICAL: Unhandled exception in /decide endpoint!
Traceback (most recent call last):
  File "/mnt/c/Users/ryanw/OneDrive - Cal Poly Pomona/CPP Coding/CS3560/CS3560-WSS/PythonAI/main.py", line 106, in decide
    decision = engine.make_decision(
               ^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/c/Users/ryanw/OneDrive - Cal Poly Pomona/CPP Coding/CS3560/CS3560-WSS/PythonAI/decision_engine.py", line 88, in make_decision
    logging.debug(f"Received visible_terrain data structure:\n{json.dumps(visible_terrain, indent=2)}")
                                                               ^^^^
NameError: name 'json' is not defined. Did you forget to import 'json'
2025-05-03 18:43:23,648 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 18:43:23] "[35m[1mPOST /decide HTTP/1.1[0m" 500 -
2025-05-03 18:43:25,978 INFO [root]: Received request on /decide endpoint.
2025-05-03 18:43:25,978 ERROR [root]: CRITICAL: Unhandled exception in /decide endpoint!
Traceback (most recent call last):
  File "/mnt/c/Users/ryanw/OneDrive - Cal Poly Pomona/CPP Coding/CS3560/CS3560-WSS/PythonAI/main.py", line 106, in decide
    decision = engine.make_decision(
               ^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/c/Users/ryanw/OneDrive - Cal Poly Pomona/CPP Coding/CS3560/CS3560-WSS/PythonAI/decision_engine.py", line 88, in make_decision
    logging.debug(f"Received visible_terrain data structure:\n{json.dumps(visible_terrain, indent=2)}")
                                                               ^^^^
NameError: name 'json' is not defined. Did you forget to import 'json'
2025-05-03 18:43:25,980 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 18:43:25] "[35m[1mPOST /decide HTTP/1.1[0m" 500 -
2025-05-03 18:43:28,302 INFO [root]: Received request on /decide endpoint.
2025-05-03 18:43:28,302 ERROR [root]: CRITICAL: Unhandled exception in /decide endpoint!
Traceback (most recent call last):
  File "/mnt/c/Users/ryanw/OneDrive - Cal Poly Pomona/CPP Coding/CS3560/CS3560-WSS/PythonAI/main.py", line 106, in decide
    decision = engine.make_decision(
               ^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/c/Users/ryanw/OneDrive - Cal Poly Pomona/CPP Coding/CS3560/CS3560-WSS/PythonAI/decision_engine.py", line 88, in make_decision
    logging.debug(f"Received visible_terrain data structure:\n{json.dumps(visible_terrain, indent=2)}")
                                                               ^^^^
NameError: name 'json' is not defined. Did you forget to import 'json'
2025-05-03 18:43:28,304 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 18:43:28] "[35m[1mPOST /decide HTTP/1.1[0m" 500 -
2025-05-03 18:43:30,633 INFO [root]: Received request on /decide endpoint.
2025-05-03 18:43:30,633 ERROR [root]: CRITICAL: Unhandled exception in /decide endpoint!
Traceback (most recent call last):
  File "/mnt/c/Users/ryanw/OneDrive - Cal Poly Pomona/CPP Coding/CS3560/CS3560-WSS/PythonAI/main.py", line 106, in decide
    decision = engine.make_decision(
               ^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/c/Users/ryanw/OneDrive - Cal Poly Pomona/CPP Coding/CS3560/CS3560-WSS/PythonAI/decision_engine.py", line 88, in make_decision
    logging.debug(f"Received visible_terrain data structure:\n{json.dumps(visible_terrain, indent=2)}")
                                                               ^^^^
NameError: name 'json' is not defined. Did you forget to import 'json'
2025-05-03 18:43:30,635 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 18:43:30] "[35m[1mPOST /decide HTTP/1.1[0m" 500 -
2025-05-03 18:43:32,940 INFO [root]: Received request on /decide endpoint.
2025-05-03 18:43:32,940 ERROR [root]: CRITICAL: Unhandled exception in /decide endpoint!
Traceback (most recent call last):
  File "/mnt/c/Users/ryanw/OneDrive - Cal Poly Pomona/CPP Coding/CS3560/CS3560-WSS/PythonAI/main.py", line 106, in decide
    decision = engine.make_decision(
               ^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/c/Users/ryanw/OneDrive - Cal Poly Pomona/CPP Coding/CS3560/CS3560-WSS/PythonAI/decision_engine.py", line 88, in make_decision
    logging.debug(f"Received visible_terrain data structure:\n{json.dumps(visible_terrain, indent=2)}")
                                                               ^^^^
NameError: name 'json' is not defined. Did you forget to import 'json'
2025-05-03 18:43:32,942 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 18:43:32] "[35m[1mPOST /decide HTTP/1.1[0m" 500 -
2025-05-03 18:43:35,286 INFO [root]: Received request on /decide endpoint.
2025-05-03 18:43:35,286 ERROR [root]: CRITICAL: Unhandled exception in /decide endpoint!
Traceback (most recent call last):
  File "/mnt/c/Users/ryanw/OneDrive - Cal Poly Pomona/CPP Coding/CS3560/CS3560-WSS/PythonAI/main.py", line 106, in decide
    decision = engine.make_decision(
               ^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/c/Users/ryanw/OneDrive - Cal Poly Pomona/CPP Coding/CS3560/CS3560-WSS/PythonAI/decision_engine.py", line 88, in make_decision
    logging.debug(f"Received visible_terrain data structure:\n{json.dumps(visible_terrain, indent=2)}")
                                                               ^^^^
NameError: name 'json' is not defined. Did you forget to import 'json'
2025-05-03 18:43:35,288 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 18:43:35] "[35m[1mPOST /decide HTTP/1.1[0m" 500 -
2025-05-03 18:43:37,619 INFO [root]: Received request on /decide endpoint.
2025-05-03 18:43:37,619 ERROR [root]: CRITICAL: Unhandled exception in /decide endpoint!
Traceback (most recent call last):
  File "/mnt/c/Users/ryanw/OneDrive - Cal Poly Pomona/CPP Coding/CS3560/CS3560-WSS/PythonAI/main.py", line 106, in decide
    decision = engine.make_decision(
               ^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/c/Users/ryanw/OneDrive - Cal Poly Pomona/CPP Coding/CS3560/CS3560-WSS/PythonAI/decision_engine.py", line 88, in make_decision
    logging.debug(f"Received visible_terrain data structure:\n{json.dumps(visible_terrain, indent=2)}")
                                                               ^^^^
NameError: name 'json' is not defined. Did you forget to import 'json'
2025-05-03 18:43:37,621 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 18:43:37] "[35m[1mPOST /decide HTTP/1.1[0m" 500 -
2025-05-03 18:43:39,952 INFO [root]: Received request on /decide endpoint.
2025-05-03 18:43:39,952 ERROR [root]: CRITICAL: Unhandled exception in /decide endpoint!
Traceback (most recent call last):
  File "/mnt/c/Users/ryanw/OneDrive - Cal Poly Pomona/CPP Coding/CS3560/CS3560-WSS/PythonAI/main.py", line 106, in decide
    decision = engine.make_decision(
               ^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/c/Users/ryanw/OneDrive - Cal Poly Pomona/CPP Coding/CS3560/CS3560-WSS/PythonAI/decision_engine.py", line 88, in make_decision
    logging.debug(f"Received visible_terrain data structure:\n{json.dumps(visible_terrain, indent=2)}")
                                                               ^^^^
NameError: name 'json' is not defined. Did you forget to import 'json'
2025-05-03 18:43:39,954 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 18:43:39] "[35m[1mPOST /decide HTTP/1.1[0m" 500 -
2025-05-03 18:43:42,284 INFO [root]: Received request on /decide endpoint.
2025-05-03 18:43:42,285 ERROR [root]: CRITICAL: Unhandled exception in /decide endpoint!
Traceback (most recent call last):
  File "/mnt/c/Users/ryanw/OneDrive - Cal Poly Pomona/CPP Coding/CS3560/CS3560-WSS/PythonAI/main.py", line 106, in decide
    decision = engine.make_decision(
               ^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/c/Users/ryanw/OneDrive - Cal Poly Pomona/CPP Coding/CS3560/CS3560-WSS/PythonAI/decision_engine.py", line 88, in make_decision
    logging.debug(f"Received visible_terrain data structure:\n{json.dumps(visible_terrain, indent=2)}")
                                                               ^^^^
NameError: name 'json' is not defined. Did you forget to import 'json'
2025-05-03 18:43:42,287 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 18:43:42] "[35m[1mPOST /decide HTTP/1.1[0m" 500 -
2025-05-03 18:43:44,621 INFO [root]: Received request on /decide endpoint.
2025-05-03 18:43:44,621 ERROR [root]: CRITICAL: Unhandled exception in /decide endpoint!
Traceback (most recent call last):
  File "/mnt/c/Users/ryanw/OneDrive - Cal Poly Pomona/CPP Coding/CS3560/CS3560-WSS/PythonAI/main.py", line 106, in decide
    decision = engine.make_decision(
               ^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/c/Users/ryanw/OneDrive - Cal Poly Pomona/CPP Coding/CS3560/CS3560-WSS/PythonAI/decision_engine.py", line 88, in make_decision
    logging.debug(f"Received visible_terrain data structure:\n{json.dumps(visible_terrain, indent=2)}")
                                                               ^^^^
NameError: name 'json' is not defined. Did you forget to import 'json'
2025-05-03 18:43:44,623 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 18:43:44] "[35m[1mPOST /decide HTTP/1.1[0m" 500 -
2025-05-03 18:43:46,942 INFO [root]: Received request on /decide endpoint.
2025-05-03 18:43:46,942 ERROR [root]: CRITICAL: Unhandled exception in /decide endpoint!
Traceback (most recent call last):
  File "/mnt/c/Users/ryanw/OneDrive - Cal Poly Pomona/CPP Coding/CS3560/CS3560-WSS/PythonAI/main.py", line 106, in decide
    decision = engine.make_decision(
               ^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/c/Users/ryanw/OneDrive - Cal Poly Pomona/CPP Coding/CS3560/CS3560-WSS/PythonAI/decision_engine.py", line 88, in make_decision
    logging.debug(f"Received visible_terrain data structure:\n{json.dumps(visible_terrain, indent=2)}")
                                                               ^^^^
NameError: name 'json' is not defined. Did you forget to import 'json'
2025-05-03 18:43:46,944 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 18:43:46] "[35m[1mPOST /decide HTTP/1.1[0m" 500 -
2025-05-03 18:43:49,260 INFO [root]: Received request on /decide endpoint.
2025-05-03 18:43:49,260 ERROR [root]: CRITICAL: Unhandled exception in /decide endpoint!
Traceback (most recent call last):
  File "/mnt/c/Users/ryanw/OneDrive - Cal Poly Pomona/CPP Coding/CS3560/CS3560-WSS/PythonAI/main.py", line 106, in decide
    decision = engine.make_decision(
               ^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/c/Users/ryanw/OneDrive - Cal Poly Pomona/CPP Coding/CS3560/CS3560-WSS/PythonAI/decision_engine.py", line 88, in make_decision
    logging.debug(f"Received visible_terrain data structure:\n{json.dumps(visible_terrain, indent=2)}")
                                                               ^^^^
NameError: name 'json' is not defined. Did you forget to import 'json'
2025-05-03 18:43:49,262 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 18:43:49] "[35m[1mPOST /decide HTTP/1.1[0m" 500 -
2025-05-03 18:43:54,522 INFO [root]: Received request on /decide endpoint.
2025-05-03 18:43:54,522 ERROR [root]: CRITICAL: Unhandled exception in /decide endpoint!
Traceback (most recent call last):
  File "/mnt/c/Users/ryanw/OneDrive - Cal Poly Pomona/CPP Coding/CS3560/CS3560-WSS/PythonAI/main.py", line 106, in decide
    decision = engine.make_decision(
               ^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/c/Users/ryanw/OneDrive - Cal Poly Pomona/CPP Coding/CS3560/CS3560-WSS/PythonAI/decision_engine.py", line 88, in make_decision
    logging.debug(f"Received visible_terrain data structure:\n{json.dumps(visible_terrain, indent=2)}")
                                                               ^^^^
NameError: name 'json' is not defined. Did you forget to import 'json'
2025-05-03 18:43:54,524 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 18:43:54] "[35m[1mPOST /decide HTTP/1.1[0m" 500 -
2025-05-03 18:43:56,871 INFO [root]: Received request on /decide endpoint.
2025-05-03 18:43:56,873 ERROR [root]: CRITICAL: Unhandled exception in /decide endpoint!
Traceback (most recent call last):
  File "/mnt/c/Users/ryanw/OneDrive - Cal Poly Pomona/CPP Coding/CS3560/CS3560-WSS/PythonAI/main.py", line 106, in decide
    decision = engine.make_decision(
               ^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/c/Users/ryanw/OneDrive - Cal Poly Pomona/CPP Coding/CS3560/CS3560-WSS/PythonAI/decision_engine.py", line 88, in make_decision
    logging.debug(f"Received visible_terrain data structure:\n{json.dumps(visible_terrain, indent=2)}")
                                                               ^^^^
NameError: name 'json' is not defined. Did you forget to import 'json'
2025-05-03 18:43:56,876 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 18:43:56] "[35m[1mPOST /decide HTTP/1.1[0m" 500 -
2025-05-03 18:43:59,187 INFO [root]: Received request on /decide endpoint.
2025-05-03 18:43:59,187 ERROR [root]: CRITICAL: Unhandled exception in /decide endpoint!
Traceback (most recent call last):
  File "/mnt/c/Users/ryanw/OneDrive - Cal Poly Pomona/CPP Coding/CS3560/CS3560-WSS/PythonAI/main.py", line 106, in decide
    decision = engine.make_decision(
               ^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/c/Users/ryanw/OneDrive - Cal Poly Pomona/CPP Coding/CS3560/CS3560-WSS/PythonAI/decision_engine.py", line 88, in make_decision
    logging.debug(f"Received visible_terrain data structure:\n{json.dumps(visible_terrain, indent=2)}")
                                                               ^^^^
NameError: name 'json' is not defined. Did you forget to import 'json'
2025-05-03 18:43:59,189 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 18:43:59] "[35m[1mPOST /decide HTTP/1.1[0m" 500 -
2025-05-03 18:44:01,519 INFO [root]: Received request on /decide endpoint.
2025-05-03 18:44:01,519 ERROR [root]: CRITICAL: Unhandled exception in /decide endpoint!
Traceback (most recent call last):
  File "/mnt/c/Users/ryanw/OneDrive - Cal Poly Pomona/CPP Coding/CS3560/CS3560-WSS/PythonAI/main.py", line 106, in decide
    decision = engine.make_decision(
               ^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/c/Users/ryanw/OneDrive - Cal Poly Pomona/CPP Coding/CS3560/CS3560-WSS/PythonAI/decision_engine.py", line 88, in make_decision
    logging.debug(f"Received visible_terrain data structure:\n{json.dumps(visible_terrain, indent=2)}")
                                                               ^^^^
NameError: name 'json' is not defined. Did you forget to import 'json'
2025-05-03 18:44:01,521 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 18:44:01] "[35m[1mPOST /decide HTTP/1.1[0m" 500 -
2025-05-03 18:44:03,853 INFO [root]: Received request on /decide endpoint.
2025-05-03 18:44:03,854 ERROR [root]: CRITICAL: Unhandled exception in /decide endpoint!
Traceback (most recent call last):
  File "/mnt/c/Users/ryanw/OneDrive - Cal Poly Pomona/CPP Coding/CS3560/CS3560-WSS/PythonAI/main.py", line 106, in decide
    decision = engine.make_decision(
               ^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/c/Users/ryanw/OneDrive - Cal Poly Pomona/CPP Coding/CS3560/CS3560-WSS/PythonAI/decision_engine.py", line 88, in make_decision
    logging.debug(f"Received visible_terrain data structure:\n{json.dumps(visible_terrain, indent=2)}")
                                                               ^^^^
NameError: name 'json' is not defined. Did you forget to import 'json'
2025-05-03 18:44:03,855 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 18:44:03] "[35m[1mPOST /decide HTTP/1.1[0m" 500 -
2025-05-03 18:44:06,159 INFO [root]: Received request on /decide endpoint.
2025-05-03 18:44:06,159 ERROR [root]: CRITICAL: Unhandled exception in /decide endpoint!
Traceback (most recent call last):
  File "/mnt/c/Users/ryanw/OneDrive - Cal Poly Pomona/CPP Coding/CS3560/CS3560-WSS/PythonAI/main.py", line 106, in decide
    decision = engine.make_decision(
               ^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/c/Users/ryanw/OneDrive - Cal Poly Pomona/CPP Coding/CS3560/CS3560-WSS/PythonAI/decision_engine.py", line 88, in make_decision
    logging.debug(f"Received visible_terrain data structure:\n{json.dumps(visible_terrain, indent=2)}")
                                                               ^^^^
NameError: name 'json' is not defined. Did you forget to import 'json'
2025-05-03 18:44:06,161 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 18:44:06] "[35m[1mPOST /decide HTTP/1.1[0m" 500 -
2025-05-03 18:44:08,493 INFO [root]: Received request on /decide endpoint.
2025-05-03 18:44:08,493 ERROR [root]: CRITICAL: Unhandled exception in /decide endpoint!
Traceback (most recent call last):
  File "/mnt/c/Users/ryanw/OneDrive - Cal Poly Pomona/CPP Coding/CS3560/CS3560-WSS/PythonAI/main.py", line 106, in decide
    decision = engine.make_decision(
               ^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/c/Users/ryanw/OneDrive - Cal Poly Pomona/CPP Coding/CS3560/CS3560-WSS/PythonAI/decision_engine.py", line 88, in make_decision
    logging.debug(f"Received visible_terrain data structure:\n{json.dumps(visible_terrain, indent=2)}")
                                                               ^^^^
NameError: name 'json' is not defined. Did you forget to import 'json'
2025-05-03 18:44:08,495 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 18:44:08] "[35m[1mPOST /decide HTTP/1.1[0m" 500 -
2025-05-03 18:44:10,801 INFO [root]: Received request on /decide endpoint.
2025-05-03 18:44:10,801 ERROR [root]: CRITICAL: Unhandled exception in /decide endpoint!
Traceback (most recent call last):
  File "/mnt/c/Users/ryanw/OneDrive - Cal Poly Pomona/CPP Coding/CS3560/CS3560-WSS/PythonAI/main.py", line 106, in decide
    decision = engine.make_decision(
               ^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/c/Users/ryanw/OneDrive - Cal Poly Pomona/CPP Coding/CS3560/CS3560-WSS/PythonAI/decision_engine.py", line 88, in make_decision
    logging.debug(f"Received visible_terrain data structure:\n{json.dumps(visible_terrain, indent=2)}")
                                                               ^^^^
NameError: name 'json' is not defined. Did you forget to import 'json'
2025-05-03 18:44:10,803 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 18:44:10] "[35m[1mPOST /decide HTTP/1.1[0m" 500 -
2025-05-03 18:44:13,122 INFO [root]: Received request on /decide endpoint.
2025-05-03 18:44:13,122 ERROR [root]: CRITICAL: Unhandled exception in /decide endpoint!
Traceback (most recent call last):
  File "/mnt/c/Users/ryanw/OneDrive - Cal Poly Pomona/CPP Coding/CS3560/CS3560-WSS/PythonAI/main.py", line 106, in decide
    decision = engine.make_decision(
               ^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/c/Users/ryanw/OneDrive - Cal Poly Pomona/CPP Coding/CS3560/CS3560-WSS/PythonAI/decision_engine.py", line 88, in make_decision
    logging.debug(f"Received visible_terrain data structure:\n{json.dumps(visible_terrain, indent=2)}")
                                                               ^^^^
NameError: name 'json' is not defined. Did you forget to import 'json'
2025-05-03 18:44:13,124 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 18:44:13] "[35m[1mPOST /decide HTTP/1.1[0m" 500 -
2025-05-03 18:44:15,455 INFO [root]: Received request on /decide endpoint.
2025-05-03 18:44:15,455 ERROR [root]: CRITICAL: Unhandled exception in /decide endpoint!
Traceback (most recent call last):
  File "/mnt/c/Users/ryanw/OneDrive - Cal Poly Pomona/CPP Coding/CS3560/CS3560-WSS/PythonAI/main.py", line 106, in decide
    decision = engine.make_decision(
               ^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/c/Users/ryanw/OneDrive - Cal Poly Pomona/CPP Coding/CS3560/CS3560-WSS/PythonAI/decision_engine.py", line 88, in make_decision
    logging.debug(f"Received visible_terrain data structure:\n{json.dumps(visible_terrain, indent=2)}")
                                                               ^^^^
NameError: name 'json' is not defined. Did you forget to import 'json'
2025-05-03 18:44:15,457 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 18:44:15] "[35m[1mPOST /decide HTTP/1.1[0m" 500 -
2025-05-03 18:44:17,766 INFO [root]: Received request on /decide endpoint.
2025-05-03 18:44:17,767 ERROR [root]: CRITICAL: Unhandled exception in /decide endpoint!
Traceback (most recent call last):
  File "/mnt/c/Users/ryanw/OneDrive - Cal Poly Pomona/CPP Coding/CS3560/CS3560-WSS/PythonAI/main.py", line 106, in decide
    decision = engine.make_decision(
               ^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/c/Users/ryanw/OneDrive - Cal Poly Pomona/CPP Coding/CS3560/CS3560-WSS/PythonAI/decision_engine.py", line 88, in make_decision
    logging.debug(f"Received visible_terrain data structure:\n{json.dumps(visible_terrain, indent=2)}")
                                                               ^^^^
NameError: name 'json' is not defined. Did you forget to import 'json'
2025-05-03 18:44:17,769 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 18:44:17] "[35m[1mPOST /decide HTTP/1.1[0m" 500 -
2025-05-03 18:44:20,097 INFO [root]: Received request on /decide endpoint.
2025-05-03 18:44:20,098 ERROR [root]: CRITICAL: Unhandled exception in /decide endpoint!
Traceback (most recent call last):
  File "/mnt/c/Users/ryanw/OneDrive - Cal Poly Pomona/CPP Coding/CS3560/CS3560-WSS/PythonAI/main.py", line 106, in decide
    decision = engine.make_decision(
               ^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/c/Users/ryanw/OneDrive - Cal Poly Pomona/CPP Coding/CS3560/CS3560-WSS/PythonAI/decision_engine.py", line 88, in make_decision
    logging.debug(f"Received visible_terrain data structure:\n{json.dumps(visible_terrain, indent=2)}")
                                                               ^^^^
NameError: name 'json' is not defined. Did you forget to import 'json'
2025-05-03 18:44:20,099 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 18:44:20] "[35m[1mPOST /decide HTTP/1.1[0m" 500 -
2025-05-03 18:49:33,336 INFO [root]: --- Logging configured for main.py (File & Console) ---
2025-05-03 18:49:33,337 INFO [root]: Initializing DecisionEngine with model: Qwen/Qwen3-14B-AWQ...
2025-05-03 18:49:33,378 INFO [root]: Loading prompt template from: /mnt/c/Users/ryanw/OneDrive - Cal Poly Pomona/CPP Coding/CS3560/CS3560-WSS/PythonAI/prompts/default.txt
2025-05-03 18:49:33,379 INFO [root]: DecisionEngine initialized for model: Qwen/Qwen3-14B-AWQ
2025-05-03 18:49:33,379 INFO [root]: Sampling Params: Temp=0.6, TopP=0.95, PresencePenalty=None
2025-05-03 18:49:33,380 INFO [root]: Loading prompt template from: /mnt/c/Users/ryanw/OneDrive - Cal Poly Pomona/CPP Coding/CS3560/CS3560-WSS/PythonAI/prompts/trade_prompt.txt
2025-05-03 18:49:33,381 INFO [root]: DecisionEngine initialized successfully.
2025-05-03 18:49:33,382 INFO [root]: Starting Flask server on 0.0.0.0:5000
2025-05-03 18:49:33,390 INFO [werkzeug]: [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://172.31.197.234:5000
2025-05-03 18:49:33,390 INFO [werkzeug]: [33mPress CTRL+C to quit[0m
2025-05-03 18:49:53,750 INFO [root]: Received request on /reset endpoint.
2025-05-03 18:49:53,751 INFO [root]: AI memory reset successfully via /reset endpoint.
2025-05-03 18:49:53,751 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 18:49:53] "POST /reset HTTP/1.1" 200 -
2025-05-03 18:49:55,672 INFO [root]: Received request on /decide endpoint.
2025-05-03 18:49:55,673 INFO [root]: Sending request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 18:49:59,130 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 18:49:59,132 INFO [root]: LLM generation finish reason: length
2025-05-03 18:49:59,132 ERROR [root]: LLM response content is None. Finish reason was: length
2025-05-03 18:49:59,132 INFO [root]: Decision: REST | Reason: LLM produced no content (finish_reason: length).
2025-05-03 18:49:59,132 INFO [root]: Decision received from engine: REST
2025-05-03 18:49:59,132 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 18:49:59] "POST /decide HTTP/1.1" 200 -
2025-05-03 18:50:01,463 INFO [root]: Received request on /decide endpoint.
2025-05-03 18:50:01,464 INFO [root]: Sending request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 18:50:04,830 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 18:50:04,831 INFO [root]: LLM generation finish reason: length
2025-05-03 18:50:04,831 ERROR [root]: LLM response content is None. Finish reason was: length
2025-05-03 18:50:04,831 INFO [root]: Decision: REST | Reason: LLM produced no content (finish_reason: length).
2025-05-03 18:50:04,831 INFO [root]: Decision received from engine: REST
2025-05-03 18:50:04,832 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 18:50:04] "POST /decide HTTP/1.1" 200 -
2025-05-03 18:50:07,166 INFO [root]: Received request on /decide endpoint.
2025-05-03 18:50:07,167 INFO [root]: Sending request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 18:50:10,502 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 18:50:10,502 INFO [root]: LLM generation finish reason: length
2025-05-03 18:50:10,502 ERROR [root]: LLM response content is None. Finish reason was: length
2025-05-03 18:50:10,503 INFO [root]: Decision: REST | Reason: LLM produced no content (finish_reason: length).
2025-05-03 18:50:10,503 INFO [root]: Decision received from engine: REST
2025-05-03 18:50:10,503 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 18:50:10] "POST /decide HTTP/1.1" 200 -
2025-05-03 18:50:12,842 INFO [root]: Received request on /decide endpoint.
2025-05-03 18:50:12,843 INFO [root]: Sending request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 18:50:16,171 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 18:50:16,172 INFO [root]: LLM generation finish reason: length
2025-05-03 18:50:16,172 ERROR [root]: LLM response content is None. Finish reason was: length
2025-05-03 18:50:16,172 INFO [root]: Decision: REST | Reason: LLM produced no content (finish_reason: length).
2025-05-03 18:50:16,172 INFO [root]: Decision received from engine: REST
2025-05-03 18:50:16,173 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 18:50:16] "POST /decide HTTP/1.1" 200 -
2025-05-03 18:50:21,433 INFO [root]: Received request on /decide endpoint.
2025-05-03 18:50:21,433 INFO [root]: Sending request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 18:50:24,870 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 18:50:24,871 INFO [root]: LLM generation finish reason: length
2025-05-03 18:50:24,871 ERROR [root]: LLM response content is None. Finish reason was: length
2025-05-03 18:50:24,871 INFO [root]: Decision: REST | Reason: LLM produced no content (finish_reason: length).
2025-05-03 18:50:24,871 INFO [root]: Decision received from engine: REST
2025-05-03 18:50:24,872 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 18:50:24] "POST /decide HTTP/1.1" 200 -
2025-05-03 18:50:27,201 INFO [root]: Received request on /decide endpoint.
2025-05-03 18:50:27,202 INFO [root]: Sending request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 18:52:46,627 INFO [root]: --- Logging configured for main.py (File & Console) ---
2025-05-03 18:52:46,629 INFO [root]: Initializing DecisionEngine with model: Qwen/Qwen3-14B-AWQ...
2025-05-03 18:52:46,678 INFO [root]: Loading prompt template from: /mnt/c/Users/ryanw/OneDrive - Cal Poly Pomona/CPP Coding/CS3560/CS3560-WSS/PythonAI/prompts/default.txt
2025-05-03 18:52:46,680 INFO [root]: Loading prompt template from: /mnt/c/Users/ryanw/OneDrive - Cal Poly Pomona/CPP Coding/CS3560/CS3560-WSS/PythonAI/prompts/trade_prompt.txt
2025-05-03 18:52:46,680 INFO [root]: DecisionEngine initialized for model: Qwen/Qwen3-14B-AWQ
2025-05-03 18:52:46,681 INFO [root]: Sampling Params: Temp=0.6, TopP=0.95, PresencePenalty=None
2025-05-03 18:52:46,681 INFO [root]: Main prompt loaded: Yes
2025-05-03 18:52:46,681 INFO [root]: Trade prompt loaded: Yes
2025-05-03 18:52:46,681 INFO [root]: DecisionEngine initialized successfully.
2025-05-03 18:52:46,682 INFO [root]: Starting Flask server on 0.0.0.0:5000
2025-05-03 18:52:46,691 INFO [werkzeug]: [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://172.31.197.234:5000
2025-05-03 18:52:46,691 INFO [werkzeug]: [33mPress CTRL+C to quit[0m
2025-05-03 18:53:32,367 INFO [root]: Received request on /reset endpoint.
2025-05-03 18:53:32,368 INFO [root]: AI memory reset successfully via /reset endpoint.
2025-05-03 18:53:32,368 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 18:53:32] "POST /reset HTTP/1.1" 200 -
2025-05-03 18:53:34,288 INFO [root]: Received request on /decide endpoint.
2025-05-03 18:53:34,289 INFO [root]: Sending request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 18:53:56,022 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 18:53:56,023 INFO [root]: LLM generation finish reason: stop
2025-05-03 18:53:56,024 INFO [root]: Decision: MOVE EAST | Reason: The tile to the east (+1,0) is Plains with costs -2E, -1F, -1W and bonuses +2F, +1W, Trader. Moving east reduces resources slightly but recovers them via bonuses, keeping all resources above 13 (safe). This move directly progresses eastward toward the goal while accessing a Trader for future resource boosts.
2025-05-03 18:53:56,024 INFO [root]: Decision received from engine: MOVE EAST
2025-05-03 18:53:56,024 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 18:53:56] "POST /decide HTTP/1.1" 200 -
2025-05-03 18:53:58,349 INFO [root]: Received request on /decide endpoint.
2025-05-03 18:53:58,349 INFO [root]: Sending request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 18:54:27,994 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 18:54:27,995 INFO [root]: LLM generation finish reason: stop
2025-05-03 18:54:27,995 INFO [root]: Decision: MOVE EAST | Reason: The tile at (+1, 0) is a Plains with MOVE cost -2E, FOOD -1, WATER -1, and provides +3F[R], +3W[R], and a Trader. Moving here reduces resources minimally (Food: 15 → 14 → 17, Water: 15 → 14 → 17, Energy: 13 → 11) while gaining significant bonuses and accessing a Trader for future resource replenishment. This move prioritizes safe eastward progress with net resource gains, aligning with the goal of reaching the east while maintaining survival margins.
2025-05-03 18:54:27,995 INFO [root]: Decision received from engine: MOVE EAST
2025-05-03 18:54:27,995 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 18:54:27] "POST /decide HTTP/1.1" 200 -
2025-05-03 18:54:30,315 INFO [root]: Received request on /decide endpoint.
2025-05-03 18:54:30,316 INFO [root]: Sending request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 18:55:21,332 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 18:55:21,333 INFO [root]: LLM generation finish reason: stop
2025-05-03 18:55:21,333 INFO [root]: Decision: MOVE EAST | Reason: Moving east to the Forest tile (+1, 0) provides a net gain of +3 FOOD and +1 WATER after accounting for costs (15-2+5=18F, 15-3+4=16W) while progressing directly toward the east goal. Energy drops to 9, which remains safe and allows continued eastward movement. The tile includes a Trader for future resource exchanges, enhancing long-term survival.
2025-05-03 18:55:21,333 INFO [root]: Decision received from engine: MOVE EAST
2025-05-03 18:55:21,333 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 18:55:21] "POST /decide HTTP/1.1" 200 -
2025-05-03 18:55:23,658 INFO [root]: Received request on /decide endpoint.
2025-05-03 18:55:23,659 INFO [root]: Sending request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 18:56:17,065 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 18:56:17,066 INFO [root]: LLM generation finish reason: stop
2025-05-03 18:56:17,066 INFO [root]: Decision: MOVE EAST | Reason: The target tile (+1, 0) is Forest with Move cost 3, Food cost 2, Water cost 3, and provides +3F[R] and +4W[R] bonuses. Moving here reduces Energy to 6 (9-3), Food to 16 (15-2+3), and Water to 16 (15-3+4), all safely above 0. This move progresses eastward while securing resource gains, aligning with the priority of advancing toward the goal while maintaining survival buffers.
2025-05-03 18:56:17,066 INFO [root]: Decision received from engine: MOVE EAST
2025-05-03 18:56:17,066 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 18:56:17] "POST /decide HTTP/1.1" 200 -
2025-05-03 18:56:19,400 INFO [root]: Received request on /decide endpoint.
2025-05-03 18:56:19,400 INFO [root]: Sending request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 18:56:56,471 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 18:56:56,471 INFO [root]: LLM generation finish reason: stop
2025-05-03 18:56:56,472 INFO [root]: Decision: MOVE EAST | Reason: The tile at (+1, 0) is Plains with costs -2E, -1F, -2W, which reduces resources to Energy: 4, Food: 14, Water: 13 (all above 0). This move progresses eastward safely while maintaining a buffer above critical levels. Plains tiles offer bonuses and traders, supporting long-term survival and resource acquisition.
2025-05-03 18:56:56,472 INFO [root]: Decision received from engine: MOVE EAST
2025-05-03 18:56:56,472 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 18:56:56] "POST /decide HTTP/1.1" 200 -
2025-05-03 18:56:58,808 INFO [root]: Received request on /decide endpoint.
2025-05-03 18:56:58,808 INFO [root]: Sending request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 18:57:53,710 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 18:57:53,710 INFO [root]: LLM generation finish reason: stop
2025-05-03 18:57:53,711 INFO [root]: Decision: MOVE EAST | Reason: The target tile (+1, 0) is Plains with Move cost 2 (Energy: 4 → 2), Food cost -1 (15 → 14), and Water cost -2 (14 → 12). This maintains all resources above safety thresholds (Food: 14, Water: 12, Energy: 2) while progressing eastward. The Plains tile also offers Food/Water bonuses and a Trader for future resource management, aligning with the priority of eastward movement and resource sustainability.
2025-05-03 18:57:53,711 INFO [root]: Decision received from engine: MOVE EAST
2025-05-03 18:57:53,711 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 18:57:53] "POST /decide HTTP/1.1" 200 -
2025-05-03 18:57:58,976 INFO [root]: Received request on /decide endpoint.
2025-05-03 18:57:58,977 INFO [root]: Sending request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 18:59:09,242 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 18:59:09,243 INFO [root]: LLM generation finish reason: stop
2025-05-03 18:59:09,243 INFO [root]: Decision: REST | Reason: Current ENERGY is critically low (2), which would drop to 0 if moving east. Resting recovers +2 ENERGY (to 4) while consuming minimal resources (0.5 FOOD, 1 WATER), enabling a safe eastward move next turn.
2025-05-03 18:59:09,243 INFO [root]: Decision received from engine: REST
2025-05-03 18:59:09,244 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 18:59:09] "POST /decide HTTP/1.1" 200 -
2025-05-03 18:59:11,587 INFO [root]: Received request on /decide endpoint.
2025-05-03 18:59:11,587 INFO [root]: Sending request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 18:59:53,804 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 18:59:53,805 INFO [root]: LLM generation finish reason: stop
2025-05-03 18:59:53,805 INFO [root]: Decision: MOVE EAST | Reason: The target tile (+1,0) is a Plains with Move cost 2, Food cost 1, Water cost 2, and bonuses +4F/R and +2W/R. Moving east reduces Energy to 2 (still above 0), and after subtracting costs and applying bonuses, Food increases by 3 (15 → 18) and Water remains at 15 (15 → 13 + 2). This move prioritizes eastward progress while safely replenishing resources, avoiding high-risk terrain and ensuring survival.
2025-05-03 18:59:53,805 INFO [root]: Decision received from engine: MOVE EAST
2025-05-03 18:59:53,806 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 18:59:53] "POST /decide HTTP/1.1" 200 -
2025-05-03 18:59:56,132 INFO [root]: Received request on /decide endpoint.
2025-05-03 18:59:56,132 INFO [root]: Sending request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 19:00:58,536 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 19:00:58,536 INFO [root]: LLM generation finish reason: stop
2025-05-03 19:00:58,537 INFO [root]: Decision: REST | Reason: Current ENERGY is 2, insufficient to move east (requires 3E). Resting recovers +2 ENERGY (to 4) while only consuming half the Food/Water cost of the current Plains tile (1F/2W → 0.5F/1W), keeping resources above safe thresholds. This enables a subsequent eastward move into the Forest tile (+1,0) with net resource gains from its Food/Water bonuses.
2025-05-03 19:00:58,537 INFO [root]: Decision received from engine: REST
2025-05-03 19:00:58,537 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 19:00:58] "POST /decide HTTP/1.1" 200 -
2025-05-03 19:01:00,862 INFO [root]: Received request on /decide endpoint.
2025-05-03 19:01:00,862 INFO [root]: Sending request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 19:01:42,292 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 19:01:42,292 INFO [root]: LLM generation finish reason: stop
2025-05-03 19:01:42,293 INFO [root]: Decision: MOVE NORTH | Reason: The tile at (+0,-1) (NORTH) is Plains with move cost 1, food cost 2, water cost 1, and provides +2F and +1W bonuses. Moving here reduces energy to 1 (2-1), but food and water remain at 15 after subtracting costs and adding bonuses. This avoids resource depletion, allows resting to restore energy, and provides immediate resource recovery, enabling safe eastward progress later.
2025-05-03 19:01:42,293 INFO [root]: Decision received from engine: MOVE NORTH
2025-05-03 19:01:42,293 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 19:01:42] "POST /decide HTTP/1.1" 200 -
2025-05-03 19:01:44,637 INFO [root]: Received request on /decide endpoint.
2025-05-03 19:01:44,638 INFO [root]: Sending request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 19:02:14,283 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 19:02:14,283 INFO [root]: LLM generation finish reason: stop
2025-05-03 19:02:14,283 INFO [root]: Decision: MOVE NORTH | Reason: The tile at (0,-1) is a Plains with move cost 2, food -1, water -2, but provides +4F and +2W bonuses. Moving north would cost 2 ENERGY (leaving 1), subtract 1 FOOD (15→14) and 2 WATER (14→12), then add 4F and 2W, resulting in 18 FOOD and 14 WATER—safe and beneficial. This move secures resources, accesses a Trader, and avoids high-cost terrain.
2025-05-03 19:02:14,284 INFO [root]: Decision received from engine: MOVE NORTH
2025-05-03 19:02:14,285 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 19:02:14] "POST /decide HTTP/1.1" 200 -
2025-05-03 19:02:16,599 INFO [root]: Received request on /decide endpoint.
2025-05-03 19:02:16,599 INFO [root]: Sending request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 19:03:03,364 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 19:03:03,365 INFO [root]: LLM generation finish reason: stop
2025-05-03 19:03:03,365 INFO [root]: Decision: REST | Reason: The player's current ENERGY is 1, which is critically low and insufficient to move in any direction without risking death. Resting recovers +2 ENERGY (to 3) while only consuming half the food/water cost of the current Plains tile (15 → 14.5 each), keeping all resources above zero. This ensures survival and prepares for future movement.
2025-05-03 19:03:03,365 INFO [root]: Decision received from engine: REST
2025-05-03 19:03:03,366 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 19:03:03] "POST /decide HTTP/1.1" 200 -
2025-05-03 19:03:05,685 INFO [root]: Received request on /decide endpoint.
2025-05-03 19:03:05,686 INFO [root]: Sending request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 19:03:30,066 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 19:03:30,066 INFO [root]: LLM generation finish reason: stop
2025-05-03 19:03:30,066 INFO [root]: Decision: MOVE EAST | Reason: The target tile (+1,0) is Plains with move cost 2, food cost 2, and water cost 1. After moving, Energy would be 3 - 2 = 1, Food 15 - 2 = 13, and Water 15 - 1 = 14 (all above zero). This move provides a Food Bonus (+4F[R]) and Water Bonus (+2W[R]) to replenish resources while progressing eastward, aligning with the primary goal of reaching x >= 10 safely. Other directions like NORTH or NORTHWEST risk stagnation or higher costs, while EAST offers direct progress with manageable resource use.
2025-05-03 19:03:30,067 INFO [root]: Decision received from engine: MOVE EAST
2025-05-03 19:03:30,067 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 19:03:30] "POST /decide HTTP/1.1" 200 -
2025-05-03 19:05:07,969 INFO [root]: Received request on /reset endpoint.
2025-05-03 19:05:07,969 INFO [root]: AI memory reset successfully via /reset endpoint.
2025-05-03 19:05:07,970 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 19:05:07] "POST /reset HTTP/1.1" 200 -
2025-05-03 19:05:09,887 INFO [root]: Received request on /decide endpoint.
2025-05-03 19:05:09,888 INFO [root]: Sending request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 19:05:56,012 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 19:05:56,013 INFO [root]: LLM generation finish reason: stop
2025-05-03 19:05:56,013 INFO [root]: Decision: MOVE EAST | Reason: The target tile (EAST) is a Mountain with costs -5E, -5F, -3W. Current resources (15E, 15F, 15W) allow moving east safely (resulting in 10E, 10F, 12W), which remains above the critical safety buffer. Moving east directly progresses toward the goal (x >=10) while avoiding unnecessary detours. The mountain tile also offers a Gold Bonus and Trader for future resource management.
2025-05-03 19:05:56,013 INFO [root]: Decision received from engine: MOVE EAST
2025-05-03 19:05:56,014 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 19:05:56] "POST /decide HTTP/1.1" 200 -
2025-05-03 19:05:58,350 INFO [root]: Received request on /decide endpoint.
2025-05-03 19:05:58,351 INFO [root]: Sending request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 19:06:37,861 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 19:06:37,862 INFO [root]: LLM generation finish reason: stop
2025-05-03 19:06:37,862 INFO [root]: Decision: MOVE EAST | Reason: The target tile (+1, 0) is a Mountain with move cost -5E, -5F, -3W. After moving, resources would be Food: 10-5=5, Water: 12-3=9, Energy: 10-5=5 (all above 0). This is the only viable eastward move from (0,0) and avoids immediate resource depletion. The Gold Bonus on this tile also provides long-term value for future trades.
2025-05-03 19:06:37,862 INFO [root]: Decision received from engine: MOVE EAST
2025-05-03 19:06:37,863 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 19:06:37] "POST /decide HTTP/1.1" 200 -
2025-05-03 19:06:40,132 INFO [root]: Received request on /decide endpoint.
2025-05-03 19:06:40,132 INFO [root]: Sending request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 19:07:59,082 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 19:07:59,083 INFO [root]: LLM generation finish reason: stop
2025-05-03 19:07:59,083 INFO [root]: Decision: REST | Reason: Current ENERGY is 5, which is critical for movement. Moving in any direction would deplete ENERGY to 0 or below, or cause FOOD/WATER to drop below 0. Resting recovers +2 ENERGY (to 7) while only consuming 2.5 FOOD and 2.5 WATER (leaving 2.5F/4.5W), keeping all resources above 0. This avoids immediate death and prepares for future movement.
2025-05-03 19:07:59,083 INFO [root]: Decision received from engine: REST
2025-05-03 19:07:59,083 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 19:07:59] "POST /decide HTTP/1.1" 200 -
2025-05-03 19:08:01,365 INFO [root]: Received request on /decide endpoint.
2025-05-03 19:08:01,365 INFO [root]: Sending request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 19:10:05,249 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 19:10:05,250 INFO [root]: LLM generation finish reason: length
2025-05-03 19:10:05,250 ERROR [root]: LLM response content is None. Finish reason was: length (Server limit likely reached).
2025-05-03 19:10:05,250 INFO [root]: Decision: REST | Reason: LLM response truncated by server length limit.
2025-05-03 19:10:05,250 INFO [root]: Decision received from engine: REST
2025-05-03 19:10:05,251 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 19:10:05] "POST /decide HTTP/1.1" 200 -
2025-05-03 19:12:09,595 INFO [root]: Received request on /reset endpoint.
2025-05-03 19:12:09,596 INFO [root]: AI memory reset successfully via /reset endpoint.
2025-05-03 19:12:09,596 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 19:12:09] "POST /reset HTTP/1.1" 200 -
2025-05-03 19:12:11,494 INFO [root]: Received request on /decide endpoint.
2025-05-03 19:12:11,495 INFO [root]: Sending request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 19:12:53,214 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 19:12:53,214 INFO [root]: LLM generation finish reason: stop
2025-05-03 19:12:53,215 INFO [root]: Decision: MOVE SOUTH | Reason: The tile at (0,+1) is a Forest with costs -2E, -5F, -3W and a Water Bonus +5W. Moving here reduces resources safely (Food: 15-5=10, Water: 15-3+5=17, Energy: 15-2=13) while providing a Water bonus. Forest terrain is safer and more resource-friendly than nearby Jungle or Swamp tiles, supporting progress toward the east with minimal risk.
2025-05-03 19:12:53,215 INFO [root]: Decision received from engine: MOVE SOUTH
2025-05-03 19:12:53,215 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 19:12:53] "POST /decide HTTP/1.1" 200 -
2025-05-03 19:12:55,501 INFO [root]: Received request on /decide endpoint.
2025-05-03 19:12:55,501 INFO [root]: Sending request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 19:14:03,577 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 19:14:03,577 INFO [root]: LLM generation finish reason: stop
2025-05-03 19:14:03,578 INFO [root]: Decision: MOVE EAST | Reason: The target tile at (+1, 0) is a Jungle with move cost 5, food cost 5, water cost 4, and a Food Bonus. Moving east reduces energy to 5, food to 10, and water to 7—all above critical thresholds. The Food Bonus here directly addresses the player's current surplus of food (15) and provides a recurring benefit for future steps, supporting survival and progress toward the east. This move prioritizes eastward progress while securing a resource bonus, avoiding high-risk terrain like Deserts or Swamps.
2025-05-03 19:14:03,578 INFO [root]: Decision received from engine: MOVE EAST
2025-05-03 19:14:03,578 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 19:14:03] "POST /decide HTTP/1.1" 200 -
2025-05-03 19:14:05,869 INFO [root]: Received request on /decide endpoint.
2025-05-03 19:14:05,870 INFO [root]: Sending request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 19:14:51,285 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 19:14:51,286 INFO [root]: LLM generation finish reason: stop
2025-05-03 19:14:51,286 INFO [root]: Decision: MOVE SOUTHEAST | Reason: The tile at (+1,+1) is a Forest with move cost -3E, -3F, -2W and provides a +5W bonus. Moving here reduces resources safely (Energy: 5-3=2, Food: 11-3=8, Water: 7-2=5) and grants a significant water bonus (5W), improving survival while making progress east. This is preferable to the Swamp tile to the south, which would leave less water (4W) after costs and provide a smaller bonus. The Forest's lower costs and bonus make it a safer, more beneficial move.
2025-05-03 19:14:51,286 INFO [root]: Decision received from engine: MOVE SOUTHEAST
2025-05-03 19:14:51,287 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 19:14:51] "POST /decide HTTP/1.1" 200 -
2025-05-03 19:14:53,570 INFO [root]: Received request on /decide endpoint.
2025-05-03 19:14:53,570 INFO [root]: Sending request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 19:16:58,040 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 19:16:58,041 INFO [root]: LLM generation finish reason: length
2025-05-03 19:16:58,041 ERROR [root]: LLM response content is None. Finish reason was: length (Server limit likely reached).
2025-05-03 19:16:58,041 INFO [root]: Decision: REST | Reason: LLM response truncated by server length limit.
2025-05-03 19:16:58,042 INFO [root]: Decision received from engine: REST
2025-05-03 19:16:58,042 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 19:16:58] "POST /decide HTTP/1.1" 200 -
2025-05-03 19:19:15,731 INFO [root]: Received request on /reset endpoint.
2025-05-03 19:19:15,731 INFO [root]: AI memory reset successfully via /reset endpoint.
2025-05-03 19:19:15,731 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 19:19:15] "POST /reset HTTP/1.1" 200 -
2025-05-03 19:19:17,604 INFO [root]: Received request on /decide endpoint.
2025-05-03 19:19:17,605 INFO [root]: Sending request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 19:19:48,107 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 19:19:48,108 INFO [root]: LLM generation finish reason: stop
2025-05-03 19:19:48,108 INFO [root]: Decision: MOVE EAST | Reason: The tile at (+1, 0) is a Mountain with costs -5E, -4F, -3W and contains a Trader with +8G. Moving east reduces resources to E:10, F:11, W:12 (all above 0), allowing access to the Trader for future GOLD exchanges. This move prioritizes eastward progress while securing a resource-generating Trader, avoiding high-risk terrain like Deserts or Swamps.
2025-05-03 19:19:48,108 INFO [root]: Decision received from engine: MOVE EAST
2025-05-03 19:19:48,109 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 19:19:48] "POST /decide HTTP/1.1" 200 -
2025-05-03 19:19:50,402 INFO [root]: Received request on /decide endpoint.
2025-05-03 19:19:50,402 INFO [root]: Sending request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 19:20:31,044 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 19:20:31,045 INFO [root]: LLM generation finish reason: stop
2025-05-03 19:20:31,045 INFO [root]: Decision: MOVE EAST | Reason: Moving EAST to the Forest tile (+1, 0) subtracts 3 ENERGY, 5 FOOD, and 3 WATER (resulting in 7, 6, and 9 respectively) but provides a +7 WATER bonus, raising WATER to 16. This move safely increases water reserves, maintains progress toward the east, and avoids high-risk terrain. The net resource gain (especially WATER) supports future movement without risking depletion.
2025-05-03 19:20:31,045 INFO [root]: Decision received from engine: MOVE EAST
2025-05-03 19:20:31,045 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 19:20:31] "POST /decide HTTP/1.1" 200 -
2025-05-03 19:20:32,899 INFO [root]: Received request on /decide endpoint.
2025-05-03 19:20:32,899 INFO [root]: Received request on /trade_decide endpoint.
2025-05-03 19:20:32,900 INFO [root]: Sending request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 19:20:32,900 ERROR [root]: Missing required trade state data: player_food, player_water, player_gold, trader_type, trader_food_stock, trader_water_stock
2025-05-03 19:20:32,901 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 19:20:32] "[31m[1mPOST /trade_decide HTTP/1.1[0m" 400 -
2025-05-03 19:21:15,870 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 19:21:15,870 INFO [root]: LLM generation finish reason: stop
2025-05-03 19:21:15,871 INFO [root]: Decision: MOVE EAST | Reason: The tile at (+1, 0) is a Forest with Move:3, Food:5, Water:3, and a +7W[R] bonus. Moving east reduces Food by 5 (11 → 6, safe), Water by 3 (12 → 9) then adds 7 Water (16), and Energy by 3 (10 → 7). This provides a significant Water boost while progressing eastward, aligning with survival and progress goals.
2025-05-03 19:21:15,871 INFO [root]: Decision received from engine: MOVE EAST
2025-05-03 19:21:15,871 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 19:21:15] "POST /decide HTTP/1.1" 200 -
2025-05-03 19:21:17,729 INFO [root]: Received request on /decide endpoint.
2025-05-03 19:21:17,729 INFO [root]: Sending request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 19:21:17,730 INFO [root]: Received request on /trade_decide endpoint.
2025-05-03 19:21:17,731 ERROR [root]: Missing required trade state data: player_food, player_water, player_gold, trader_type, trader_food_stock, trader_water_stock
2025-05-03 19:21:17,731 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 19:21:17] "[31m[1mPOST /trade_decide HTTP/1.1[0m" 400 -
2025-05-03 19:21:39,886 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 19:21:39,888 INFO [root]: LLM generation finish reason: stop
2025-05-03 19:21:39,888 INFO [root]: Decision: MOVE EAST | Reason: Moving east to the Forest tile (+1,0) costs 3 ENERGY (10 → 7), 5 FOOD (11 → 6), and 3 WATER (12 → 9), but the tile provides a +7 WATER bonus, raising WATER to 16. This ensures a safe net gain in WATER while progressing directly east. Food remains above the critical buffer (6 > 3), and energy is sufficient for movement. Alternatives like moving north (to a Mountain) would drain more energy and offer no immediate resource gain, while resting would reduce food/water unnecessarily.
2025-05-03 19:21:39,888 INFO [root]: Decision received from engine: MOVE EAST
2025-05-03 19:21:39,888 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 19:21:39] "POST /decide HTTP/1.1" 200 -
2025-05-03 19:21:41,727 INFO [root]: Received request on /trade_decide endpoint.
2025-05-03 19:21:41,728 INFO [root]: Received request on /decide endpoint.
2025-05-03 19:21:41,728 ERROR [root]: Missing required trade state data: player_food, player_water, player_gold, trader_type, trader_food_stock, trader_water_stock
2025-05-03 19:21:41,728 INFO [root]: Sending request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 19:21:41,729 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 19:21:41] "[31m[1mPOST /trade_decide HTTP/1.1[0m" 400 -
2025-05-03 19:21:50,429 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 19:21:50,430 INFO [root]: LLM generation finish reason: stop
2025-05-03 19:21:50,430 INFO [root]: Decision: MOVE EAST | Reason: The target tile (+1, 0) is a Forest with MOVE cost 3, FOOD cost 5, WATER cost 3, and a +7W bonus. After subtracting costs (Food: 11-5=6, Water: 12-3=9 +7=16, Energy: 10-3=7), all resources remain above zero. This move progresses eastward while securing a significant WATER bonus, aligning with the goal of advancing safely while maintaining resource buffers.
2025-05-03 19:21:50,430 INFO [root]: Decision received from engine: MOVE EAST
2025-05-03 19:21:50,430 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 19:21:50] "POST /decide HTTP/1.1" 200 -
2025-05-03 19:24:03,932 INFO [root]: --- Logging configured for main.py (File & Console) ---
2025-05-03 19:24:04,168 INFO [root]: Initializing DecisionEngine with model: Qwen/Qwen3-14B-AWQ...
2025-05-03 19:24:04,193 INFO [root]: Loading prompt template from: /mnt/c/Users/ryanw/OneDrive - Cal Poly Pomona/CPP Coding/CS3560/CS3560-WSS/PythonAI/prompts/default.txt
2025-05-03 19:24:04,196 INFO [root]: Loading prompt template from: /mnt/c/Users/ryanw/OneDrive - Cal Poly Pomona/CPP Coding/CS3560/CS3560-WSS/PythonAI/prompts/trade_prompt.txt
2025-05-03 19:24:04,196 INFO [root]: DecisionEngine initialized for model: Qwen/Qwen3-14B-AWQ
2025-05-03 19:24:04,197 INFO [root]: Sampling Params: Temp=0.6, TopP=0.95, PresencePenalty=None
2025-05-03 19:24:04,197 INFO [root]: Main prompt loaded: Yes
2025-05-03 19:24:04,197 INFO [root]: Trade prompt loaded: Yes
2025-05-03 19:24:04,197 INFO [root]: DecisionEngine initialized successfully.
2025-05-03 19:24:04,198 INFO [root]: Starting Flask server on 0.0.0.0:5000
2025-05-03 19:24:04,206 INFO [werkzeug]: [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://172.31.197.234:5000
2025-05-03 19:24:04,207 INFO [werkzeug]: [33mPress CTRL+C to quit[0m
2025-05-03 19:25:45,132 INFO [root]: --- Logging configured for main.py (File & Console) ---
2025-05-03 19:25:45,356 INFO [root]: Initializing DecisionEngine with model: Qwen/Qwen3-14B-AWQ...
2025-05-03 19:25:45,382 INFO [root]: Loading prompt template from: /mnt/c/Users/ryanw/OneDrive - Cal Poly Pomona/CPP Coding/CS3560/CS3560-WSS/PythonAI/prompts/trader_test.txt
2025-05-03 19:25:45,384 INFO [root]: Loading prompt template from: /mnt/c/Users/ryanw/OneDrive - Cal Poly Pomona/CPP Coding/CS3560/CS3560-WSS/PythonAI/prompts/trade_prompt.txt
2025-05-03 19:25:45,385 INFO [root]: DecisionEngine initialized for model: Qwen/Qwen3-14B-AWQ
2025-05-03 19:25:45,385 INFO [root]: Sampling Params: Temp=0.6, TopP=0.95, PresencePenalty=None
2025-05-03 19:25:45,385 INFO [root]: Main prompt loaded: Yes
2025-05-03 19:25:45,385 INFO [root]: Trade prompt loaded: Yes
2025-05-03 19:25:45,386 INFO [root]: DecisionEngine initialized successfully.
2025-05-03 19:25:45,387 INFO [root]: Starting Flask server on 0.0.0.0:5000
2025-05-03 19:25:45,393 INFO [werkzeug]: [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://172.31.197.234:5000
2025-05-03 19:25:45,393 INFO [werkzeug]: [33mPress CTRL+C to quit[0m
2025-05-03 19:26:01,879 INFO [root]: Received request on /reset endpoint.
2025-05-03 19:26:01,879 INFO [root]: AI memory reset successfully via /reset endpoint.
2025-05-03 19:26:01,880 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 19:26:01] "POST /reset HTTP/1.1" 200 -
2025-05-03 19:26:03,752 INFO [root]: Received request on /decide endpoint.
2025-05-03 19:26:03,753 INFO [root]: Sending request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 19:26:17,898 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 19:26:17,900 INFO [root]: LLM generation finish reason: stop
2025-05-03 19:26:17,900 INFO [root]: Decision: TRADE | Reason: The player is already on a tile containing a Trader at coordinates (0,0), so the objective is met and trading is the appropriate action.
2025-05-03 19:26:17,900 INFO [root]: Decision received from engine: TRADE
2025-05-03 19:26:17,901 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 19:26:17] "POST /decide HTTP/1.1" 200 -
2025-05-03 19:26:19,757 INFO [root]: Received request on /decide endpoint.
2025-05-03 19:26:19,757 INFO [root]: Received request on /trade_decide endpoint.
2025-05-03 19:26:19,757 INFO [root]: Sending request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 19:26:19,758 ERROR [root]: Error formatting trade prompt: 'json_offer_details'
Traceback (most recent call last):
  File "/mnt/c/Users/ryanw/OneDrive - Cal Poly Pomona/CPP Coding/CS3560/CS3560-WSS/PythonAI/decision_engine.py", line 286, in make_trade_decision
    prompt = self.trade_prompt_template.format(**context)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
KeyError: 'json_offer_details'
2025-05-03 19:26:19,761 INFO [root]: Sending trade request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 19:26:26,008 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 19:26:26,009 INFO [root]: LLM trade generation finish reason: stop
2025-05-03 19:26:26,009 INFO [root]: Trade Decision Raw: REJECT | Reason: The trade prompt is missing specific numerical values for context keys like player resources, trader stocks, and offer details, making it impossible to evaluate the trade terms.
2025-05-03 19:26:26,009 WARNING [root]: AI failed to generate an initial COUNTER OFFER, received: REJECT. Defaulting to REJECT.
2025-05-03 19:26:26,010 INFO [root]: Trade decision received from engine: REJECT
2025-05-03 19:26:26,010 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 19:26:26] "POST /trade_decide HTTP/1.1" 200 -
2025-05-03 19:26:35,334 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 19:26:35,335 INFO [root]: LLM generation finish reason: stop
2025-05-03 19:26:35,336 INFO [root]: Decision: TRADE | Reason: The player is already on a tile containing a Trader at (0,0), so the objective is met and TRADE is the correct action.
2025-05-03 19:26:35,336 INFO [root]: Decision received from engine: TRADE
2025-05-03 19:26:35,336 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 19:26:35] "POST /decide HTTP/1.1" 200 -
2025-05-03 19:26:37,161 INFO [root]: Received request on /decide endpoint.
2025-05-03 19:26:37,162 INFO [root]: Sending request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 19:26:37,162 INFO [root]: Received request on /trade_decide endpoint.
2025-05-03 19:26:37,164 ERROR [root]: Error formatting trade prompt: 'json_offer_details'
Traceback (most recent call last):
  File "/mnt/c/Users/ryanw/OneDrive - Cal Poly Pomona/CPP Coding/CS3560/CS3560-WSS/PythonAI/decision_engine.py", line 286, in make_trade_decision
    prompt = self.trade_prompt_template.format(**context)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
KeyError: 'json_offer_details'
2025-05-03 19:26:37,165 INFO [root]: Sending trade request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 19:26:47,552 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 19:26:47,553 INFO [root]: LLM trade generation finish reason: stop
2025-05-03 19:26:47,553 INFO [root]: Trade Decision Raw: REJECT | Reason: The trade prompt is missing critical context values (e.g., player/resource quantities, trader stock levels, offer details) required to evaluate the trade. Without these, a valid action (ACCEPT/REJECT/COUNTER OFFER) cannot be determined.
2025-05-03 19:26:47,553 WARNING [root]: AI failed to generate an initial COUNTER OFFER, received: REJECT. Defaulting to REJECT.
2025-05-03 19:26:47,554 INFO [root]: Trade decision received from engine: REJECT
2025-05-03 19:26:47,554 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 19:26:47] "POST /trade_decide HTTP/1.1" 200 -
2025-05-03 19:26:53,084 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 19:26:53,085 INFO [root]: LLM generation finish reason: stop
2025-05-03 19:26:53,085 INFO [root]: Decision: TRADE | Reason: The player is already on a tile with a Trader at (0,0), so the objective is met.
2025-05-03 19:26:53,085 INFO [root]: Decision received from engine: TRADE
2025-05-03 19:26:53,086 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 19:26:53] "POST /decide HTTP/1.1" 200 -
2025-05-03 19:26:54,935 INFO [root]: Received request on /decide endpoint.
2025-05-03 19:26:54,936 INFO [root]: Received request on /trade_decide endpoint.
2025-05-03 19:26:54,936 INFO [root]: Sending request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 19:26:54,936 ERROR [root]: Error formatting trade prompt: 'json_offer_details'
Traceback (most recent call last):
  File "/mnt/c/Users/ryanw/OneDrive - Cal Poly Pomona/CPP Coding/CS3560/CS3560-WSS/PythonAI/decision_engine.py", line 286, in make_trade_decision
    prompt = self.trade_prompt_template.format(**context)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
KeyError: 'json_offer_details'
2025-05-03 19:26:54,937 INFO [root]: Sending trade request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 19:27:00,967 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 19:27:00,968 INFO [root]: LLM trade generation finish reason: stop
2025-05-03 19:27:00,968 INFO [root]: Trade Decision Raw: REJECT | Reason: The trade prompt is missing critical details like the actual offer terms (e.g., quantities, prices) and the player's available resources (e.g., current food/water/gold levels). The listed context keys do not provide enough structured information to evaluate the trade.
2025-05-03 19:27:00,968 WARNING [root]: AI failed to generate an initial COUNTER OFFER, received: REJECT. Defaulting to REJECT.
2025-05-03 19:27:00,968 INFO [root]: Trade decision received from engine: REJECT
2025-05-03 19:27:00,969 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 19:27:00] "POST /trade_decide HTTP/1.1" 200 -
2025-05-03 19:27:07,393 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 19:27:07,394 INFO [root]: LLM generation finish reason: stop
2025-05-03 19:27:07,394 INFO [root]: Decision: TRADE | Reason: The player is already on a tile with a Trader at (0,0), so the objective is met and TRADE is the appropriate action.
2025-05-03 19:27:07,394 INFO [root]: Decision received from engine: TRADE
2025-05-03 19:27:07,394 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 19:27:07] "POST /decide HTTP/1.1" 200 -
2025-05-03 19:27:09,241 INFO [root]: Received request on /decide endpoint.
2025-05-03 19:27:09,241 INFO [root]: Received request on /trade_decide endpoint.
2025-05-03 19:27:09,241 INFO [root]: Sending request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 19:27:09,242 ERROR [root]: Error formatting trade prompt: 'json_offer_details'
Traceback (most recent call last):
  File "/mnt/c/Users/ryanw/OneDrive - Cal Poly Pomona/CPP Coding/CS3560/CS3560-WSS/PythonAI/decision_engine.py", line 286, in make_trade_decision
    prompt = self.trade_prompt_template.format(**context)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
KeyError: 'json_offer_details'
2025-05-03 19:27:09,243 INFO [root]: Sending trade request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 19:27:13,044 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 19:27:13,044 INFO [root]: LLM trade generation finish reason: stop
2025-05-03 19:27:13,045 INFO [root]: Trade Decision Raw: REJECT | Reason: The trade prompt is missing critical details about the actual offer being made (e.g., what resources are being exchanged). Context keys like "current_offer_str" and exchange quantities are present, but without knowing what's being offered/asked for, a valid decision can't be made. Please provide full trade offer details.
2025-05-03 19:27:13,045 WARNING [root]: AI failed to generate an initial COUNTER OFFER, received: REJECT. Defaulting to REJECT.
2025-05-03 19:27:13,045 INFO [root]: Trade decision received from engine: REJECT
2025-05-03 19:27:13,046 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 19:27:13] "POST /trade_decide HTTP/1.1" 200 -
2025-05-03 19:27:22,680 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 19:27:22,681 INFO [root]: LLM generation finish reason: stop
2025-05-03 19:27:22,681 INFO [root]: Decision: TRADE | Reason: Player is already on a tile containing a Trader at (0,0), satisfying the objective to trade.
2025-05-03 19:27:22,681 INFO [root]: Decision received from engine: TRADE
2025-05-03 19:27:22,682 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 19:27:22] "POST /decide HTTP/1.1" 200 -
2025-05-03 19:27:24,498 INFO [root]: Received request on /trade_decide endpoint.
2025-05-03 19:27:24,498 INFO [root]: Received request on /decide endpoint.
2025-05-03 19:27:24,498 ERROR [root]: Error formatting trade prompt: 'json_offer_details'
Traceback (most recent call last):
  File "/mnt/c/Users/ryanw/OneDrive - Cal Poly Pomona/CPP Coding/CS3560/CS3560-WSS/PythonAI/decision_engine.py", line 286, in make_trade_decision
    prompt = self.trade_prompt_template.format(**context)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
KeyError: 'json_offer_details'
2025-05-03 19:27:24,499 INFO [root]: Sending request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 19:27:24,499 INFO [root]: Sending trade request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 19:27:30,262 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 19:27:30,263 INFO [root]: LLM trade generation finish reason: stop
2025-05-03 19:27:30,263 INFO [root]: Trade Decision Raw: REJECT | Reason: The trade prompt is missing essential context values (e.g., player/trader resource quantities, offer specifics) required to evaluate the trade. Without concrete data, a valid decision cannot be made.
2025-05-03 19:27:30,263 WARNING [root]: AI failed to generate an initial COUNTER OFFER, received: REJECT. Defaulting to REJECT.
2025-05-03 19:27:30,264 INFO [root]: Trade decision received from engine: REJECT
2025-05-03 19:27:30,264 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 19:27:30] "POST /trade_decide HTTP/1.1" 200 -
2025-05-03 19:27:34,663 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 19:27:34,664 INFO [root]: LLM generation finish reason: stop
2025-05-03 19:27:34,664 INFO [root]: Decision: TRADE | Reason: The player is already on a tile with a Trader at (0,0), so the objective is met.
2025-05-03 19:27:34,664 INFO [root]: Decision received from engine: TRADE
2025-05-03 19:27:34,665 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 19:27:34] "POST /decide HTTP/1.1" 200 -
2025-05-03 19:27:36,504 INFO [root]: Received request on /decide endpoint.
2025-05-03 19:27:36,505 INFO [root]: Received request on /trade_decide endpoint.
2025-05-03 19:27:36,505 INFO [root]: Sending request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 19:27:36,505 ERROR [root]: Error formatting trade prompt: 'json_offer_details'
Traceback (most recent call last):
  File "/mnt/c/Users/ryanw/OneDrive - Cal Poly Pomona/CPP Coding/CS3560/CS3560-WSS/PythonAI/decision_engine.py", line 286, in make_trade_decision
    prompt = self.trade_prompt_template.format(**context)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
KeyError: 'json_offer_details'
2025-05-03 19:27:36,506 INFO [root]: Sending trade request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 19:27:44,522 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 19:27:44,523 INFO [root]: LLM trade generation finish reason: stop
2025-05-03 19:27:44,523 INFO [root]: Trade Decision Raw: REJECT | Reason: The trade prompt is missing essential data (e.g., specific values for resources, trader type, or offer details). Context keys like `current_offer_str`, `food_to_player`, and `gold_to_trader` require concrete values to evaluate the trade. Please provide a fully formatted trade request with all necessary parameters.
2025-05-03 19:27:44,523 WARNING [root]: AI failed to generate an initial COUNTER OFFER, received: REJECT. Defaulting to REJECT.
2025-05-03 19:27:44,523 INFO [root]: Trade decision received from engine: REJECT
2025-05-03 19:27:44,524 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 19:27:44] "POST /trade_decide HTTP/1.1" 200 -
2025-05-03 19:27:48,287 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 19:27:48,288 INFO [root]: LLM generation finish reason: stop
2025-05-03 19:27:48,288 INFO [root]: Decision: TRADE | Reason: The player is already on a tile containing a Trader at coordinates (+0,+0), so the objective is met and trading is the appropriate action.
2025-05-03 19:27:48,288 INFO [root]: Decision received from engine: TRADE
2025-05-03 19:27:48,289 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 19:27:48] "POST /decide HTTP/1.1" 200 -
2025-05-03 19:27:50,142 INFO [root]: Received request on /trade_decide endpoint.
2025-05-03 19:27:50,143 INFO [root]: Received request on /decide endpoint.
2025-05-03 19:27:50,143 ERROR [root]: Error formatting trade prompt: 'json_offer_details'
Traceback (most recent call last):
  File "/mnt/c/Users/ryanw/OneDrive - Cal Poly Pomona/CPP Coding/CS3560/CS3560-WSS/PythonAI/decision_engine.py", line 286, in make_trade_decision
    prompt = self.trade_prompt_template.format(**context)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
KeyError: 'json_offer_details'
2025-05-03 19:27:50,143 INFO [root]: Sending request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 19:27:50,144 INFO [root]: Sending trade request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 19:28:00,547 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 19:28:00,547 INFO [root]: LLM trade generation finish reason: stop
2025-05-03 19:28:00,548 INFO [root]: Trade Decision Raw: REJECT | Reason: The trade prompt is missing essential context values (e.g., player/resource quantities, trader stock, offer details). The keys listed indicate the required variables, but their actual values are not provided, making it impossible to evaluate the trade.
2025-05-03 19:28:00,548 WARNING [root]: AI failed to generate an initial COUNTER OFFER, received: REJECT. Defaulting to REJECT.
2025-05-03 19:28:00,548 INFO [root]: Trade decision received from engine: REJECT
2025-05-03 19:28:00,548 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 19:28:00] "POST /trade_decide HTTP/1.1" 200 -
2025-05-03 19:28:02,215 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 19:28:02,215 INFO [root]: LLM generation finish reason: stop
2025-05-03 19:28:02,216 INFO [root]: Decision: TRADE | Reason: The player is already on a tile with a Trader (position (0,0)), so the objective is met and trading is the required action.
2025-05-03 19:28:02,216 INFO [root]: Decision received from engine: TRADE
2025-05-03 19:28:02,216 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 19:28:02] "POST /decide HTTP/1.1" 200 -
2025-05-03 19:28:04,050 INFO [root]: Received request on /trade_decide endpoint.
2025-05-03 19:28:04,050 INFO [root]: Received request on /decide endpoint.
2025-05-03 19:28:04,050 ERROR [root]: Error formatting trade prompt: 'json_offer_details'
Traceback (most recent call last):
  File "/mnt/c/Users/ryanw/OneDrive - Cal Poly Pomona/CPP Coding/CS3560/CS3560-WSS/PythonAI/decision_engine.py", line 286, in make_trade_decision
    prompt = self.trade_prompt_template.format(**context)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
KeyError: 'json_offer_details'
2025-05-03 19:28:04,051 INFO [root]: Sending request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 19:28:04,052 INFO [root]: Sending trade request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 19:28:10,745 INFO [root]: --- Logging configured for main.py (File & Console) ---
2025-05-03 19:28:10,969 INFO [root]: Initializing DecisionEngine with model: Qwen/Qwen3-14B-AWQ...
2025-05-03 19:28:11,007 INFO [root]: Loading prompt template from: /mnt/c/Users/ryanw/OneDrive - Cal Poly Pomona/CPP Coding/CS3560/CS3560-WSS/PythonAI/prompts/trader_test.txt
2025-05-03 19:28:11,013 INFO [root]: Loading prompt template from: /mnt/c/Users/ryanw/OneDrive - Cal Poly Pomona/CPP Coding/CS3560/CS3560-WSS/PythonAI/prompts/trade_prompt.txt
2025-05-03 19:28:11,014 INFO [root]: DecisionEngine initialized for model: Qwen/Qwen3-14B-AWQ
2025-05-03 19:28:11,014 INFO [root]: Sampling Params: Temp=0.6, TopP=0.95, PresencePenalty=None
2025-05-03 19:28:11,015 INFO [root]: Main prompt loaded: Yes
2025-05-03 19:28:11,015 INFO [root]: Trade prompt loaded: Yes
2025-05-03 19:28:11,015 INFO [root]: DecisionEngine initialized successfully.
2025-05-03 19:28:11,016 INFO [root]: Starting Flask server on 0.0.0.0:5000
2025-05-03 19:28:11,023 INFO [werkzeug]: [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://172.31.197.234:5000
2025-05-03 19:28:11,023 INFO [werkzeug]: [33mPress CTRL+C to quit[0m
2025-05-03 19:28:28,330 INFO [root]: Received request on /reset endpoint.
2025-05-03 19:28:28,331 INFO [root]: AI memory reset successfully via /reset endpoint.
2025-05-03 19:28:28,331 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 19:28:28] "POST /reset HTTP/1.1" 200 -
2025-05-03 19:28:33,799 INFO [root]: Received request on /decide endpoint.
2025-05-03 19:28:33,800 INFO [root]: Sending request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 19:28:47,832 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 19:28:47,837 INFO [root]: LLM generation finish reason: stop
2025-05-03 19:28:47,837 INFO [root]: Decision: MOVE NORTH | Reason: The nearest visible Trader is at (0,-1) directly north. Moving north reaches this trader with sufficient resources (Food:15-3=12, Water:15-7=8, Energy:15-3=12), avoiding resource depletion.
2025-05-03 19:28:47,837 INFO [root]: Decision received from engine: MOVE NORTH
2025-05-03 19:28:47,837 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 19:28:47] "POST /decide HTTP/1.1" 200 -
2025-05-03 19:28:50,131 INFO [root]: Received request on /decide endpoint.
2025-05-03 19:28:50,131 INFO [root]: Sending request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 19:29:22,614 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 19:29:22,615 INFO [root]: LLM generation finish reason: stop
2025-05-03 19:29:22,615 INFO [root]: Decision: MOVE EAST | Reason: The nearest visible Trader is at (+1, +0), one step east. Moving east directly reaches this trader with sufficient resources remaining (Food: 8, Water: 8, Energy: 7).
2025-05-03 19:29:22,615 INFO [root]: Decision received from engine: MOVE EAST
2025-05-03 19:29:22,615 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 19:29:22] "POST /decide HTTP/1.1" 200 -
2025-05-03 19:29:24,915 INFO [root]: Received request on /decide endpoint.
2025-05-03 19:29:24,916 INFO [root]: Sending request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 19:29:37,842 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 19:29:37,843 INFO [root]: LLM generation finish reason: stop
2025-05-03 19:29:37,843 INFO [root]: Decision: TRADE | Reason: The player is already on a tile with a Trader at (0,0), so the objective is met and TRADE is the required action.
2025-05-03 19:29:37,843 INFO [root]: Decision received from engine: TRADE
2025-05-03 19:29:37,844 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 19:29:37] "POST /decide HTTP/1.1" 200 -
2025-05-03 19:29:39,680 INFO [root]: Received request on /trade_decide endpoint.
2025-05-03 19:29:39,680 ERROR [root]: Error formatting trade prompt: 'json_offer_details'
Traceback (most recent call last):
  File "/mnt/c/Users/ryanw/OneDrive - Cal Poly Pomona/CPP Coding/CS3560/CS3560-WSS/PythonAI/decision_engine.py", line 286, in make_trade_decision
    prompt = self.trade_prompt_template.format(**context)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
KeyError: 'json_offer_details'
2025-05-03 19:29:39,682 INFO [root]: Sending trade request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 19:29:39,694 INFO [root]: Received request on /decide endpoint.
2025-05-03 19:29:39,694 INFO [root]: Sending request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 19:29:47,636 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 19:29:47,637 INFO [root]: LLM trade generation finish reason: stop
2025-05-03 19:29:47,637 INFO [root]: Trade Decision Raw: REJECT | Reason: The trade prompt is missing critical context variables required to evaluate the offer, such as the actual values of `current_offer_str`, `food_to_player`, `water_to_player`, `gold_to_player`, and `trader_type`. Without these, the trade cannot be assessed for validity or fairness.
2025-05-03 19:29:47,637 WARNING [root]: AI failed to generate an initial COUNTER OFFER, received: REJECT. Defaulting to REJECT.
2025-05-03 19:29:47,638 INFO [root]: Trade decision received from engine: REJECT
2025-05-03 19:29:47,638 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 19:29:47] "POST /trade_decide HTTP/1.1" 200 -
2025-05-03 19:29:50,763 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 19:29:50,764 INFO [root]: LLM generation finish reason: stop
2025-05-03 19:29:50,764 INFO [root]: Decision: TRADE | Reason: Player is already on the Trader tile at (0,0) as indicated by "WHAT YOU CURRENTLY SEE" showing a Trader at that coordinate.
2025-05-03 19:29:50,764 INFO [root]: Decision received from engine: TRADE
2025-05-03 19:29:50,765 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 19:29:50] "POST /decide HTTP/1.1" 200 -
2025-05-03 19:29:52,605 INFO [root]: Received request on /trade_decide endpoint.
2025-05-03 19:29:52,605 INFO [root]: Received request on /decide endpoint.
2025-05-03 19:29:52,605 ERROR [root]: Error formatting trade prompt: 'json_offer_details'
Traceback (most recent call last):
  File "/mnt/c/Users/ryanw/OneDrive - Cal Poly Pomona/CPP Coding/CS3560/CS3560-WSS/PythonAI/decision_engine.py", line 286, in make_trade_decision
    prompt = self.trade_prompt_template.format(**context)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
KeyError: 'json_offer_details'
2025-05-03 19:29:52,606 INFO [root]: Sending request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 19:29:52,607 INFO [root]: Sending trade request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 19:29:59,233 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 19:29:59,234 INFO [root]: LLM trade generation finish reason: stop
2025-05-03 19:29:59,234 INFO [root]: Trade Decision Raw: REJECT | Reason: The trade prompt is missing essential details required to evaluate the offer, such as the current_offer_str's specific terms or the player's available resources. Without proper formatting or clarity, a valid decision cannot be made.
2025-05-03 19:29:59,234 WARNING [root]: AI failed to generate an initial COUNTER OFFER, received: REJECT. Defaulting to REJECT.
2025-05-03 19:29:59,235 INFO [root]: Trade decision received from engine: REJECT
2025-05-03 19:29:59,235 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 19:29:59] "POST /trade_decide HTTP/1.1" 200 -
2025-05-03 19:30:00,711 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 19:30:00,711 INFO [root]: LLM generation finish reason: stop
2025-05-03 19:30:00,711 INFO [root]: Decision: TRADE | Reason: The player is already on a tile with a Trader at (0,0), so the objective is met and TRADE is the required action.
2025-05-03 19:30:00,712 INFO [root]: Decision received from engine: TRADE
2025-05-03 19:30:00,712 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 19:30:00] "POST /decide HTTP/1.1" 200 -
2025-05-03 19:30:02,551 INFO [root]: Received request on /trade_decide endpoint.
2025-05-03 19:30:02,552 ERROR [root]: Error formatting trade prompt: 'json_offer_details'
Traceback (most recent call last):
  File "/mnt/c/Users/ryanw/OneDrive - Cal Poly Pomona/CPP Coding/CS3560/CS3560-WSS/PythonAI/decision_engine.py", line 286, in make_trade_decision
    prompt = self.trade_prompt_template.format(**context)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
KeyError: 'json_offer_details'
2025-05-03 19:30:02,553 INFO [root]: Sending trade request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 19:30:02,565 INFO [root]: Received request on /decide endpoint.
2025-05-03 19:30:02,566 INFO [root]: Sending request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 19:30:10,691 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 19:30:10,692 INFO [root]: LLM generation finish reason: stop
2025-05-03 19:30:10,692 INFO [root]: Decision: TRADE | Reason: Player is already on a tile with a Trader at (0,0), so the objective is met and TRADE is the required action.
2025-05-03 19:30:10,693 INFO [root]: Decision received from engine: TRADE
2025-05-03 19:30:10,693 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 19:30:10] "POST /decide HTTP/1.1" 200 -
2025-05-03 19:30:11,839 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 19:30:11,839 INFO [root]: LLM trade generation finish reason: stop
2025-05-03 19:30:11,839 INFO [root]: Trade Decision Raw: REJECT | Reason: The trade prompt is missing critical context variables required to evaluate the offer, such as specific values for `current_offer_str`, `food_to_player`, `water_to_player`, `gold_to_player`, and trader stock levels. Without these, the trade cannot be properly assessed.
2025-05-03 19:30:11,839 WARNING [root]: AI failed to generate an initial COUNTER OFFER, received: REJECT. Defaulting to REJECT.
2025-05-03 19:30:11,840 INFO [root]: Trade decision received from engine: REJECT
2025-05-03 19:30:11,840 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 19:30:11] "POST /trade_decide HTTP/1.1" 200 -
2025-05-03 19:30:12,550 INFO [root]: Received request on /trade_decide endpoint.
2025-05-03 19:30:12,550 ERROR [root]: Error formatting trade prompt: 'json_offer_details'
Traceback (most recent call last):
  File "/mnt/c/Users/ryanw/OneDrive - Cal Poly Pomona/CPP Coding/CS3560/CS3560-WSS/PythonAI/decision_engine.py", line 286, in make_trade_decision
    prompt = self.trade_prompt_template.format(**context)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
KeyError: 'json_offer_details'
2025-05-03 19:30:12,551 INFO [root]: Sending trade request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 19:30:13,683 INFO [root]: Received request on /decide endpoint.
2025-05-03 19:30:13,683 INFO [root]: Sending request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 19:30:21,511 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 19:30:21,512 INFO [root]: LLM trade generation finish reason: stop
2025-05-03 19:30:21,512 INFO [root]: Trade Decision Raw: REJECT | Reason: The trade prompt is missing critical context variables required to evaluate the offer, such as specific values for player resources (player_food, player_water, player_gold), trader stocks (trader_food_stock, trader_water_stock), and the actual trade terms (food_to_player, water_to_player, gold_to_player, etc.). Without these, the trade cannot be assessed.
2025-05-03 19:30:21,513 WARNING [root]: AI failed to generate an initial COUNTER OFFER, received: REJECT. Defaulting to REJECT.
2025-05-03 19:30:21,513 INFO [root]: Trade decision received from engine: REJECT
2025-05-03 19:30:21,513 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 19:30:21] "POST /trade_decide HTTP/1.1" 200 -
2025-05-03 19:30:25,146 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 19:30:25,146 INFO [root]: LLM generation finish reason: stop
2025-05-03 19:30:25,146 INFO [root]: Decision: TRADE | Reason: Player is already on the trader tile at (0,0), so TRADE is the correct action.
2025-05-03 19:30:25,147 INFO [root]: Decision received from engine: TRADE
2025-05-03 19:30:25,147 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 19:30:25] "POST /decide HTTP/1.1" 200 -
2025-05-03 19:30:26,991 INFO [root]: Received request on /decide endpoint.
2025-05-03 19:30:26,992 INFO [root]: Received request on /trade_decide endpoint.
2025-05-03 19:30:26,992 INFO [root]: Sending request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 19:30:26,992 ERROR [root]: Error formatting trade prompt: 'json_offer_details'
Traceback (most recent call last):
  File "/mnt/c/Users/ryanw/OneDrive - Cal Poly Pomona/CPP Coding/CS3560/CS3560-WSS/PythonAI/decision_engine.py", line 286, in make_trade_decision
    prompt = self.trade_prompt_template.format(**context)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
KeyError: 'json_offer_details'
2025-05-03 19:30:26,994 INFO [root]: Sending trade request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 19:30:33,804 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 19:30:33,805 INFO [root]: LLM generation finish reason: stop
2025-05-03 19:30:33,805 INFO [root]: Decision: TRADE | Reason: The player is already on the Trader tile at (0,0), so the objective is met and TRADE is the appropriate action.
2025-05-03 19:30:33,805 INFO [root]: Decision received from engine: TRADE
2025-05-03 19:30:33,805 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 19:30:33] "POST /decide HTTP/1.1" 200 -
2025-05-03 19:30:35,116 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 19:30:35,116 INFO [root]: LLM trade generation finish reason: stop
2025-05-03 19:30:35,117 INFO [root]: Trade Decision Raw: REJECT | Reason: The trade prompt is missing critical variables required for proper formatting, such as specific resource values (e.g., `player_food`, `trader_food_stock`) or the structure of the offer terms. Without these, the trade cannot be evaluated or executed.
2025-05-03 19:30:35,117 WARNING [root]: AI failed to generate an initial COUNTER OFFER, received: REJECT. Defaulting to REJECT.
2025-05-03 19:30:35,117 INFO [root]: Trade decision received from engine: REJECT
2025-05-03 19:30:35,118 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 19:30:35] "POST /trade_decide HTTP/1.1" 200 -
2025-05-03 19:30:35,649 INFO [root]: Received request on /trade_decide endpoint.
2025-05-03 19:30:35,649 ERROR [root]: Error formatting trade prompt: 'json_offer_details'
Traceback (most recent call last):
  File "/mnt/c/Users/ryanw/OneDrive - Cal Poly Pomona/CPP Coding/CS3560/CS3560-WSS/PythonAI/decision_engine.py", line 286, in make_trade_decision
    prompt = self.trade_prompt_template.format(**context)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
KeyError: 'json_offer_details'
2025-05-03 19:30:35,650 INFO [root]: Sending trade request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 19:30:36,954 INFO [root]: Received request on /decide endpoint.
2025-05-03 19:30:36,954 INFO [root]: Sending request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 19:30:40,261 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 19:30:40,262 INFO [root]: LLM trade generation finish reason: stop
2025-05-03 19:30:40,262 INFO [root]: Trade Decision Raw: REJECT | Reason: The trade prompt was improperly formatted, likely due to missing or inconsistent context keys required for evaluating the trade offer.
2025-05-03 19:30:40,263 WARNING [root]: AI failed to generate an initial COUNTER OFFER, received: REJECT. Defaulting to REJECT.
2025-05-03 19:30:40,263 INFO [root]: Trade decision received from engine: REJECT
2025-05-03 19:30:40,263 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 19:30:40] "POST /trade_decide HTTP/1.1" 200 -
2025-05-03 19:30:44,461 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 19:30:44,462 INFO [root]: LLM generation finish reason: stop
2025-05-03 19:30:44,462 INFO [root]: Decision: TRADE | Reason: Player is already on a tile with a Trader at (0,0), satisfying the objective to reach a trader.
2025-05-03 19:30:44,462 INFO [root]: Decision received from engine: TRADE
2025-05-03 19:30:44,463 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 19:30:44] "POST /decide HTTP/1.1" 200 -
2025-05-03 19:30:46,295 INFO [root]: Received request on /decide endpoint.
2025-05-03 19:30:46,295 INFO [root]: Received request on /trade_decide endpoint.
2025-05-03 19:30:46,296 INFO [root]: Sending request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 19:30:46,296 ERROR [root]: Error formatting trade prompt: 'json_offer_details'
Traceback (most recent call last):
  File "/mnt/c/Users/ryanw/OneDrive - Cal Poly Pomona/CPP Coding/CS3560/CS3560-WSS/PythonAI/decision_engine.py", line 286, in make_trade_decision
    prompt = self.trade_prompt_template.format(**context)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
KeyError: 'json_offer_details'
2025-05-03 19:30:46,298 INFO [root]: Sending trade request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 19:30:56,293 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 19:30:56,294 INFO [root]: LLM generation finish reason: stop
2025-05-03 19:30:56,294 INFO [root]: Decision: TRADE | Reason: The player is already on a tile with a Trader at (0,0), so the objective is met.
2025-05-03 19:30:56,294 INFO [root]: Decision received from engine: TRADE
2025-05-03 19:30:56,295 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 19:30:56] "POST /decide HTTP/1.1" 200 -
2025-05-03 19:30:56,845 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 19:30:56,846 INFO [root]: LLM trade generation finish reason: stop
2025-05-03 19:30:56,846 INFO [root]: Trade Decision Raw: REJECT | Reason: The trade prompt lacks specific numerical values for player resources (food, water, gold), trader stocks, and the current offer details (e.g., quantities being traded). Without this data, it is impossible to evaluate the trade's validity or make a decision.
2025-05-03 19:30:56,846 WARNING [root]: AI failed to generate an initial COUNTER OFFER, received: REJECT. Defaulting to REJECT.
2025-05-03 19:30:56,847 INFO [root]: Trade decision received from engine: REJECT
2025-05-03 19:30:56,847 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 19:30:56] "POST /trade_decide HTTP/1.1" 200 -
2025-05-03 19:30:58,126 INFO [root]: Received request on /trade_decide endpoint.
2025-05-03 19:30:58,127 ERROR [root]: Error formatting trade prompt: 'json_offer_details'
Traceback (most recent call last):
  File "/mnt/c/Users/ryanw/OneDrive - Cal Poly Pomona/CPP Coding/CS3560/CS3560-WSS/PythonAI/decision_engine.py", line 286, in make_trade_decision
    prompt = self.trade_prompt_template.format(**context)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
KeyError: 'json_offer_details'
2025-05-03 19:30:58,128 INFO [root]: Sending trade request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 19:30:58,689 INFO [root]: Received request on /decide endpoint.
2025-05-03 19:30:58,689 INFO [root]: Sending request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 19:31:05,138 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 19:31:05,139 INFO [root]: LLM trade generation finish reason: stop
2025-05-03 19:31:05,139 INFO [root]: Trade Decision Raw: REJECT | Reason: The trade prompt lacks essential data (e.g., specific offer values, player/trader resource levels) required to evaluate the trade. Context keys are listed, but no concrete values or the actual trade terms (e.g., "current_offer_str") are provided, making it impossible to assess the offer's validity or fairness.
2025-05-03 19:31:05,139 WARNING [root]: AI failed to generate an initial COUNTER OFFER, received: REJECT. Defaulting to REJECT.
2025-05-03 19:31:05,140 INFO [root]: Trade decision received from engine: REJECT
2025-05-03 19:31:05,140 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 19:31:05] "POST /trade_decide HTTP/1.1" 200 -
2025-05-03 19:31:07,151 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 19:31:07,152 INFO [root]: LLM generation finish reason: stop
2025-05-03 19:31:07,152 INFO [root]: Decision: TRADE | Reason: The player is already on a tile containing a Trader at (0,0), so the objective is met and TRADE is the correct action.
2025-05-03 19:31:07,152 INFO [root]: Decision received from engine: TRADE
2025-05-03 19:31:07,153 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 19:31:07] "POST /decide HTTP/1.1" 200 -
2025-05-03 19:31:08,996 INFO [root]: Received request on /decide endpoint.
2025-05-03 19:31:08,996 INFO [root]: Received request on /trade_decide endpoint.
2025-05-03 19:31:08,996 INFO [root]: Sending request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 19:31:08,997 ERROR [root]: Error formatting trade prompt: 'json_offer_details'
Traceback (most recent call last):
  File "/mnt/c/Users/ryanw/OneDrive - Cal Poly Pomona/CPP Coding/CS3560/CS3560-WSS/PythonAI/decision_engine.py", line 286, in make_trade_decision
    prompt = self.trade_prompt_template.format(**context)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
KeyError: 'json_offer_details'
2025-05-03 19:31:08,998 INFO [root]: Sending trade request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 19:31:14,546 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 19:31:14,546 INFO [root]: LLM trade generation finish reason: stop
2025-05-03 19:31:14,547 INFO [root]: Trade Decision Raw: REJECT | Reason: The trade prompt is missing specific numerical values for player resources (food, water, gold), trader stocks, and offer details. Without these, the trade cannot be evaluated for balance, feasibility, or alignment with the trader's personality.
2025-05-03 19:31:14,547 WARNING [root]: AI failed to generate an initial COUNTER OFFER, received: REJECT. Defaulting to REJECT.
2025-05-03 19:31:14,547 INFO [root]: Trade decision received from engine: REJECT
2025-05-03 19:31:14,547 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 19:31:14] "POST /trade_decide HTTP/1.1" 200 -
2025-05-03 19:31:15,319 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 19:31:15,320 INFO [root]: LLM generation finish reason: stop
2025-05-03 19:31:15,320 INFO [root]: Decision: TRADE | Reason: The player is already on a tile with a Trader at (0,0), so the objective is met and TRADE is the appropriate action.
2025-05-03 19:31:15,320 INFO [root]: Decision received from engine: TRADE
2025-05-03 19:31:15,321 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 19:31:15] "POST /decide HTTP/1.1" 200 -
2025-05-03 19:31:17,174 INFO [root]: Received request on /trade_decide endpoint.
2025-05-03 19:31:17,174 INFO [root]: Received request on /decide endpoint.
2025-05-03 19:31:17,175 ERROR [root]: Error formatting trade prompt: 'json_offer_details'
Traceback (most recent call last):
  File "/mnt/c/Users/ryanw/OneDrive - Cal Poly Pomona/CPP Coding/CS3560/CS3560-WSS/PythonAI/decision_engine.py", line 286, in make_trade_decision
    prompt = self.trade_prompt_template.format(**context)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
KeyError: 'json_offer_details'
2025-05-03 19:31:17,175 INFO [root]: Sending request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 19:31:17,176 INFO [root]: Sending trade request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 19:31:25,517 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 19:31:25,517 INFO [root]: LLM trade generation finish reason: stop
2025-05-03 19:31:25,517 INFO [root]: Trade Decision Raw: REJECT | Reason: The trade prompt is incomplete or improperly formatted, missing essential details about the actual offer being proposed (e.g., specific quantities or terms). The listed context keys do not include the full trade proposal, making evaluation impossible.
2025-05-03 19:31:25,517 WARNING [root]: AI failed to generate an initial COUNTER OFFER, received: REJECT. Defaulting to REJECT.
2025-05-03 19:31:25,518 INFO [root]: Trade decision received from engine: REJECT
2025-05-03 19:31:25,518 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 19:31:25] "POST /trade_decide HTTP/1.1" 200 -
2025-05-03 19:31:26,486 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 19:31:26,487 INFO [root]: LLM generation finish reason: stop
2025-05-03 19:31:26,487 INFO [root]: Decision: TRADE | Reason: The player is already on a tile with a Trader at (0,0), so the objective is met.
2025-05-03 19:31:26,487 INFO [root]: Decision received from engine: TRADE
2025-05-03 19:31:26,488 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 19:31:26] "POST /decide HTTP/1.1" 200 -
2025-05-03 19:31:31,949 INFO [root]: Received request on /decide endpoint.
2025-05-03 19:31:31,949 INFO [root]: Received request on /trade_decide endpoint.
2025-05-03 19:31:31,950 INFO [root]: Sending request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 19:31:31,950 ERROR [root]: Error formatting trade prompt: 'json_offer_details'
Traceback (most recent call last):
  File "/mnt/c/Users/ryanw/OneDrive - Cal Poly Pomona/CPP Coding/CS3560/CS3560-WSS/PythonAI/decision_engine.py", line 286, in make_trade_decision
    prompt = self.trade_prompt_template.format(**context)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
KeyError: 'json_offer_details'
2025-05-03 19:31:31,951 INFO [root]: Sending trade request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 19:31:40,566 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 19:31:40,566 INFO [root]: LLM trade generation finish reason: stop
2025-05-03 19:31:40,567 INFO [root]: Trade Decision Raw: REJECT | Reason: The trade prompt is missing critical context variables required to evaluate the offer, such as specific values for `current_offer_str`, `food_to_player`, `water_to_player`, `gold_to_player`, and trader/player resource balances. Without these, the trade cannot be validated or executed.
2025-05-03 19:31:40,567 WARNING [root]: AI failed to generate an initial COUNTER OFFER, received: REJECT. Defaulting to REJECT.
2025-05-03 19:31:40,567 INFO [root]: Trade decision received from engine: REJECT
2025-05-03 19:31:40,568 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 19:31:40] "POST /trade_decide HTTP/1.1" 200 -
2025-05-03 19:31:41,590 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 19:31:41,590 INFO [root]: LLM generation finish reason: stop
2025-05-03 19:31:41,591 INFO [root]: Decision: TRADE | Reason: Player is already on a tile with a Trader at (0,0), satisfying the objective to reach a trader.
2025-05-03 19:31:41,591 INFO [root]: Decision received from engine: TRADE
2025-05-03 19:31:41,591 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 19:31:41] "POST /decide HTTP/1.1" 200 -
2025-05-03 19:31:43,420 INFO [root]: Received request on /trade_decide endpoint.
2025-05-03 19:31:43,420 INFO [root]: Received request on /decide endpoint.
2025-05-03 19:31:43,421 ERROR [root]: Error formatting trade prompt: 'json_offer_details'
Traceback (most recent call last):
  File "/mnt/c/Users/ryanw/OneDrive - Cal Poly Pomona/CPP Coding/CS3560/CS3560-WSS/PythonAI/decision_engine.py", line 286, in make_trade_decision
    prompt = self.trade_prompt_template.format(**context)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
KeyError: 'json_offer_details'
2025-05-03 19:31:43,421 INFO [root]: Sending request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 19:31:43,422 INFO [root]: Sending trade request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 19:31:47,288 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 19:31:47,288 INFO [root]: LLM generation finish reason: stop
2025-05-03 19:31:47,288 INFO [root]: Decision: TRADE | Reason: The player is already on a tile with a Trader at (0,0), so the objective is met and TRADE is the appropriate action.
2025-05-03 19:31:47,289 INFO [root]: Decision received from engine: TRADE
2025-05-03 19:31:47,289 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 19:31:47] "POST /decide HTTP/1.1" 200 -
2025-05-03 19:31:48,094 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 19:31:48,095 INFO [root]: LLM trade generation finish reason: stop
2025-05-03 19:31:48,095 INFO [root]: Trade Decision Raw: REJECT | Reason: The trade prompt is missing critical context values (e.g., player resources, trader stocks, offer details) required to evaluate the trade. Without this data, a valid decision cannot be made.
2025-05-03 19:31:48,095 WARNING [root]: AI failed to generate an initial COUNTER OFFER, received: REJECT. Defaulting to REJECT.
2025-05-03 19:31:48,095 INFO [root]: Trade decision received from engine: REJECT
2025-05-03 19:31:48,095 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 19:31:48] "POST /trade_decide HTTP/1.1" 200 -
2025-05-03 19:31:49,131 INFO [root]: Received request on /trade_decide endpoint.
2025-05-03 19:31:49,132 ERROR [root]: Error formatting trade prompt: 'json_offer_details'
Traceback (most recent call last):
  File "/mnt/c/Users/ryanw/OneDrive - Cal Poly Pomona/CPP Coding/CS3560/CS3560-WSS/PythonAI/decision_engine.py", line 286, in make_trade_decision
    prompt = self.trade_prompt_template.format(**context)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
KeyError: 'json_offer_details'
2025-05-03 19:31:49,133 INFO [root]: Sending trade request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 19:31:49,930 INFO [root]: Received request on /decide endpoint.
2025-05-03 19:31:49,930 INFO [root]: Sending request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 19:31:56,742 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 19:31:56,743 INFO [root]: LLM trade generation finish reason: stop
2025-05-03 19:31:56,743 INFO [root]: Trade Decision Raw: REJECT | Reason: The trade prompt lacks specific values for critical context keys (e.g., player resources, trader stocks, current offer details), making it impossible to evaluate the trade's validity or fairness.
2025-05-03 19:31:56,743 WARNING [root]: AI failed to generate an initial COUNTER OFFER, received: REJECT. Defaulting to REJECT.
2025-05-03 19:31:56,744 INFO [root]: Trade decision received from engine: REJECT
2025-05-03 19:31:56,744 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 19:31:56] "POST /trade_decide HTTP/1.1" 200 -
2025-05-03 19:31:57,343 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 19:31:57,343 INFO [root]: LLM generation finish reason: stop
2025-05-03 19:31:57,344 INFO [root]: Decision: TRADE | Reason: Player is already on the Trader tile at (0,0), so the objective is met and TRADE is the correct action.
2025-05-03 19:31:57,344 INFO [root]: Decision received from engine: TRADE
2025-05-03 19:31:57,344 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 19:31:57] "POST /decide HTTP/1.1" 200 -
2025-05-03 19:31:59,187 INFO [root]: Received request on /trade_decide endpoint.
2025-05-03 19:31:59,188 ERROR [root]: Error formatting trade prompt: 'json_offer_details'
Traceback (most recent call last):
  File "/mnt/c/Users/ryanw/OneDrive - Cal Poly Pomona/CPP Coding/CS3560/CS3560-WSS/PythonAI/decision_engine.py", line 286, in make_trade_decision
    prompt = self.trade_prompt_template.format(**context)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
KeyError: 'json_offer_details'
2025-05-03 19:31:59,188 INFO [root]: Sending trade request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 19:31:59,201 INFO [root]: Received request on /decide endpoint.
2025-05-03 19:31:59,201 INFO [root]: Sending request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 19:32:07,910 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 19:32:07,910 INFO [root]: LLM trade generation finish reason: stop
2025-05-03 19:32:07,911 INFO [root]: Trade Decision Raw: REJECT | Reason: The trade prompt is missing critical context values (e.g., specific quantities of resources, trader type details, or offer terms). Without complete data like `food_to_player`, `gold_to_trader`, or `trader_personality_hint`, the trade cannot be evaluated or formatted properly.
2025-05-03 19:32:07,911 WARNING [root]: AI failed to generate an initial COUNTER OFFER, received: REJECT. Defaulting to REJECT.
2025-05-03 19:32:07,911 INFO [root]: Trade decision received from engine: REJECT
2025-05-03 19:32:07,911 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 19:32:07] "POST /trade_decide HTTP/1.1" 200 -
2025-05-03 19:32:11,733 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 19:32:11,733 INFO [root]: LLM generation finish reason: stop
2025-05-03 19:32:11,734 INFO [root]: Decision: TRADE | Reason: The player is already on a tile containing a Trader at coordinates (0,0), so the objective is met and trading is the required action.
2025-05-03 19:32:11,734 INFO [root]: Decision received from engine: TRADE
2025-05-03 19:32:11,734 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 19:32:11] "POST /decide HTTP/1.1" 200 -
2025-05-03 19:32:13,560 INFO [root]: Received request on /trade_decide endpoint.
2025-05-03 19:32:13,560 ERROR [root]: Error formatting trade prompt: 'json_offer_details'
Traceback (most recent call last):
  File "/mnt/c/Users/ryanw/OneDrive - Cal Poly Pomona/CPP Coding/CS3560/CS3560-WSS/PythonAI/decision_engine.py", line 286, in make_trade_decision
    prompt = self.trade_prompt_template.format(**context)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
KeyError: 'json_offer_details'
2025-05-03 19:32:13,561 INFO [root]: Sending trade request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 19:32:13,587 INFO [root]: Received request on /decide endpoint.
2025-05-03 19:32:13,588 INFO [root]: Sending request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 19:32:20,706 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 19:32:20,706 INFO [root]: LLM generation finish reason: stop
2025-05-03 19:32:20,707 INFO [root]: Decision: TRADE | Reason: The player is already on a tile containing a Trader at coordinates (0, 0), satisfying the objective to reach a Trader. Per rule 6, when on a Trader tile, the action should be TRADE.
2025-05-03 19:32:20,707 INFO [root]: Decision received from engine: TRADE
2025-05-03 19:32:20,707 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 19:32:20] "POST /decide HTTP/1.1" 200 -
2025-05-03 19:32:22,556 INFO [root]: Received request on /trade_decide endpoint.
2025-05-03 19:32:22,556 ERROR [root]: Error formatting trade prompt: 'json_offer_details'
Traceback (most recent call last):
  File "/mnt/c/Users/ryanw/OneDrive - Cal Poly Pomona/CPP Coding/CS3560/CS3560-WSS/PythonAI/decision_engine.py", line 286, in make_trade_decision
    prompt = self.trade_prompt_template.format(**context)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
KeyError: 'json_offer_details'
2025-05-03 19:32:22,557 INFO [root]: Sending trade request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 19:32:23,020 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 19:32:23,021 INFO [root]: LLM trade generation finish reason: stop
2025-05-03 19:32:23,021 INFO [root]: Trade Decision Raw: REJECT | Reason: The trade prompt is missing essential details like the actual offer terms (e.g., quantities of resources being exchanged) and the trader's specific proposal. Context keys like `current_offer_str` and trade direction variables (`food_to_player`, `gold_to_trader`, etc.) are present but not properly integrated into a coherent offer description, making it impossible to evaluate the trade.
2025-05-03 19:32:23,021 WARNING [root]: AI failed to generate an initial COUNTER OFFER, received: REJECT. Defaulting to REJECT.
2025-05-03 19:32:23,022 INFO [root]: Trade decision received from engine: REJECT
2025-05-03 19:32:23,022 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 19:32:23] "POST /trade_decide HTTP/1.1" 200 -
2025-05-03 19:32:24,871 INFO [root]: Received request on /decide endpoint.
2025-05-03 19:32:24,872 INFO [root]: Sending request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 19:32:29,702 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 19:32:29,703 INFO [root]: LLM trade generation finish reason: stop
2025-05-03 19:32:29,703 INFO [root]: Trade Decision Raw: REJECT | Reason: The trade prompt is missing critical data values (e.g., numerical quantities for player resources, trader stocks, and offer details). Without concrete numbers, the trade cannot be evaluated for feasibility, balance, or alignment with game mechanics.
2025-05-03 19:32:29,703 WARNING [root]: AI failed to generate an initial COUNTER OFFER, received: REJECT. Defaulting to REJECT.
2025-05-03 19:32:29,704 INFO [root]: Trade decision received from engine: REJECT
2025-05-03 19:32:29,704 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 19:32:29] "POST /trade_decide HTTP/1.1" 200 -
2025-05-03 19:32:30,882 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 19:32:30,882 INFO [root]: LLM generation finish reason: stop
2025-05-03 19:32:30,883 INFO [root]: Decision: TRADE | Reason: Player is already on the Trader tile at (0, 0) which contains a Trader.
2025-05-03 19:32:30,883 INFO [root]: Decision received from engine: TRADE
2025-05-03 19:32:30,883 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 19:32:30] "POST /decide HTTP/1.1" 200 -
2025-05-03 19:32:32,725 INFO [root]: Received request on /decide endpoint.
2025-05-03 19:32:32,725 INFO [root]: Received request on /trade_decide endpoint.
2025-05-03 19:32:32,725 INFO [root]: Sending request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 19:32:32,726 ERROR [root]: Error formatting trade prompt: 'json_offer_details'
Traceback (most recent call last):
  File "/mnt/c/Users/ryanw/OneDrive - Cal Poly Pomona/CPP Coding/CS3560/CS3560-WSS/PythonAI/decision_engine.py", line 286, in make_trade_decision
    prompt = self.trade_prompt_template.format(**context)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
KeyError: 'json_offer_details'
2025-05-03 19:32:32,727 INFO [root]: Sending trade request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 19:32:44,650 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 19:32:44,651 INFO [root]: LLM trade generation finish reason: stop
2025-05-03 19:32:44,651 INFO [root]: Trade Decision Raw: REJECT | Reason: The trade prompt is missing essential details like specific values for player resources (food, water, gold), trader stocks, and the current offer terms. Without concrete numbers or clear offer parameters, a valid trade decision cannot be made.
2025-05-03 19:32:44,651 WARNING [root]: AI failed to generate an initial COUNTER OFFER, received: REJECT. Defaulting to REJECT.
2025-05-03 19:32:44,651 INFO [root]: Trade decision received from engine: REJECT
2025-05-03 19:32:44,652 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 19:32:44] "POST /trade_decide HTTP/1.1" 200 -
2025-05-03 19:32:47,188 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 19:32:47,189 INFO [root]: LLM generation finish reason: stop
2025-05-03 19:32:47,189 INFO [root]: Decision: TRADE | Reason: The player is already on the Trader tile at (0,0), so the objective is met.
2025-05-03 19:32:47,189 INFO [root]: Decision received from engine: TRADE
2025-05-03 19:32:47,189 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 19:32:47] "POST /decide HTTP/1.1" 200 -
2025-05-03 19:32:49,005 INFO [root]: Received request on /decide endpoint.
2025-05-03 19:32:49,006 INFO [root]: Received request on /trade_decide endpoint.
2025-05-03 19:32:49,006 INFO [root]: Sending request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 19:32:49,006 ERROR [root]: Error formatting trade prompt: 'json_offer_details'
Traceback (most recent call last):
  File "/mnt/c/Users/ryanw/OneDrive - Cal Poly Pomona/CPP Coding/CS3560/CS3560-WSS/PythonAI/decision_engine.py", line 286, in make_trade_decision
    prompt = self.trade_prompt_template.format(**context)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
KeyError: 'json_offer_details'
2025-05-03 19:32:49,008 INFO [root]: Sending trade request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 19:32:53,587 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 19:32:53,588 INFO [root]: LLM trade generation finish reason: stop
2025-05-03 19:32:53,588 INFO [root]: Trade Decision Raw: REJECT | Reason: The trade prompt is missing critical context values (e.g., player resources, trader stocks, offer details) required to evaluate the trade. Without these, a valid decision cannot be made.
2025-05-03 19:32:53,589 WARNING [root]: AI failed to generate an initial COUNTER OFFER, received: REJECT. Defaulting to REJECT.
2025-05-03 19:32:53,589 INFO [root]: Trade decision received from engine: REJECT
2025-05-03 19:32:53,589 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 19:32:53] "POST /trade_decide HTTP/1.1" 200 -
2025-05-03 19:32:56,404 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 19:32:56,405 INFO [root]: LLM generation finish reason: stop
2025-05-03 19:32:56,405 INFO [root]: Decision: TRADE | Reason: Player is already on the Trader tile at (0,0), as confirmed by "WHAT YOU CURRENTLY SEE" showing a Trader at their current position. Objective is met.
2025-05-03 19:32:56,405 INFO [root]: Decision received from engine: TRADE
2025-05-03 19:32:56,406 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 19:32:56] "POST /decide HTTP/1.1" 200 -
2025-05-03 19:32:58,258 INFO [root]: Received request on /trade_decide endpoint.
2025-05-03 19:32:58,259 ERROR [root]: Error formatting trade prompt: 'json_offer_details'
Traceback (most recent call last):
  File "/mnt/c/Users/ryanw/OneDrive - Cal Poly Pomona/CPP Coding/CS3560/CS3560-WSS/PythonAI/decision_engine.py", line 286, in make_trade_decision
    prompt = self.trade_prompt_template.format(**context)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
KeyError: 'json_offer_details'
2025-05-03 19:32:58,259 INFO [root]: Received request on /decide endpoint.
2025-05-03 19:32:58,260 INFO [root]: Sending trade request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 19:32:58,260 INFO [root]: Sending request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 19:33:02,478 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 19:33:02,479 INFO [root]: LLM trade generation finish reason: stop
2025-05-03 19:33:02,479 INFO [root]: Trade Decision Raw: REJECT | Reason: The trade prompt is missing critical context values (e.g., player resources, trader stocks, offer specifics) required to evaluate the trade. Without numerical data, a valid decision cannot be made.
2025-05-03 19:33:02,479 WARNING [root]: AI failed to generate an initial COUNTER OFFER, received: REJECT. Defaulting to REJECT.
2025-05-03 19:33:02,479 INFO [root]: Trade decision received from engine: REJECT
2025-05-03 19:33:02,480 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 19:33:02] "POST /trade_decide HTTP/1.1" 200 -
2025-05-03 19:33:03,614 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 19:33:03,615 INFO [root]: LLM generation finish reason: stop
2025-05-03 19:33:03,615 INFO [root]: Decision: TRADE | Reason: Player is already on a tile with a Trader at (0,0), so the objective is met and TRADE is the appropriate action.
2025-05-03 19:33:03,616 INFO [root]: Decision received from engine: TRADE
2025-05-03 19:33:03,616 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 19:33:03] "POST /decide HTTP/1.1" 200 -
2025-05-03 19:33:05,472 INFO [root]: Received request on /trade_decide endpoint.
2025-05-03 19:33:05,473 INFO [root]: Received request on /decide endpoint.
2025-05-03 19:33:05,473 ERROR [root]: Error formatting trade prompt: 'json_offer_details'
Traceback (most recent call last):
  File "/mnt/c/Users/ryanw/OneDrive - Cal Poly Pomona/CPP Coding/CS3560/CS3560-WSS/PythonAI/decision_engine.py", line 286, in make_trade_decision
    "trader_food_stock": trader_info.get("food_stock", 0), "trader_water_stock": trader_info.get("water_stock", 0),
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
KeyError: 'json_offer_details'
2025-05-03 19:33:05,473 INFO [root]: Sending request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 19:33:05,485 INFO [root]: Sending trade request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 19:33:09,074 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 19:33:09,075 INFO [root]: LLM trade generation finish reason: stop
2025-05-03 19:33:09,075 INFO [root]: Trade Decision Raw: REJECT | Reason: The trade prompt is incomplete or improperly formatted, missing critical details about the actual offer terms, trader identity, or specific trade conditions required to evaluate the proposal.
2025-05-03 19:33:09,075 WARNING [root]: AI failed to generate an initial COUNTER OFFER, received: REJECT. Defaulting to REJECT.
2025-05-03 19:33:09,076 INFO [root]: Trade decision received from engine: REJECT
2025-05-03 19:33:09,076 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 19:33:09] "POST /trade_decide HTTP/1.1" 200 -
2025-05-03 19:33:11,001 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 19:33:11,002 INFO [root]: LLM generation finish reason: stop
2025-05-03 19:33:11,002 INFO [root]: Decision: TRADE | Reason: Player is already on a tile with a Trader at (0,0), so the objective is met.
2025-05-03 19:33:11,002 INFO [root]: Decision received from engine: TRADE
2025-05-03 19:33:11,003 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 19:33:11] "POST /decide HTTP/1.1" 200 -
2025-05-03 19:33:12,824 INFO [root]: Received request on /trade_decide endpoint.
2025-05-03 19:33:12,824 ERROR [root]: Error formatting trade prompt: 'json_offer_details'
Traceback (most recent call last):
  File "/mnt/c/Users/ryanw/OneDrive - Cal Poly Pomona/CPP Coding/CS3560/CS3560-WSS/PythonAI/decision_engine.py", line 286, in make_trade_decision
    "trader_food_stock": trader_info.get("food_stock", 0), "trader_water_stock": trader_info.get("water_stock", 0),
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
KeyError: 'json_offer_details'
2025-05-03 19:33:12,825 INFO [root]: Sending trade request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 19:33:12,838 INFO [root]: Received request on /decide endpoint.
2025-05-03 19:33:12,838 INFO [root]: Sending request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 19:33:20,239 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 19:33:20,240 INFO [root]: LLM trade generation finish reason: stop
2025-05-03 19:33:20,240 INFO [root]: Trade Decision Raw: REJECT | Reason: The trade prompt is missing critical numerical values (e.g., player resources, trader stocks, offer specifics) required to evaluate the trade. Without these details, a valid decision cannot be made.
2025-05-03 19:33:20,240 WARNING [root]: AI failed to generate an initial COUNTER OFFER, received: REJECT. Defaulting to REJECT.
2025-05-03 19:33:20,240 INFO [root]: Trade decision received from engine: REJECT
2025-05-03 19:33:20,240 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 19:33:20] "POST /trade_decide HTTP/1.1" 200 -
2025-05-03 19:33:22,941 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 19:33:22,942 INFO [root]: LLM generation finish reason: stop
2025-05-03 19:33:22,942 INFO [root]: Decision: TRADE | Reason: The player is already on a tile with a Trader at (0,0), so the objective is met and TRADE is the correct action.
2025-05-03 19:33:22,942 INFO [root]: Decision received from engine: TRADE
2025-05-03 19:33:22,943 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 19:33:22] "POST /decide HTTP/1.1" 200 -
2025-05-03 19:33:24,777 INFO [root]: Received request on /decide endpoint.
2025-05-03 19:33:24,778 INFO [root]: Received request on /trade_decide endpoint.
2025-05-03 19:33:24,778 INFO [root]: Sending request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 19:33:24,778 ERROR [root]: Error formatting trade prompt: 'json_offer_details'
Traceback (most recent call last):
  File "/mnt/c/Users/ryanw/OneDrive - Cal Poly Pomona/CPP Coding/CS3560/CS3560-WSS/PythonAI/decision_engine.py", line 286, in make_trade_decision
    "trader_food_stock": trader_info.get("food_stock", 0), "trader_water_stock": trader_info.get("water_stock", 0),
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
KeyError: 'json_offer_details'
2025-05-03 19:33:24,780 INFO [root]: Sending trade request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 19:33:30,256 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 19:33:30,256 INFO [root]: LLM trade generation finish reason: stop
2025-05-03 19:33:30,257 INFO [root]: Trade Decision Raw: REJECT | Reason: The trade prompt is malformed or missing required parameters. The context keys provided do not include actual values for resources (e.g., player_food, trader_food_stock) or the current offer details (e.g., food_to_player, gold_to_trader). A valid trade prompt must specify numerical values for all relevant variables to enable proper evaluation.
2025-05-03 19:33:30,257 WARNING [root]: AI failed to generate an initial COUNTER OFFER, received: REJECT. Defaulting to REJECT.
2025-05-03 19:33:30,258 INFO [root]: Trade decision received from engine: REJECT
2025-05-03 19:33:30,259 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 19:33:30] "POST /trade_decide HTTP/1.1" 200 -
2025-05-03 19:33:34,437 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 19:33:34,438 INFO [root]: LLM generation finish reason: stop
2025-05-03 19:33:34,438 INFO [root]: Decision: TRADE | Reason: Player is already on the Trader tile at (0,0) as confirmed by "WHAT YOU CURRENTLY SEE" showing a Trader at that coordinate. Rule 6 explicitly states to choose TRADE when on a Trader tile.
2025-05-03 19:33:34,438 INFO [root]: Decision received from engine: TRADE
2025-05-03 19:33:34,439 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 19:33:34] "POST /decide HTTP/1.1" 200 -
2025-05-03 19:33:36,264 INFO [root]: Received request on /decide endpoint.
2025-05-03 19:33:36,264 INFO [root]: Received request on /trade_decide endpoint.
2025-05-03 19:33:36,265 INFO [root]: Sending request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 19:33:36,265 ERROR [root]: Error formatting trade prompt: 'json_offer_details'
Traceback (most recent call last):
  File "/mnt/c/Users/ryanw/OneDrive - Cal Poly Pomona/CPP Coding/CS3560/CS3560-WSS/PythonAI/decision_engine.py", line 286, in make_trade_decision
    "trader_food_stock": trader_info.get("food_stock", 0), "trader_water_stock": trader_info.get("water_stock", 0),
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
KeyError: 'json_offer_details'
2025-05-03 19:33:36,266 INFO [root]: Sending trade request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 19:33:41,186 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 19:33:41,187 INFO [root]: LLM trade generation finish reason: stop
2025-05-03 19:33:41,187 INFO [root]: Trade Decision Raw: REJECT | Reason: The trade prompt is missing critical context values (e.g., player/trader resource quantities, offer specifics, trader type/personality) required to evaluate the trade. Without this data, a valid decision cannot be made.
2025-05-03 19:33:41,187 WARNING [root]: AI failed to generate an initial COUNTER OFFER, received: REJECT. Defaulting to REJECT.
2025-05-03 19:33:41,188 INFO [root]: Trade decision received from engine: REJECT
2025-05-03 19:33:41,188 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 19:33:41] "POST /trade_decide HTTP/1.1" 200 -
2025-05-03 19:33:43,928 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 19:33:43,929 INFO [root]: LLM generation finish reason: stop
2025-05-03 19:33:43,929 INFO [root]: Decision: TRADE | Reason: The player is already on the Trader tile at (0,0), so the objective is met and trading is the appropriate action.
2025-05-03 19:33:43,930 INFO [root]: Decision received from engine: TRADE
2025-05-03 19:33:43,930 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 19:33:43] "POST /decide HTTP/1.1" 200 -
2025-05-03 19:33:45,768 INFO [root]: Received request on /decide endpoint.
2025-05-03 19:33:45,769 INFO [root]: Received request on /trade_decide endpoint.
2025-05-03 19:33:45,769 INFO [root]: Sending request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 19:33:45,769 ERROR [root]: Error formatting trade prompt: 'json_offer_details'
Traceback (most recent call last):
  File "/mnt/c/Users/ryanw/OneDrive - Cal Poly Pomona/CPP Coding/CS3560/CS3560-WSS/PythonAI/decision_engine.py", line 286, in make_trade_decision
    "trader_food_stock": trader_info.get("food_stock", 0), "trader_water_stock": trader_info.get("water_stock", 0),
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
KeyError: 'json_offer_details'
2025-05-03 19:33:45,770 INFO [root]: Sending trade request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 19:33:51,482 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 19:33:51,483 INFO [root]: LLM trade generation finish reason: stop
2025-05-03 19:33:51,484 INFO [root]: Trade Decision Raw: REJECT | Reason: The trade prompt is missing critical context variables required to evaluate the offer, such as `trader_name`, `current_offer_str`, and specific values for `food_to_player`, `water_to_player`, `gold_to_player`, etc. Without these, the trade cannot be assessed.
2025-05-03 19:33:51,484 WARNING [root]: AI failed to generate an initial COUNTER OFFER, received: REJECT. Defaulting to REJECT.
2025-05-03 19:33:51,484 INFO [root]: Trade decision received from engine: REJECT
2025-05-03 19:33:51,485 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 19:33:51] "POST /trade_decide HTTP/1.1" 200 -
2025-05-03 19:33:56,596 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 19:33:56,597 INFO [root]: LLM generation finish reason: stop
2025-05-03 19:33:56,597 INFO [root]: Decision: TRADE | Reason: The player is already on a tile containing a Trader at (0,0), so the objective is met and trading is the required action.
2025-05-03 19:33:56,597 INFO [root]: Decision received from engine: TRADE
2025-05-03 19:33:56,597 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 19:33:56] "POST /decide HTTP/1.1" 200 -
2025-05-03 19:33:58,450 INFO [root]: Received request on /decide endpoint.
2025-05-03 19:33:58,450 INFO [root]: Received request on /trade_decide endpoint.
2025-05-03 19:33:58,450 INFO [root]: Sending request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 19:33:58,450 ERROR [root]: Error formatting trade prompt: 'json_offer_details'
Traceback (most recent call last):
  File "/mnt/c/Users/ryanw/OneDrive - Cal Poly Pomona/CPP Coding/CS3560/CS3560-WSS/PythonAI/decision_engine.py", line 286, in make_trade_decision
    "trader_food_stock": trader_info.get("food_stock", 0), "trader_water_stock": trader_info.get("water_stock", 0),
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
KeyError: 'json_offer_details'
2025-05-03 19:33:58,452 INFO [root]: Sending trade request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 19:34:04,706 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 19:34:04,707 INFO [root]: LLM trade generation finish reason: stop
2025-05-03 19:34:04,707 INFO [root]: Trade Decision Raw: REJECT | Reason: The trade prompt lacks essential context values (e.g., player/max food/water, trader stocks, offer specifics) required to evaluate the trade. Without these, a valid decision cannot be made.
2025-05-03 19:34:04,707 WARNING [root]: AI failed to generate an initial COUNTER OFFER, received: REJECT. Defaulting to REJECT.
2025-05-03 19:34:04,707 INFO [root]: Trade decision received from engine: REJECT
2025-05-03 19:34:04,708 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 19:34:04] "POST /trade_decide HTTP/1.1" 200 -
2025-05-03 19:34:05,113 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 19:34:05,114 INFO [root]: LLM generation finish reason: stop
2025-05-03 19:34:05,114 INFO [root]: Decision: TRADE | Reason: The player is already on a tile containing a Trader at (0,0), so the objective is met and TRADE is the required action.
2025-05-03 19:34:05,114 INFO [root]: Decision received from engine: TRADE
2025-05-03 19:34:05,115 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 19:34:05] "POST /decide HTTP/1.1" 200 -
2025-05-03 19:34:06,946 INFO [root]: Received request on /trade_decide endpoint.
2025-05-03 19:34:06,947 ERROR [root]: Error formatting trade prompt: 'json_offer_details'
Traceback (most recent call last):
  File "/mnt/c/Users/ryanw/OneDrive - Cal Poly Pomona/CPP Coding/CS3560/CS3560-WSS/PythonAI/decision_engine.py", line 286, in make_trade_decision
    "trader_food_stock": trader_info.get("food_stock", 0), "trader_water_stock": trader_info.get("water_stock", 0),
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
KeyError: 'json_offer_details'
2025-05-03 19:34:06,947 INFO [root]: Received request on /decide endpoint.
2025-05-03 19:34:06,948 INFO [root]: Sending trade request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 19:34:06,948 INFO [root]: Sending request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 19:34:14,472 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 19:34:14,473 INFO [root]: LLM generation finish reason: stop
2025-05-03 19:34:14,473 INFO [root]: Decision: TRADE | Reason: The player is already on a tile with a Trader at (0,0), so the objective is met and TRADE is the appropriate action.
2025-05-03 19:34:14,473 INFO [root]: Decision received from engine: TRADE
2025-05-03 19:34:14,473 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 19:34:14] "POST /decide HTTP/1.1" 200 -
2025-05-03 19:34:14,815 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 19:34:14,816 INFO [root]: LLM trade generation finish reason: stop
2025-05-03 19:34:14,816 INFO [root]: Trade Decision Raw: REJECT | Reason: The trade prompt is missing essential numerical values for the resources being exchanged (e.g., `food_to_player`, `water_to_player`, `gold_to_player`, etc.). The `current_offer_str` is a string, but the system requires explicit numerical fields to evaluate the trade.
2025-05-03 19:34:14,816 WARNING [root]: AI failed to generate an initial COUNTER OFFER, received: REJECT. Defaulting to REJECT.
2025-05-03 19:34:14,816 INFO [root]: Trade decision received from engine: REJECT
2025-05-03 19:34:14,817 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 19:34:14] "POST /trade_decide HTTP/1.1" 200 -
2025-05-03 19:34:16,326 INFO [root]: Received request on /trade_decide endpoint.
2025-05-03 19:34:16,326 ERROR [root]: Error formatting trade prompt: 'json_offer_details'
Traceback (most recent call last):
  File "/mnt/c/Users/ryanw/OneDrive - Cal Poly Pomona/CPP Coding/CS3560/CS3560-WSS/PythonAI/decision_engine.py", line 286, in make_trade_decision
    "trader_food_stock": trader_info.get("food_stock", 0), "trader_water_stock": trader_info.get("water_stock", 0),
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
KeyError: 'json_offer_details'
2025-05-03 19:34:16,327 INFO [root]: Sending trade request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 19:34:16,661 INFO [root]: Received request on /decide endpoint.
2025-05-03 19:34:16,661 INFO [root]: Sending request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 19:34:21,738 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 19:34:21,739 INFO [root]: LLM trade generation finish reason: stop
2025-05-03 19:34:21,739 INFO [root]: Trade Decision Raw: REJECT | Reason: The trade prompt is missing critical formatting elements required to evaluate the offer, such as clear definitions of the current offer terms, resource exchange rates, or trader-specific constraints. Without proper structure, a valid decision cannot be made.
2025-05-03 19:34:21,739 WARNING [root]: AI failed to generate an initial COUNTER OFFER, received: REJECT. Defaulting to REJECT.
2025-05-03 19:34:21,739 INFO [root]: Trade decision received from engine: REJECT
2025-05-03 19:34:21,740 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 19:34:21] "POST /trade_decide HTTP/1.1" 200 -
2025-05-03 19:34:23,265 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 19:34:23,266 INFO [root]: LLM generation finish reason: stop
2025-05-03 19:34:23,266 INFO [root]: Decision: TRADE | Reason: The player is already on a tile with a Trader at (0,0), so the objective is met and TRADE is the appropriate action.
2025-05-03 19:34:23,266 INFO [root]: Decision received from engine: TRADE
2025-05-03 19:34:23,267 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 19:34:23] "POST /decide HTTP/1.1" 200 -
2025-05-03 19:34:25,091 INFO [root]: Received request on /trade_decide endpoint.
2025-05-03 19:34:25,091 INFO [root]: Received request on /decide endpoint.
2025-05-03 19:34:25,092 ERROR [root]: Error formatting trade prompt: 'json_offer_details'
Traceback (most recent call last):
  File "/mnt/c/Users/ryanw/OneDrive - Cal Poly Pomona/CPP Coding/CS3560/CS3560-WSS/PythonAI/decision_engine.py", line 286, in make_trade_decision
    "trader_food_stock": trader_info.get("food_stock", 0), "trader_water_stock": trader_info.get("water_stock", 0),
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
KeyError: 'json_offer_details'
2025-05-03 19:34:25,092 INFO [root]: Sending request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 19:34:25,093 INFO [root]: Sending trade request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 19:34:34,402 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 19:34:34,402 INFO [root]: LLM trade generation finish reason: stop
2025-05-03 19:34:34,402 INFO [root]: Trade Decision Raw: REJECT | Reason: The trade prompt is missing critical details about the actual offer terms (e.g., what the trader is offering in exchange for what the player is giving). Without knowing the specific exchange rates or items involved, the trade cannot be evaluated. Please provide the full offer details.
2025-05-03 19:34:34,403 WARNING [root]: AI failed to generate an initial COUNTER OFFER, received: REJECT. Defaulting to REJECT.
2025-05-03 19:34:34,403 INFO [root]: Trade decision received from engine: REJECT
2025-05-03 19:34:34,403 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 19:34:34] "POST /trade_decide HTTP/1.1" 200 -
2025-05-03 19:34:36,482 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 19:34:36,483 INFO [root]: LLM generation finish reason: stop
2025-05-03 19:34:36,483 INFO [root]: Decision: TRADE | Reason: The player is already on a tile containing a Trader at (0,0), so the objective is met and TRADE is the required action.
2025-05-03 19:34:36,483 INFO [root]: Decision received from engine: TRADE
2025-05-03 19:34:36,483 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 19:34:36] "POST /decide HTTP/1.1" 200 -
2025-05-03 19:34:38,324 INFO [root]: Received request on /decide endpoint.
2025-05-03 19:34:38,325 INFO [root]: Received request on /trade_decide endpoint.
2025-05-03 19:34:38,325 INFO [root]: Sending request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 19:34:38,325 ERROR [root]: Error formatting trade prompt: 'json_offer_details'
Traceback (most recent call last):
  File "/mnt/c/Users/ryanw/OneDrive - Cal Poly Pomona/CPP Coding/CS3560/CS3560-WSS/PythonAI/decision_engine.py", line 286, in make_trade_decision
    "trader_food_stock": trader_info.get("food_stock", 0), "trader_water_stock": trader_info.get("water_stock", 0),
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
KeyError: 'json_offer_details'
2025-05-03 19:34:38,326 INFO [root]: Sending trade request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 19:34:42,619 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 19:34:42,620 INFO [root]: LLM trade generation finish reason: stop
2025-05-03 19:34:42,620 INFO [root]: Trade Decision Raw: REJECT | Reason: The trade prompt is missing critical context variables (e.g., player resources, trader stocks, offer details) required to evaluate the trade. Without this data, a valid decision cannot be made.
2025-05-03 19:34:42,620 WARNING [root]: AI failed to generate an initial COUNTER OFFER, received: REJECT. Defaulting to REJECT.
2025-05-03 19:34:42,621 INFO [root]: Trade decision received from engine: REJECT
2025-05-03 19:34:42,621 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 19:34:42] "POST /trade_decide HTTP/1.1" 200 -
2025-05-03 19:34:48,227 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 19:34:48,228 INFO [root]: LLM generation finish reason: stop
2025-05-03 19:34:48,229 INFO [root]: Decision: TRADE | Reason: The player is already on a tile containing a Trader at (0, 0), so the objective is met and trading is the appropriate action.
2025-05-03 19:34:48,229 INFO [root]: Decision received from engine: TRADE
2025-05-03 19:34:48,229 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 19:34:48] "POST /decide HTTP/1.1" 200 -
2025-05-03 19:34:50,059 INFO [root]: Received request on /decide endpoint.
2025-05-03 19:34:50,060 INFO [root]: Sending request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 19:34:50,060 INFO [root]: Received request on /trade_decide endpoint.
2025-05-03 19:34:50,061 ERROR [root]: Error formatting trade prompt: 'json_offer_details'
Traceback (most recent call last):
  File "/mnt/c/Users/ryanw/OneDrive - Cal Poly Pomona/CPP Coding/CS3560/CS3560-WSS/PythonAI/decision_engine.py", line 286, in make_trade_decision
    "trader_food_stock": trader_info.get("food_stock", 0), "trader_water_stock": trader_info.get("water_stock", 0),
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
KeyError: 'json_offer_details'
2025-05-03 19:34:50,062 INFO [root]: Sending trade request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 19:34:56,750 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 19:34:56,751 INFO [root]: LLM trade generation finish reason: stop
2025-05-03 19:34:56,751 INFO [root]: Trade Decision Raw: REJECT | Reason: The trade prompt formatting is invalid. The response must begin with the trade action (ACCEPT/REJECT/COUNTER OFFER) as the first line, followed by "Reason:" and a plain-text explanation. JSON formatting is not permitted in this context.
2025-05-03 19:34:56,751 WARNING [root]: AI failed to generate an initial COUNTER OFFER, received: REJECT. Defaulting to REJECT.
2025-05-03 19:34:56,751 INFO [root]: Trade decision received from engine: REJECT
2025-05-03 19:34:56,752 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 19:34:56] "POST /trade_decide HTTP/1.1" 200 -
2025-05-03 19:34:59,275 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 19:34:59,276 INFO [root]: LLM generation finish reason: stop
2025-05-03 19:34:59,276 INFO [root]: Decision: TRADE | Reason: The player is already on the Trader tile at (0,0), as indicated by "WHAT YOU CURRENTLY SEE" showing a Trader at this position. Rule 6 mandates TRADE when on a Trader tile.
2025-05-03 19:34:59,276 INFO [root]: Decision received from engine: TRADE
2025-05-03 19:34:59,277 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 19:34:59] "POST /decide HTTP/1.1" 200 -
2025-05-03 19:35:01,124 INFO [root]: Received request on /trade_decide endpoint.
2025-05-03 19:35:01,124 INFO [root]: Received request on /decide endpoint.
2025-05-03 19:35:01,124 ERROR [root]: Error formatting trade prompt: 'json_offer_details'
Traceback (most recent call last):
  File "/mnt/c/Users/ryanw/OneDrive - Cal Poly Pomona/CPP Coding/CS3560/CS3560-WSS/PythonAI/decision_engine.py", line 286, in make_trade_decision
    "trader_food_stock": trader_info.get("food_stock", 0), "trader_water_stock": trader_info.get("water_stock", 0),
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
KeyError: 'json_offer_details'
2025-05-03 19:35:01,125 INFO [root]: Sending request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 19:35:01,126 INFO [root]: Sending trade request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 19:35:10,835 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 19:35:10,835 INFO [root]: LLM trade generation finish reason: stop
2025-05-03 19:35:10,836 INFO [root]: Trade Decision Raw: REJECT | Reason: The trade prompt is missing critical details like the actual offer terms (e.g., quantities of food/water/gold being exchanged) and the player's current resources. Without this data, a valid decision cannot be made.
2025-05-03 19:35:10,836 WARNING [root]: AI failed to generate an initial COUNTER OFFER, received: REJECT. Defaulting to REJECT.
2025-05-03 19:35:10,836 INFO [root]: Trade decision received from engine: REJECT
2025-05-03 19:35:10,837 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 19:35:10] "POST /trade_decide HTTP/1.1" 200 -
2025-05-03 19:35:11,491 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 19:35:11,492 INFO [root]: LLM generation finish reason: stop
2025-05-03 19:35:11,492 INFO [root]: Decision: TRADE | Reason: The player is already on a tile containing a Trader at (0,0), so the objective is met and TRADE is the appropriate action.
2025-05-03 19:35:11,492 INFO [root]: Decision received from engine: TRADE
2025-05-03 19:35:11,493 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 19:35:11] "POST /decide HTTP/1.1" 200 -
2025-05-03 19:35:13,347 INFO [root]: Received request on /trade_decide endpoint.
2025-05-03 19:35:13,348 INFO [root]: Received request on /decide endpoint.
2025-05-03 19:35:13,348 ERROR [root]: Error formatting trade prompt: 'json_offer_details'
Traceback (most recent call last):
  File "/mnt/c/Users/ryanw/OneDrive - Cal Poly Pomona/CPP Coding/CS3560/CS3560-WSS/PythonAI/decision_engine.py", line 286, in make_trade_decision
    "trader_food_stock": trader_info.get("food_stock", 0), "trader_water_stock": trader_info.get("water_stock", 0),
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
KeyError: 'json_offer_details'
2025-05-03 19:35:13,348 INFO [root]: Sending request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 19:35:13,349 INFO [root]: Sending trade request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 19:35:17,930 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 19:35:17,930 INFO [root]: LLM trade generation finish reason: stop
2025-05-03 19:35:17,931 INFO [root]: Trade Decision Raw: REJECT | Reason: The trade prompt is malformed or missing critical context variables required to evaluate the offer. The context keys indicate incomplete or improperly formatted trade parameters, making it impossible to assess the proposal accurately.
2025-05-03 19:35:17,931 WARNING [root]: AI failed to generate an initial COUNTER OFFER, received: REJECT. Defaulting to REJECT.
2025-05-03 19:35:17,931 INFO [root]: Trade decision received from engine: REJECT
2025-05-03 19:35:17,931 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 19:35:17] "POST /trade_decide HTTP/1.1" 200 -
2025-05-03 19:35:19,690 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 19:35:19,691 INFO [root]: LLM generation finish reason: stop
2025-05-03 19:35:19,691 INFO [root]: Decision: TRADE | Reason: The player is already on a tile with a Trader at (0,0), so the objective is met.
2025-05-03 19:35:19,691 INFO [root]: Decision received from engine: TRADE
2025-05-03 19:35:19,691 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 19:35:19] "POST /decide HTTP/1.1" 200 -
2025-05-03 19:35:21,512 INFO [root]: Received request on /decide endpoint.
2025-05-03 19:35:21,512 INFO [root]: Received request on /trade_decide endpoint.
2025-05-03 19:35:21,512 INFO [root]: Sending request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 19:35:21,513 ERROR [root]: Error formatting trade prompt: 'json_offer_details'
Traceback (most recent call last):
  File "/mnt/c/Users/ryanw/OneDrive - Cal Poly Pomona/CPP Coding/CS3560/CS3560-WSS/PythonAI/decision_engine.py", line 286, in make_trade_decision
    "trader_food_stock": trader_info.get("food_stock", 0), "trader_water_stock": trader_info.get("water_stock", 0),
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
KeyError: 'json_offer_details'
2025-05-03 19:35:21,514 INFO [root]: Sending trade request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 19:35:27,239 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 19:35:27,240 INFO [root]: LLM trade generation finish reason: stop
2025-05-03 19:35:27,240 INFO [root]: Trade Decision Raw: REJECT | Reason: The trade prompt is missing specific values for context keys like player resources, trader stocks, and offer details. Without numerical data (e.g., how much food/water/gold is being traded, player capacity, trader inventory), a valid decision cannot be made. Please provide complete trade parameters.
2025-05-03 19:35:27,240 WARNING [root]: AI failed to generate an initial COUNTER OFFER, received: REJECT. Defaulting to REJECT.
2025-05-03 19:35:27,241 INFO [root]: Trade decision received from engine: REJECT
2025-05-03 19:35:27,241 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 19:35:27] "POST /trade_decide HTTP/1.1" 200 -
2025-05-03 19:35:28,939 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 19:35:28,940 INFO [root]: LLM generation finish reason: stop
2025-05-03 19:35:28,940 INFO [root]: Decision: TRADE | Reason: The player is already on a tile containing a Trader at (0,0), so the objective is met and TRADE is the required action.
2025-05-03 19:35:28,940 INFO [root]: Decision received from engine: TRADE
2025-05-03 19:35:28,941 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 19:35:28] "POST /decide HTTP/1.1" 200 -
2025-05-03 19:35:30,769 INFO [root]: Received request on /trade_decide endpoint.
2025-05-03 19:35:30,769 INFO [root]: Received request on /decide endpoint.
2025-05-03 19:35:30,769 ERROR [root]: Error formatting trade prompt: 'json_offer_details'
Traceback (most recent call last):
  File "/mnt/c/Users/ryanw/OneDrive - Cal Poly Pomona/CPP Coding/CS3560/CS3560-WSS/PythonAI/decision_engine.py", line 286, in make_trade_decision
    "trader_food_stock": trader_info.get("food_stock", 0), "trader_water_stock": trader_info.get("water_stock", 0),
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
KeyError: 'json_offer_details'
2025-05-03 19:35:30,770 INFO [root]: Sending request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 19:35:30,770 INFO [root]: Sending trade request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 19:35:36,239 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 19:35:36,240 INFO [root]: LLM trade generation finish reason: stop
2025-05-03 19:35:36,240 INFO [root]: Trade Decision Raw: REJECT | Reason: The trade prompt is missing the required 'current_offer' key, which is necessary to evaluate the trade action. The existing context includes 'current_offer_str' (a string representation) but lacks the structured 'current_offer' object needed for processing.
2025-05-03 19:35:36,241 WARNING [root]: AI failed to generate an initial COUNTER OFFER, received: REJECT. Defaulting to REJECT.
2025-05-03 19:35:36,241 INFO [root]: Trade decision received from engine: REJECT
2025-05-03 19:35:36,241 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 19:35:36] "POST /trade_decide HTTP/1.1" 200 -
2025-05-03 19:35:37,046 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 19:35:37,046 INFO [root]: LLM generation finish reason: stop
2025-05-03 19:35:37,047 INFO [root]: Decision: TRADE | Reason: The player is already on a tile containing a Trader at (0,0), so the objective is met and TRADE is the required action.
2025-05-03 19:35:37,047 INFO [root]: Decision received from engine: TRADE
2025-05-03 19:35:37,047 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 19:35:37] "POST /decide HTTP/1.1" 200 -
2025-05-03 19:35:38,877 INFO [root]: Received request on /decide endpoint.
2025-05-03 19:35:38,877 INFO [root]: Sending request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 19:35:38,892 INFO [root]: Received request on /trade_decide endpoint.
2025-05-03 19:35:38,892 ERROR [root]: Error formatting trade prompt: 'json_offer_details'
Traceback (most recent call last):
  File "/mnt/c/Users/ryanw/OneDrive - Cal Poly Pomona/CPP Coding/CS3560/CS3560-WSS/PythonAI/decision_engine.py", line 286, in make_trade_decision
    "trader_food_stock": trader_info.get("food_stock", 0), "trader_water_stock": trader_info.get("water_stock", 0),
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
KeyError: 'json_offer_details'
2025-05-03 19:35:38,893 INFO [root]: Sending trade request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 19:35:50,538 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 19:35:50,538 INFO [root]: LLM trade generation finish reason: stop
2025-05-03 19:35:50,539 INFO [root]: Trade Decision Raw: REJECT | Reason: The trade prompt is missing critical data such as specific values for player resources (food, water, gold), trader stocks, and the actual offer details (e.g., quantities being exchanged). Without this information, a valid trade decision cannot be made.
2025-05-03 19:35:50,539 WARNING [root]: AI failed to generate an initial COUNTER OFFER, received: REJECT. Defaulting to REJECT.
2025-05-03 19:35:50,539 INFO [root]: Trade decision received from engine: REJECT
2025-05-03 19:35:50,539 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 19:35:50] "POST /trade_decide HTTP/1.1" 200 -
2025-05-03 19:35:50,938 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 19:35:50,938 INFO [root]: LLM generation finish reason: stop
2025-05-03 19:35:50,938 INFO [root]: Decision: TRADE | Reason: The player is already on a tile with a Trader at (0,0), so the objective is met and TRADE is the required action.
2025-05-03 19:35:50,939 INFO [root]: Decision received from engine: TRADE
2025-05-03 19:35:50,939 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 19:35:50] "POST /decide HTTP/1.1" 200 -
2025-05-03 19:35:52,771 INFO [root]: Received request on /decide endpoint.
2025-05-03 19:35:52,772 INFO [root]: Received request on /trade_decide endpoint.
2025-05-03 19:35:52,772 INFO [root]: Sending request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 19:35:52,772 ERROR [root]: Error formatting trade prompt: 'json_offer_details'
Traceback (most recent call last):
  File "/mnt/c/Users/ryanw/OneDrive - Cal Poly Pomona/CPP Coding/CS3560/CS3560-WSS/PythonAI/decision_engine.py", line 286, in make_trade_decision
    "trader_food_stock": trader_info.get("food_stock", 0), "trader_water_stock": trader_info.get("water_stock", 0),
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
KeyError: 'json_offer_details'
2025-05-03 19:35:52,773 INFO [root]: Sending trade request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 19:35:59,602 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 19:35:59,603 INFO [root]: LLM generation finish reason: stop
2025-05-03 19:35:59,603 INFO [root]: Decision: TRADE | Reason: The player is already on a tile with a Trader at (0,0), so the objective is met.
2025-05-03 19:35:59,603 INFO [root]: Decision received from engine: TRADE
2025-05-03 19:35:59,603 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 19:35:59] "POST /decide HTTP/1.1" 200 -
2025-05-03 19:36:00,346 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 19:36:00,346 INFO [root]: LLM trade generation finish reason: stop
2025-05-03 19:36:00,346 INFO [root]: Trade Decision Raw: REJECT | Reason: The trade prompt is missing critical details about the current offer (e.g., quantities, prices, or terms), making it impossible to evaluate or respond to the trade proposal. Context keys like `current_offer_str` or specific resource exchange values are required for a valid decision.
2025-05-03 19:36:00,347 WARNING [root]: AI failed to generate an initial COUNTER OFFER, received: REJECT. Defaulting to REJECT.
2025-05-03 19:36:00,347 INFO [root]: Trade decision received from engine: REJECT
2025-05-03 19:36:00,347 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 19:36:00] "POST /trade_decide HTTP/1.1" 200 -
2025-05-03 19:36:01,433 INFO [root]: Received request on /trade_decide endpoint.
2025-05-03 19:36:01,433 ERROR [root]: Error formatting trade prompt: 'json_offer_details'
Traceback (most recent call last):
  File "/mnt/c/Users/ryanw/OneDrive - Cal Poly Pomona/CPP Coding/CS3560/CS3560-WSS/PythonAI/decision_engine.py", line 286, in make_trade_decision
    "trader_food_stock": trader_info.get("food_stock", 0), "trader_water_stock": trader_info.get("water_stock", 0),
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
KeyError: 'json_offer_details'
2025-05-03 19:36:01,434 INFO [root]: Sending trade request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 19:36:02,179 INFO [root]: Received request on /decide endpoint.
2025-05-03 19:36:02,180 INFO [root]: Sending request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 19:36:06,859 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 19:36:06,860 INFO [root]: LLM trade generation finish reason: stop
2025-05-03 19:36:06,860 INFO [root]: Trade Decision Raw: REJECT | Reason: The trade prompt is missing essential numerical values (e.g., quantities of food, water, gold, or player/max capacities) required to evaluate the offer. Without concrete data, the trade cannot be assessed for balance or feasibility.
2025-05-03 19:36:06,861 WARNING [root]: AI failed to generate an initial COUNTER OFFER, received: REJECT. Defaulting to REJECT.
2025-05-03 19:36:06,861 INFO [root]: Trade decision received from engine: REJECT
2025-05-03 19:36:06,861 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 19:36:06] "POST /trade_decide HTTP/1.1" 200 -
2025-05-03 19:36:09,977 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 19:36:09,978 INFO [root]: LLM generation finish reason: stop
2025-05-03 19:36:09,978 INFO [root]: Decision: TRADE | Reason: The player is already on a tile containing a Trader at (0,0), so the objective is met and TRADE is the required action.
2025-05-03 19:36:09,978 INFO [root]: Decision received from engine: TRADE
2025-05-03 19:36:09,978 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 19:36:09] "POST /decide HTTP/1.1" 200 -
2025-05-03 19:36:11,809 INFO [root]: Received request on /decide endpoint.
2025-05-03 19:36:11,810 INFO [root]: Sending request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 19:36:11,810 INFO [root]: Received request on /trade_decide endpoint.
2025-05-03 19:36:11,811 ERROR [root]: Error formatting trade prompt: 'json_offer_details'
Traceback (most recent call last):
  File "/mnt/c/Users/ryanw/OneDrive - Cal Poly Pomona/CPP Coding/CS3560/CS3560-WSS/PythonAI/decision_engine.py", line 286, in make_trade_decision
    "trader_food_stock": trader_info.get("food_stock", 0), "trader_water_stock": trader_info.get("water_stock", 0),
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
KeyError: 'json_offer_details'
2025-05-03 19:36:11,812 INFO [root]: Sending trade request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 19:36:20,745 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 19:36:20,745 INFO [root]: LLM generation finish reason: stop
2025-05-03 19:36:20,745 INFO [root]: Decision: TRADE | Reason: The player is already on a tile containing a Trader at (0,0), so the objective is met and trading is the required action.
2025-05-03 19:36:20,746 INFO [root]: Decision received from engine: TRADE
2025-05-03 19:36:20,746 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 19:36:20] "POST /decide HTTP/1.1" 200 -
2025-05-03 19:36:22,593 INFO [root]: Received request on /trade_decide endpoint.
2025-05-03 19:36:22,594 ERROR [root]: Error formatting trade prompt: 'json_offer_details'
Traceback (most recent call last):
  File "/mnt/c/Users/ryanw/OneDrive - Cal Poly Pomona/CPP Coding/CS3560/CS3560-WSS/PythonAI/decision_engine.py", line 286, in make_trade_decision
    "trader_food_stock": trader_info.get("food_stock", 0), "trader_water_stock": trader_info.get("water_stock", 0),
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
KeyError: 'json_offer_details'
2025-05-03 19:36:22,595 INFO [root]: Sending trade request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 19:36:22,910 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 19:36:22,910 INFO [root]: LLM trade generation finish reason: stop
2025-05-03 19:36:22,910 INFO [root]: Trade Decision Raw: REJECT | Reason: The trade prompt is missing critical context variables required to evaluate the offer, such as the player's current resources (player_food, player_water, player_gold), trader's available stock (trader_food_stock, trader_water_stock), and the specific exchange terms (food_to_player, water_to_player, gold_to_player, etc.). Without this data, the trade cannot be validated or accepted.
2025-05-03 19:36:22,911 WARNING [root]: AI failed to generate an initial COUNTER OFFER, received: REJECT. Defaulting to REJECT.
2025-05-03 19:36:22,911 INFO [root]: Trade decision received from engine: REJECT
2025-05-03 19:36:22,911 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 19:36:22] "POST /trade_decide HTTP/1.1" 200 -
2025-05-03 19:36:24,728 INFO [root]: Received request on /decide endpoint.
2025-05-03 19:36:24,728 INFO [root]: Sending request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 19:36:29,437 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 19:36:29,437 INFO [root]: LLM trade generation finish reason: stop
2025-05-03 19:36:29,437 INFO [root]: Trade Decision Raw: REJECT | Reason: The trade prompt is incomplete or improperly formatted, missing critical context keys like 'current_offer_str' or specific resource values (e.g., player_food, trader_food_stock). Without full details about the offer terms, resources, and trader behavior, a valid trade decision cannot be made.
2025-05-03 19:36:29,438 WARNING [root]: AI failed to generate an initial COUNTER OFFER, received: REJECT. Defaulting to REJECT.
2025-05-03 19:36:29,438 INFO [root]: Trade decision received from engine: REJECT
2025-05-03 19:36:29,438 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 19:36:29] "POST /trade_decide HTTP/1.1" 200 -
2025-05-03 19:36:31,001 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 19:36:31,001 INFO [root]: LLM generation finish reason: stop
2025-05-03 19:36:31,002 INFO [root]: Decision: TRADE | Reason: Player is already on a tile containing a Trader at (0,0), fulfilling the objective.
2025-05-03 19:36:31,002 INFO [root]: Decision received from engine: TRADE
2025-05-03 19:36:31,002 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 19:36:31] "POST /decide HTTP/1.1" 200 -
2025-05-03 19:36:32,859 INFO [root]: Received request on /decide endpoint.
2025-05-03 19:36:32,860 INFO [root]: Received request on /trade_decide endpoint.
2025-05-03 19:36:32,860 INFO [root]: Sending request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 19:36:32,860 ERROR [root]: Error formatting trade prompt: 'json_offer_details'
Traceback (most recent call last):
  File "/mnt/c/Users/ryanw/OneDrive - Cal Poly Pomona/CPP Coding/CS3560/CS3560-WSS/PythonAI/decision_engine.py", line 286, in make_trade_decision
    "trader_food_stock": trader_info.get("food_stock", 0), "trader_water_stock": trader_info.get("water_stock", 0),
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
KeyError: 'json_offer_details'
2025-05-03 19:36:32,861 INFO [root]: Sending trade request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 19:36:43,118 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 19:36:43,119 INFO [root]: LLM trade generation finish reason: stop
2025-05-03 19:36:43,119 INFO [root]: Trade Decision Raw: REJECT | Reason: The trade prompt lacks specific values for critical context keys (e.g., player resources, trader stocks, offer details), making it impossible to evaluate the trade's validity or fairness. Without concrete data, a decision cannot be made.
2025-05-03 19:36:43,119 WARNING [root]: AI failed to generate an initial COUNTER OFFER, received: REJECT. Defaulting to REJECT.
2025-05-03 19:36:43,119 INFO [root]: Trade decision received from engine: REJECT
2025-05-03 19:36:43,119 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 19:36:43] "POST /trade_decide HTTP/1.1" 200 -
2025-05-03 19:36:43,268 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 19:36:43,268 INFO [root]: LLM generation finish reason: stop
2025-05-03 19:36:43,269 INFO [root]: Decision: TRADE | Reason: The player is already on a tile containing a Trader at (0,0), so the objective is met and trading is the required action.
2025-05-03 19:36:43,269 INFO [root]: Decision received from engine: TRADE
2025-05-03 19:36:43,269 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 19:36:43] "POST /decide HTTP/1.1" 200 -
2025-05-03 19:36:45,091 INFO [root]: Received request on /trade_decide endpoint.
2025-05-03 19:36:45,092 ERROR [root]: Error formatting trade prompt: 'json_offer_details'
Traceback (most recent call last):
  File "/mnt/c/Users/ryanw/OneDrive - Cal Poly Pomona/CPP Coding/CS3560/CS3560-WSS/PythonAI/decision_engine.py", line 286, in make_trade_decision
    "trader_food_stock": trader_info.get("food_stock", 0), "trader_water_stock": trader_info.get("water_stock", 0),
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
KeyError: 'json_offer_details'
2025-05-03 19:36:45,093 INFO [root]: Sending trade request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 19:36:45,105 INFO [root]: Received request on /decide endpoint.
2025-05-03 19:36:45,106 INFO [root]: Sending request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 19:36:55,972 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 19:36:55,973 INFO [root]: LLM trade generation finish reason: stop
2025-05-03 19:36:55,974 INFO [root]: Trade Decision Raw: REJECT | Reason: The trade prompt context is incorrectly formatted as a list of keys rather than a valid JSON object with key-value pairs, making it impossible to evaluate the trade terms.
2025-05-03 19:36:55,974 WARNING [root]: AI failed to generate an initial COUNTER OFFER, received: REJECT. Defaulting to REJECT.
2025-05-03 19:36:55,974 INFO [root]: Trade decision received from engine: REJECT
2025-05-03 19:36:55,975 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 19:36:55] "POST /trade_decide HTTP/1.1" 200 -
2025-05-03 19:36:58,951 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 19:36:58,952 INFO [root]: LLM generation finish reason: stop
2025-05-03 19:36:58,952 INFO [root]: Decision: TRADE | Reason: The player is already on the Trader tile at (0,0), so the objective is met and TRADE is the correct action.
2025-05-03 19:36:58,952 INFO [root]: Decision received from engine: TRADE
2025-05-03 19:36:58,953 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 19:36:58] "POST /decide HTTP/1.1" 200 -
2025-05-03 19:37:00,762 INFO [root]: Received request on /decide endpoint.
2025-05-03 19:37:00,763 INFO [root]: Sending request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 19:37:00,763 INFO [root]: Received request on /trade_decide endpoint.
2025-05-03 19:37:00,764 ERROR [root]: Error formatting trade prompt: 'json_offer_details'
Traceback (most recent call last):
  File "/mnt/c/Users/ryanw/OneDrive - Cal Poly Pomona/CPP Coding/CS3560/CS3560-WSS/PythonAI/decision_engine.py", line 286, in make_trade_decision
    "trader_food_stock": trader_info.get("food_stock", 0), "trader_water_stock": trader_info.get("water_stock", 0),
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
KeyError: 'json_offer_details'
2025-05-03 19:37:00,765 INFO [root]: Sending trade request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 19:37:07,842 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 19:37:07,843 INFO [root]: LLM trade generation finish reason: stop
2025-05-03 19:37:07,843 INFO [root]: Trade Decision Raw: REJECT | Reason: The trade prompt is missing critical data values (e.g., actual resource quantities, current_offer_str content, trader stock levels) needed to evaluate the trade. Only context keys were provided, not the specific numerical values required to determine a valid action.
2025-05-03 19:37:07,844 WARNING [root]: AI failed to generate an initial COUNTER OFFER, received: REJECT. Defaulting to REJECT.
2025-05-03 19:37:07,844 INFO [root]: Trade decision received from engine: REJECT
2025-05-03 19:37:07,844 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 19:37:07] "POST /trade_decide HTTP/1.1" 200 -
2025-05-03 19:37:08,434 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 19:37:08,434 INFO [root]: LLM generation finish reason: stop
2025-05-03 19:37:08,435 INFO [root]: Decision: TRADE | Reason: The player is already on the Trader tile at (0, 0), so the objective is met and TRADE is the correct action.
2025-05-03 19:37:08,435 INFO [root]: Decision received from engine: TRADE
2025-05-03 19:37:08,435 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 19:37:08] "POST /decide HTTP/1.1" 200 -
2025-05-03 19:37:10,277 INFO [root]: Received request on /decide endpoint.
2025-05-03 19:37:10,278 INFO [root]: Received request on /trade_decide endpoint.
2025-05-03 19:37:10,278 INFO [root]: Sending request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 19:37:10,278 ERROR [root]: Error formatting trade prompt: 'json_offer_details'
Traceback (most recent call last):
  File "/mnt/c/Users/ryanw/OneDrive - Cal Poly Pomona/CPP Coding/CS3560/CS3560-WSS/PythonAI/decision_engine.py", line 286, in make_trade_decision
    "trader_food_stock": trader_info.get("food_stock", 0), "trader_water_stock": trader_info.get("water_stock", 0),
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
KeyError: 'json_offer_details'
2025-05-03 19:37:10,280 INFO [root]: Sending trade request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 19:37:15,729 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 19:37:15,731 INFO [root]: LLM generation finish reason: stop
2025-05-03 19:37:15,731 INFO [root]: Decision: TRADE | Reason: The player is already on a tile containing a Trader at (0,0), so the objective is met and TRADE is the required action.
2025-05-03 19:37:15,731 INFO [root]: Decision received from engine: TRADE
2025-05-03 19:37:15,732 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 19:37:15] "POST /decide HTTP/1.1" 200 -
2025-05-03 19:37:16,100 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 19:37:16,100 INFO [root]: LLM trade generation finish reason: stop
2025-05-03 19:37:16,101 INFO [root]: Trade Decision Raw: REJECT | Reason: The trade prompt is missing specific numerical values for critical context keys (e.g., player_food, trader_food_stock, food_to_player, etc.), making it impossible to evaluate the offer's validity or fairness. Without concrete data, a meaningful decision cannot be made.
2025-05-03 19:37:16,101 WARNING [root]: AI failed to generate an initial COUNTER OFFER, received: REJECT. Defaulting to REJECT.
2025-05-03 19:37:16,101 INFO [root]: Trade decision received from engine: REJECT
2025-05-03 19:37:16,101 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 19:37:16] "POST /trade_decide HTTP/1.1" 200 -
2025-05-03 19:37:17,567 INFO [root]: Received request on /trade_decide endpoint.
2025-05-03 19:37:17,568 ERROR [root]: Error formatting trade prompt: 'json_offer_details'
Traceback (most recent call last):
  File "/mnt/c/Users/ryanw/OneDrive - Cal Poly Pomona/CPP Coding/CS3560/CS3560-WSS/PythonAI/decision_engine.py", line 286, in make_trade_decision
    "trader_food_stock": trader_info.get("food_stock", 0), "trader_water_stock": trader_info.get("water_stock", 0),
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
KeyError: 'json_offer_details'
2025-05-03 19:37:17,569 INFO [root]: Sending trade request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 19:37:17,946 INFO [root]: Received request on /decide endpoint.
2025-05-03 19:37:17,947 INFO [root]: Sending request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 19:37:21,550 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 19:37:21,551 INFO [root]: LLM trade generation finish reason: stop
2025-05-03 19:37:21,551 INFO [root]: Trade Decision Raw: REJECT | Reason: The trade prompt is missing critical details such as the trader's name, specific offer terms, and the player's current resources. Without this information, a valid trade decision cannot be made.
2025-05-03 19:37:21,551 WARNING [root]: AI failed to generate an initial COUNTER OFFER, received: REJECT. Defaulting to REJECT.
2025-05-03 19:37:21,551 INFO [root]: Trade decision received from engine: REJECT
2025-05-03 19:37:21,552 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 19:37:21] "POST /trade_decide HTTP/1.1" 200 -
2025-05-03 19:37:25,885 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 19:37:25,886 INFO [root]: LLM generation finish reason: stop
2025-05-03 19:37:25,886 INFO [root]: Decision: TRADE | Reason: The player is already on a tile with a Trader at (0,0), so the objective is met and TRADE is the correct action.
2025-05-03 19:37:25,886 INFO [root]: Decision received from engine: TRADE
2025-05-03 19:37:25,886 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 19:37:25] "POST /decide HTTP/1.1" 200 -
2025-05-03 19:37:31,309 INFO [root]: Received request on /decide endpoint.
2025-05-03 19:37:31,310 INFO [root]: Received request on /trade_decide endpoint.
2025-05-03 19:37:31,310 INFO [root]: Sending request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 19:37:31,310 ERROR [root]: Error formatting trade prompt: 'json_offer_details'
Traceback (most recent call last):
  File "/mnt/c/Users/ryanw/OneDrive - Cal Poly Pomona/CPP Coding/CS3560/CS3560-WSS/PythonAI/decision_engine.py", line 286, in make_trade_decision
    "trader_food_stock": trader_info.get("food_stock", 0), "trader_water_stock": trader_info.get("water_stock", 0),
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
KeyError: 'json_offer_details'
2025-05-03 19:37:31,312 INFO [root]: Sending trade request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 19:37:38,309 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 19:37:38,310 INFO [root]: LLM trade generation finish reason: stop
2025-05-03 19:37:38,310 INFO [root]: Trade Decision Raw: REJECT | Reason: The trade prompt is missing critical context keys required to evaluate the offer, such as `player_name`, `trader_name`, `food_to_player`, `water_to_player`, `gold_to_player`, `food_to_trader`, `water_to_trader`, and `gold_to_trader`. Without these, the trade cannot be validated or executed.
2025-05-03 19:37:38,310 WARNING [root]: AI failed to generate an initial COUNTER OFFER, received: REJECT. Defaulting to REJECT.
2025-05-03 19:37:38,310 INFO [root]: Trade decision received from engine: REJECT
2025-05-03 19:37:38,311 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 19:37:38] "POST /trade_decide HTTP/1.1" 200 -
2025-05-03 19:37:38,586 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 19:37:38,587 INFO [root]: LLM generation finish reason: stop
2025-05-03 19:37:38,587 INFO [root]: Decision: TRADE | Reason: The player is already on the trader tile at (0, 0), so the objective is met.
2025-05-03 19:37:38,588 INFO [root]: Decision received from engine: TRADE
2025-05-03 19:37:38,588 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 19:37:38] "POST /decide HTTP/1.1" 200 -
2025-05-03 19:37:40,417 INFO [root]: Received request on /decide endpoint.
2025-05-03 19:37:40,418 INFO [root]: Received request on /trade_decide endpoint.
2025-05-03 19:37:40,418 INFO [root]: Sending request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 19:37:40,418 ERROR [root]: Error formatting trade prompt: 'json_offer_details'
Traceback (most recent call last):
  File "/mnt/c/Users/ryanw/OneDrive - Cal Poly Pomona/CPP Coding/CS3560/CS3560-WSS/PythonAI/decision_engine.py", line 286, in make_trade_decision
    "trader_food_stock": trader_info.get("food_stock", 0), "trader_water_stock": trader_info.get("water_stock", 0),
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
KeyError: 'json_offer_details'
2025-05-03 19:37:40,419 INFO [root]: Sending trade request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 19:37:46,336 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 19:37:46,337 INFO [root]: LLM generation finish reason: stop
2025-05-03 19:37:46,337 INFO [root]: Decision: TRADE | Reason: The player is already on a tile containing a Trader at (0,0), so the objective is met and TRADE is the appropriate action.
2025-05-03 19:37:46,337 INFO [root]: Decision received from engine: TRADE
2025-05-03 19:37:46,338 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 19:37:46] "POST /decide HTTP/1.1" 200 -
2025-05-03 19:37:47,620 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 19:37:47,620 INFO [root]: LLM trade generation finish reason: stop
2025-05-03 19:37:47,620 INFO [root]: Trade Decision Raw: REJECT | Reason: The trade prompt is missing critical details like the current offer's specific terms (e.g., quantities of food, water, gold being exchanged) and the player's actual resource levels. Without this information, a valid trade decision cannot be made.
2025-05-03 19:37:47,621 WARNING [root]: AI failed to generate an initial COUNTER OFFER, received: REJECT. Defaulting to REJECT.
2025-05-03 19:37:47,621 INFO [root]: Trade decision received from engine: REJECT
2025-05-03 19:37:47,621 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 19:37:47] "POST /trade_decide HTTP/1.1" 200 -
2025-05-03 19:37:48,181 INFO [root]: Received request on /trade_decide endpoint.
2025-05-03 19:37:48,181 ERROR [root]: Error formatting trade prompt: 'json_offer_details'
Traceback (most recent call last):
  File "/mnt/c/Users/ryanw/OneDrive - Cal Poly Pomona/CPP Coding/CS3560/CS3560-WSS/PythonAI/decision_engine.py", line 286, in make_trade_decision
    "trader_food_stock": trader_info.get("food_stock", 0), "trader_water_stock": trader_info.get("water_stock", 0),
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
KeyError: 'json_offer_details'
2025-05-03 19:37:48,182 INFO [root]: Sending trade request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 19:37:49,462 INFO [root]: Received request on /decide endpoint.
2025-05-03 19:37:49,463 INFO [root]: Sending request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 19:37:53,498 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 19:37:53,498 INFO [root]: LLM trade generation finish reason: stop
2025-05-03 19:37:53,499 INFO [root]: Trade Decision Raw: REJECT | Reason: The trade prompt is missing critical data values (e.g., player/resource quantities, trader stocks, offer details) required to evaluate the trade. Context keys are listed but no numerical values are provided for food, water, gold, or offer terms.
2025-05-03 19:37:53,499 WARNING [root]: AI failed to generate an initial COUNTER OFFER, received: REJECT. Defaulting to REJECT.
2025-05-03 19:37:53,499 INFO [root]: Trade decision received from engine: REJECT
2025-05-03 19:37:53,499 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 19:37:53] "POST /trade_decide HTTP/1.1" 200 -
2025-05-03 19:37:55,433 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 19:37:55,433 INFO [root]: LLM generation finish reason: stop
2025-05-03 19:37:55,434 INFO [root]: Decision: TRADE | Reason: The player is already on the Trader tile at (0,0), so the objective is met and TRADE is the required action.
2025-05-03 19:37:55,434 INFO [root]: Decision received from engine: TRADE
2025-05-03 19:37:55,434 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 19:37:55] "POST /decide HTTP/1.1" 200 -
2025-05-03 19:37:57,260 INFO [root]: Received request on /decide endpoint.
2025-05-03 19:37:57,261 INFO [root]: Sending request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 19:37:57,263 INFO [root]: Received request on /trade_decide endpoint.
2025-05-03 19:37:57,263 ERROR [root]: Error formatting trade prompt: 'json_offer_details'
Traceback (most recent call last):
  File "/mnt/c/Users/ryanw/OneDrive - Cal Poly Pomona/CPP Coding/CS3560/CS3560-WSS/PythonAI/decision_engine.py", line 286, in make_trade_decision
    "trader_food_stock": trader_info.get("food_stock", 0), "trader_water_stock": trader_info.get("water_stock", 0),
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
KeyError: 'json_offer_details'
2025-05-03 19:37:57,264 INFO [root]: Sending trade request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 19:38:07,603 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 19:38:07,603 INFO [root]: LLM trade generation finish reason: stop
2025-05-03 19:38:07,604 INFO [root]: Trade Decision Raw: REJECT | Reason: The trade prompt is missing essential data (e.g., specific resource quantities, offer terms, or player/trader values) required to evaluate the trade. Context keys list variables but no concrete values or actionable offer details are provided.
2025-05-03 19:38:07,604 WARNING [root]: AI failed to generate an initial COUNTER OFFER, received: REJECT. Defaulting to REJECT.
2025-05-03 19:38:07,604 INFO [root]: Trade decision received from engine: REJECT
2025-05-03 19:38:07,605 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 19:38:07] "POST /trade_decide HTTP/1.1" 200 -
2025-05-03 19:38:08,959 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 19:38:08,960 INFO [root]: LLM generation finish reason: stop
2025-05-03 19:38:08,960 INFO [root]: Decision: TRADE | Reason: Already on a Trader tile at (0,0) as per "WHAT YOU CURRENTLY SEE", satisfying the objective to trade directly.
2025-05-03 19:38:08,960 INFO [root]: Decision received from engine: TRADE
2025-05-03 19:38:08,961 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 19:38:08] "POST /decide HTTP/1.1" 200 -
2025-05-03 19:38:10,797 INFO [root]: Received request on /trade_decide endpoint.
2025-05-03 19:38:10,797 ERROR [root]: Error formatting trade prompt: 'json_offer_details'
Traceback (most recent call last):
  File "/mnt/c/Users/ryanw/OneDrive - Cal Poly Pomona/CPP Coding/CS3560/CS3560-WSS/PythonAI/decision_engine.py", line 286, in make_trade_decision
    "trader_food_stock": trader_info.get("food_stock", 0), "trader_water_stock": trader_info.get("water_stock", 0),
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
KeyError: 'json_offer_details'
2025-05-03 19:38:10,798 INFO [root]: Sending trade request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 19:38:10,811 INFO [root]: Received request on /decide endpoint.
2025-05-03 19:38:10,811 INFO [root]: Sending request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 19:38:16,495 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 19:38:16,496 INFO [root]: LLM trade generation finish reason: stop
2025-05-03 19:38:16,496 INFO [root]: Trade Decision Raw: REJECT | Reason: The trade prompt is missing essential context values (e.g., player/resource quantities, trader stock levels, offer specifics) required to evaluate the trade. Without concrete data, a valid decision cannot be made.
2025-05-03 19:38:16,496 WARNING [root]: AI failed to generate an initial COUNTER OFFER, received: REJECT. Defaulting to REJECT.
2025-05-03 19:38:16,497 INFO [root]: Trade decision received from engine: REJECT
2025-05-03 19:38:16,497 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 19:38:16] "POST /trade_decide HTTP/1.1" 200 -
2025-05-03 19:38:18,941 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 19:38:18,942 INFO [root]: LLM generation finish reason: stop
2025-05-03 19:38:18,942 INFO [root]: Decision: TRADE | Reason: The player is already on a tile containing a Trader at (0,0), so the objective is met and trading is the appropriate action.
2025-05-03 19:38:18,942 INFO [root]: Decision received from engine: TRADE
2025-05-03 19:38:18,942 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 19:38:18] "POST /decide HTTP/1.1" 200 -
2025-05-03 19:38:20,772 INFO [root]: Received request on /decide endpoint.
2025-05-03 19:38:20,773 INFO [root]: Sending request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 19:38:20,786 INFO [root]: Received request on /trade_decide endpoint.
2025-05-03 19:38:20,786 ERROR [root]: Error formatting trade prompt: 'json_offer_details'
Traceback (most recent call last):
  File "/mnt/c/Users/ryanw/OneDrive - Cal Poly Pomona/CPP Coding/CS3560/CS3560-WSS/PythonAI/decision_engine.py", line 286, in make_trade_decision
    "trader_food_stock": trader_info.get("food_stock", 0), "trader_water_stock": trader_info.get("water_stock", 0),
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
KeyError: 'json_offer_details'
2025-05-03 19:38:20,787 INFO [root]: Sending trade request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 19:38:26,250 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 19:38:26,251 INFO [root]: LLM trade generation finish reason: stop
2025-05-03 19:38:26,251 INFO [root]: Trade Decision Raw: REJECT | Reason: The trade prompt is missing essential data such as specific values for player resources (food, water, gold), trader stock, and the current offer terms. Without these details, a valid trade decision cannot be made.
2025-05-03 19:38:26,251 WARNING [root]: AI failed to generate an initial COUNTER OFFER, received: REJECT. Defaulting to REJECT.
2025-05-03 19:38:26,251 INFO [root]: Trade decision received from engine: REJECT
2025-05-03 19:38:26,252 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 19:38:26] "POST /trade_decide HTTP/1.1" 200 -
2025-05-03 19:38:26,917 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 19:38:26,918 INFO [root]: LLM generation finish reason: stop
2025-05-03 19:38:26,918 INFO [root]: Decision: TRADE | Reason: Player is already on the Trader tile at (0,0), so TRADE is the immediate objective.
2025-05-03 19:38:26,918 INFO [root]: Decision received from engine: TRADE
2025-05-03 19:38:26,919 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 19:38:26] "POST /decide HTTP/1.1" 200 -
2025-05-03 19:38:28,758 INFO [root]: Received request on /decide endpoint.
2025-05-03 19:38:28,758 INFO [root]: Sending request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 19:38:28,758 INFO [root]: Received request on /trade_decide endpoint.
2025-05-03 19:38:28,759 ERROR [root]: Error formatting trade prompt: 'json_offer_details'
Traceback (most recent call last):
  File "/mnt/c/Users/ryanw/OneDrive - Cal Poly Pomona/CPP Coding/CS3560/CS3560-WSS/PythonAI/decision_engine.py", line 286, in make_trade_decision
    "trader_food_stock": trader_info.get("food_stock", 0), "trader_water_stock": trader_info.get("water_stock", 0),
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
KeyError: 'json_offer_details'
2025-05-03 19:38:28,760 INFO [root]: Sending trade request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 19:38:35,458 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 19:38:35,458 INFO [root]: LLM trade generation finish reason: stop
2025-05-03 19:38:35,458 INFO [root]: Trade Decision Raw: REJECT | Reason: The trade prompt lacks specific values for context keys like player resources, trader stocks, and offer details, making it impossible to evaluate the trade terms.
2025-05-03 19:38:35,459 WARNING [root]: AI failed to generate an initial COUNTER OFFER, received: REJECT. Defaulting to REJECT.
2025-05-03 19:38:35,459 INFO [root]: Trade decision received from engine: REJECT
2025-05-03 19:38:35,459 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 19:38:35] "POST /trade_decide HTTP/1.1" 200 -
2025-05-03 19:38:36,536 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 19:38:36,536 INFO [root]: LLM generation finish reason: stop
2025-05-03 19:38:36,536 INFO [root]: Decision: TRADE | Reason: Player is already on the trader tile at (0,0) as indicated in "WHAT YOU CURRENTLY SEE", fulfilling the objective to reach a trader.
2025-05-03 19:38:36,537 INFO [root]: Decision received from engine: TRADE
2025-05-03 19:38:36,537 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 19:38:36] "POST /decide HTTP/1.1" 200 -
2025-05-03 19:38:41,960 INFO [root]: Received request on /trade_decide endpoint.
2025-05-03 19:38:41,961 INFO [root]: Received request on /decide endpoint.
2025-05-03 19:38:41,961 ERROR [root]: Error formatting trade prompt: 'json_offer_details'
Traceback (most recent call last):
  File "/mnt/c/Users/ryanw/OneDrive - Cal Poly Pomona/CPP Coding/CS3560/CS3560-WSS/PythonAI/decision_engine.py", line 286, in make_trade_decision
    "trader_food_stock": trader_info.get("food_stock", 0), "trader_water_stock": trader_info.get("water_stock", 0),
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
KeyError: 'json_offer_details'
2025-05-03 19:38:41,961 INFO [root]: Sending request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 19:38:41,962 INFO [root]: Sending trade request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 19:38:48,820 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 19:38:48,821 INFO [root]: LLM generation finish reason: stop
2025-05-03 19:38:48,821 INFO [root]: Decision: TRADE | Reason: The player is already on a tile with a Trader at (0,0), so the objective is met and TRADE is the required action.
2025-05-03 19:38:48,821 INFO [root]: Decision received from engine: TRADE
2025-05-03 19:38:48,822 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 19:38:48] "POST /decide HTTP/1.1" 200 -
2025-05-03 19:38:49,126 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 19:38:49,127 INFO [root]: LLM trade generation finish reason: stop
2025-05-03 19:38:49,127 INFO [root]: Trade Decision Raw: REJECT | Reason: The trade prompt is missing critical context variables required for evaluation, such as specific values for player resources (food, water, gold), trader stock levels, and the current offer details (food_to_player, water_to_player, etc.). Without these, the trade cannot be assessed.
2025-05-03 19:38:49,128 WARNING [root]: AI failed to generate an initial COUNTER OFFER, received: REJECT. Defaulting to REJECT.
2025-05-03 19:38:49,128 INFO [root]: Trade decision received from engine: REJECT
2025-05-03 19:38:49,128 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 19:38:49] "POST /trade_decide HTTP/1.1" 200 -
2025-05-03 19:38:50,651 INFO [root]: Received request on /trade_decide endpoint.
2025-05-03 19:38:50,652 ERROR [root]: Error formatting trade prompt: 'json_offer_details'
Traceback (most recent call last):
  File "/mnt/c/Users/ryanw/OneDrive - Cal Poly Pomona/CPP Coding/CS3560/CS3560-WSS/PythonAI/decision_engine.py", line 286, in make_trade_decision
    "trader_food_stock": trader_info.get("food_stock", 0), "trader_water_stock": trader_info.get("water_stock", 0),
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
KeyError: 'json_offer_details'
2025-05-03 19:38:50,652 INFO [root]: Sending trade request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 19:38:50,946 INFO [root]: Received request on /decide endpoint.
2025-05-03 19:38:50,946 INFO [root]: Sending request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 19:38:55,594 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 19:38:55,595 INFO [root]: LLM trade generation finish reason: stop
2025-05-03 19:38:55,595 INFO [root]: Trade Decision Raw: REJECT | Reason: The trade prompt is missing critical context variables required to evaluate the offer, such as `current_offer_str`, `trader_type`, or resource exchange details. Without these, the trade cannot be properly assessed.
2025-05-03 19:38:55,595 WARNING [root]: AI failed to generate an initial COUNTER OFFER, received: REJECT. Defaulting to REJECT.
2025-05-03 19:38:55,595 INFO [root]: Trade decision received from engine: REJECT
2025-05-03 19:38:55,596 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 19:38:55] "POST /trade_decide HTTP/1.1" 200 -
2025-05-03 19:38:58,417 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 19:38:58,418 INFO [root]: LLM generation finish reason: stop
2025-05-03 19:38:58,418 INFO [root]: Decision: TRADE | Reason: Player is already on the Trader tile at (0,0), so the objective is achieved.
2025-05-03 19:38:58,418 INFO [root]: Decision received from engine: TRADE
2025-05-03 19:38:58,419 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 19:38:58] "POST /decide HTTP/1.1" 200 -
2025-05-03 19:39:00,263 INFO [root]: Received request on /decide endpoint.
2025-05-03 19:39:00,263 INFO [root]: Received request on /trade_decide endpoint.
2025-05-03 19:39:00,264 INFO [root]: Sending request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 19:39:00,264 ERROR [root]: Error formatting trade prompt: 'json_offer_details'
Traceback (most recent call last):
  File "/mnt/c/Users/ryanw/OneDrive - Cal Poly Pomona/CPP Coding/CS3560/CS3560-WSS/PythonAI/decision_engine.py", line 286, in make_trade_decision
    "trader_food_stock": trader_info.get("food_stock", 0), "trader_water_stock": trader_info.get("water_stock", 0),
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
KeyError: 'json_offer_details'
2025-05-03 19:39:00,265 INFO [root]: Sending trade request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 19:39:05,890 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 19:39:05,890 INFO [root]: LLM trade generation finish reason: stop
2025-05-03 19:39:05,891 INFO [root]: Trade Decision Raw: REJECT | Reason: The trade prompt is missing critical context values (e.g., player/resource quantities, offer details) required to evaluate the trade. Without this data, a valid decision cannot be made.
2025-05-03 19:39:05,891 WARNING [root]: AI failed to generate an initial COUNTER OFFER, received: REJECT. Defaulting to REJECT.
2025-05-03 19:39:05,892 INFO [root]: Trade decision received from engine: REJECT
2025-05-03 19:39:05,892 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 19:39:05] "POST /trade_decide HTTP/1.1" 200 -
2025-05-03 19:39:07,603 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 19:39:07,604 INFO [root]: LLM generation finish reason: stop
2025-05-03 19:39:07,604 INFO [root]: Decision: TRADE | Reason: The player is already on a tile with a Trader at (0,0), so the objective is met and TRADE is the correct action.
2025-05-03 19:39:07,605 INFO [root]: Decision received from engine: TRADE
2025-05-03 19:39:07,605 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 19:39:07] "POST /decide HTTP/1.1" 200 -
2025-05-03 19:39:09,451 INFO [root]: Received request on /trade_decide endpoint.
2025-05-03 19:39:09,451 ERROR [root]: Error formatting trade prompt: 'json_offer_details'
Traceback (most recent call last):
  File "/mnt/c/Users/ryanw/OneDrive - Cal Poly Pomona/CPP Coding/CS3560/CS3560-WSS/PythonAI/decision_engine.py", line 286, in make_trade_decision
    "trader_food_stock": trader_info.get("food_stock", 0), "trader_water_stock": trader_info.get("water_stock", 0),
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
KeyError: 'json_offer_details'
2025-05-03 19:39:09,453 INFO [root]: Sending trade request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 19:39:09,465 INFO [root]: Received request on /decide endpoint.
2025-05-03 19:39:09,465 INFO [root]: Sending request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 19:39:13,122 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 19:39:13,123 INFO [root]: LLM trade generation finish reason: stop
2025-05-03 19:39:13,123 INFO [root]: Trade Decision Raw: REJECT | Reason: The trade prompt is missing essential context variables required to evaluate the offer, such as specific values for player resources, trader stocks, and the current offer details. Without proper formatting and data, the trade cannot be assessed.
2025-05-03 19:39:13,123 WARNING [root]: AI failed to generate an initial COUNTER OFFER, received: REJECT. Defaulting to REJECT.
2025-05-03 19:39:13,123 INFO [root]: Trade decision received from engine: REJECT
2025-05-03 19:39:13,124 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 19:39:13] "POST /trade_decide HTTP/1.1" 200 -
2025-05-03 19:39:20,374 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 19:39:20,374 INFO [root]: LLM generation finish reason: stop
2025-05-03 19:39:20,374 INFO [root]: Decision: TRADE | Reason: The player is already on a tile with a Trader at (0,0), so the objective is met and TRADE is the appropriate action.
2025-05-03 19:39:20,375 INFO [root]: Decision received from engine: TRADE
2025-05-03 19:39:20,375 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 19:39:20] "POST /decide HTTP/1.1" 200 -
2025-05-03 19:39:22,184 INFO [root]: Received request on /decide endpoint.
2025-05-03 19:39:22,184 INFO [root]: Received request on /trade_decide endpoint.
2025-05-03 19:39:22,185 INFO [root]: Sending request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 19:39:22,185 ERROR [root]: Error formatting trade prompt: 'json_offer_details'
Traceback (most recent call last):
  File "/mnt/c/Users/ryanw/OneDrive - Cal Poly Pomona/CPP Coding/CS3560/CS3560-WSS/PythonAI/decision_engine.py", line 286, in make_trade_decision
    "trader_food_stock": trader_info.get("food_stock", 0), "trader_water_stock": trader_info.get("water_stock", 0),
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
KeyError: 'json_offer_details'
2025-05-03 19:39:22,186 INFO [root]: Sending trade request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 19:39:28,063 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 19:39:28,064 INFO [root]: LLM trade generation finish reason: stop
2025-05-03 19:39:28,064 INFO [root]: Trade Decision Raw: REJECT | Reason: The trade prompt is missing critical data values (e.g., specific quantities of food/water/gold being offered, player/max capacities, trader stock levels) required to evaluate the trade. Context keys are present but not populated with numerical values to make a decision.
2025-05-03 19:39:28,064 WARNING [root]: AI failed to generate an initial COUNTER OFFER, received: REJECT. Defaulting to REJECT.
2025-05-03 19:39:28,064 INFO [root]: Trade decision received from engine: REJECT
2025-05-03 19:39:28,065 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 19:39:28] "POST /trade_decide HTTP/1.1" 200 -
2025-05-03 19:39:28,264 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 19:39:28,265 INFO [root]: LLM generation finish reason: stop
2025-05-03 19:39:28,265 INFO [root]: Decision: TRADE | Reason: The player is already on a tile with a Trader at (0,0), so the objective is met.
2025-05-03 19:39:28,265 INFO [root]: Decision received from engine: TRADE
2025-05-03 19:39:28,266 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 19:39:28] "POST /decide HTTP/1.1" 200 -
2025-05-03 19:39:30,109 INFO [root]: Received request on /trade_decide endpoint.
2025-05-03 19:39:30,109 INFO [root]: Received request on /decide endpoint.
2025-05-03 19:39:30,109 ERROR [root]: Error formatting trade prompt: 'json_offer_details'
Traceback (most recent call last):
  File "/mnt/c/Users/ryanw/OneDrive - Cal Poly Pomona/CPP Coding/CS3560/CS3560-WSS/PythonAI/decision_engine.py", line 286, in make_trade_decision
    "trader_food_stock": trader_info.get("food_stock", 0), "trader_water_stock": trader_info.get("water_stock", 0),
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
KeyError: 'json_offer_details'
2025-05-03 19:39:30,110 INFO [root]: Sending request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 19:39:30,110 INFO [root]: Sending trade request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 19:39:34,401 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 19:39:34,402 INFO [root]: LLM trade generation finish reason: stop
2025-05-03 19:39:34,402 INFO [root]: Trade Decision Raw: REJECT | Reason: The trade prompt is missing critical context values (e.g., player/resource quantities, offer specifics) required to evaluate the trade. Without this data, a valid decision cannot be made.
2025-05-03 19:39:34,402 WARNING [root]: AI failed to generate an initial COUNTER OFFER, received: REJECT. Defaulting to REJECT.
2025-05-03 19:39:34,403 INFO [root]: Trade decision received from engine: REJECT
2025-05-03 19:39:34,403 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 19:39:34] "POST /trade_decide HTTP/1.1" 200 -
2025-05-03 19:39:36,363 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 19:39:36,364 INFO [root]: LLM generation finish reason: stop
2025-05-03 19:39:36,364 INFO [root]: Decision: TRADE | Reason: The player is already on a tile with a Trader at (0,0), so the objective is met and TRADE is the appropriate action.
2025-05-03 19:39:36,364 INFO [root]: Decision received from engine: TRADE
2025-05-03 19:39:36,365 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 19:39:36] "POST /decide HTTP/1.1" 200 -
2025-05-03 19:39:38,207 INFO [root]: Received request on /decide endpoint.
2025-05-03 19:39:38,207 INFO [root]: Received request on /trade_decide endpoint.
2025-05-03 19:39:38,208 INFO [root]: Sending request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 19:39:38,208 ERROR [root]: Error formatting trade prompt: 'json_offer_details'
Traceback (most recent call last):
  File "/mnt/c/Users/ryanw/OneDrive - Cal Poly Pomona/CPP Coding/CS3560/CS3560-WSS/PythonAI/decision_engine.py", line 286, in make_trade_decision
    "trader_food_stock": trader_info.get("food_stock", 0), "trader_water_stock": trader_info.get("water_stock", 0),
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
KeyError: 'json_offer_details'
2025-05-03 19:39:38,209 INFO [root]: Sending trade request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 19:39:41,941 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 19:39:41,942 INFO [root]: LLM generation finish reason: stop
2025-05-03 19:39:41,942 INFO [root]: Decision: TRADE | Reason: The player is already on a tile containing a Trader at (0,0), so the objective is met and TRADE is the appropriate action.
2025-05-03 19:39:41,942 INFO [root]: Decision received from engine: TRADE
2025-05-03 19:39:41,943 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 19:39:41] "POST /decide HTTP/1.1" 200 -
2025-05-03 19:39:43,792 INFO [root]: Received request on /trade_decide endpoint.
2025-05-03 19:39:43,792 ERROR [root]: Error formatting trade prompt: 'json_offer_details'
Traceback (most recent call last):
  File "/mnt/c/Users/ryanw/OneDrive - Cal Poly Pomona/CPP Coding/CS3560/CS3560-WSS/PythonAI/decision_engine.py", line 286, in make_trade_decision
    "trader_food_stock": trader_info.get("food_stock", 0), "trader_water_stock": trader_info.get("water_stock", 0),
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
KeyError: 'json_offer_details'
2025-05-03 19:39:43,793 INFO [root]: Sending trade request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 19:39:45,592 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 19:39:45,593 INFO [root]: LLM trade generation finish reason: stop
2025-05-03 19:39:45,594 INFO [root]: Trade Decision Raw: REJECT | Reason: The trade prompt is missing critical context values (e.g., numerical quantities for player resources, trader stocks, or the current_offer_str). Without concrete data, the trade cannot be evaluated or executed.
2025-05-03 19:39:45,594 WARNING [root]: AI failed to generate an initial COUNTER OFFER, received: REJECT. Defaulting to REJECT.
2025-05-03 19:39:45,594 INFO [root]: Trade decision received from engine: REJECT
2025-05-03 19:39:45,595 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 19:39:45] "POST /trade_decide HTTP/1.1" 200 -
2025-05-03 19:39:47,422 INFO [root]: Received request on /decide endpoint.
2025-05-03 19:39:47,423 INFO [root]: Sending request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 19:39:48,582 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 19:39:48,583 INFO [root]: LLM trade generation finish reason: stop
2025-05-03 19:39:48,583 INFO [root]: Trade Decision Raw: REJECT | Reason: The trade prompt lacks essential details such as the specific offer terms, player's current resources, trader's proposal, and context for evaluation. Without structured data (e.g., quantities, resource values, or trader behavior logic), a valid trade decision cannot be made.
2025-05-03 19:39:48,583 WARNING [root]: AI failed to generate an initial COUNTER OFFER, received: REJECT. Defaulting to REJECT.
2025-05-03 19:39:48,583 INFO [root]: Trade decision received from engine: REJECT
2025-05-03 19:39:48,583 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 19:39:48] "POST /trade_decide HTTP/1.1" 200 -
2025-05-03 19:40:04,238 INFO [root]: --- Logging configured for main.py (File & Console) ---
2025-05-03 19:40:04,469 INFO [root]: Initializing DecisionEngine with model: Qwen/Qwen3-14B-AWQ...
2025-05-03 19:40:04,500 INFO [root]: Attempting to load main prompt from specified path: prompts/trader_test.txt
2025-05-03 19:40:04,500 INFO [root]: Attempting to load prompt template from absolute path: /mnt/c/Users/ryanw/OneDrive - Cal Poly Pomona/CPP Coding/CS3560/CS3560-WSS/PythonAI/prompts/trader_test.txt
2025-05-03 19:40:04,503 INFO [root]: Successfully read prompt template from: /mnt/c/Users/ryanw/OneDrive - Cal Poly Pomona/CPP Coding/CS3560/CS3560-WSS/PythonAI/prompts/trader_test.txt (Length: 2696)
2025-05-03 19:40:04,503 INFO [root]: Main prompt loaded successfully.
2025-05-03 19:40:04,503 INFO [root]: Attempting to load trade prompt from specified path: prompts/trade_prompt.txt
2025-05-03 19:40:04,503 INFO [root]: Attempting to load prompt template from absolute path: /mnt/c/Users/ryanw/OneDrive - Cal Poly Pomona/CPP Coding/CS3560/CS3560-WSS/PythonAI/prompts/trade_prompt.txt
2025-05-03 19:40:04,511 INFO [root]: Successfully read prompt template from: /mnt/c/Users/ryanw/OneDrive - Cal Poly Pomona/CPP Coding/CS3560/CS3560-WSS/PythonAI/prompts/trade_prompt.txt (Length: 2484)
2025-05-03 19:40:04,511 INFO [root]: Trade prompt loaded successfully.
2025-05-03 19:40:04,512 INFO [root]: DecisionEngine initialized for model: Qwen/Qwen3-14B-AWQ
2025-05-03 19:40:04,512 INFO [root]: Sampling Params: Temp=0.6, TopP=0.95, PresencePenalty=None
2025-05-03 19:40:04,512 INFO [root]: DecisionEngine initialized successfully.
2025-05-03 19:40:04,514 INFO [root]: Starting Flask server on 0.0.0.0:5000
2025-05-03 19:40:04,521 INFO [werkzeug]: [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://172.31.197.234:5000
2025-05-03 19:40:04,521 INFO [werkzeug]: [33mPress CTRL+C to quit[0m
2025-05-03 19:40:20,351 INFO [root]: Received request on /reset endpoint.
2025-05-03 19:40:20,351 INFO [root]: AI memory reset successfully via /reset endpoint.
2025-05-03 19:40:20,351 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 19:40:20] "POST /reset HTTP/1.1" 200 -
2025-05-03 19:40:22,236 INFO [root]: Received request on /decide endpoint.
2025-05-03 19:40:22,237 ERROR [root]: CRITICAL: Unhandled exception in /decide endpoint!
Traceback (most recent call last):
  File "/mnt/c/Users/ryanw/OneDrive - Cal Poly Pomona/CPP Coding/CS3560/CS3560-WSS/PythonAI/main.py", line 88, in decide
    decision = engine.make_decision(
               ^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/c/Users/ryanw/OneDrive - Cal Poly Pomona/CPP Coding/CS3560/CS3560-WSS/PythonAI/decision_engine.py", line 99, in make_decision
    vision_summary = self.summarize_visible_terrain(visible_terrain)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'DecisionEngine' object has no attribute 'summarize_visible_terrain'
2025-05-03 19:40:22,242 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 19:40:22] "[35m[1mPOST /decide HTTP/1.1[0m" 500 -
2025-05-03 19:40:24,544 INFO [root]: Received request on /decide endpoint.
2025-05-03 19:40:24,545 ERROR [root]: CRITICAL: Unhandled exception in /decide endpoint!
Traceback (most recent call last):
  File "/mnt/c/Users/ryanw/OneDrive - Cal Poly Pomona/CPP Coding/CS3560/CS3560-WSS/PythonAI/main.py", line 88, in decide
    decision = engine.make_decision(
               ^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/c/Users/ryanw/OneDrive - Cal Poly Pomona/CPP Coding/CS3560/CS3560-WSS/PythonAI/decision_engine.py", line 99, in make_decision
    vision_summary = self.summarize_visible_terrain(visible_terrain)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'DecisionEngine' object has no attribute 'summarize_visible_terrain'
2025-05-03 19:40:24,547 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 19:40:24] "[35m[1mPOST /decide HTTP/1.1[0m" 500 -
2025-05-03 19:40:26,852 INFO [root]: Received request on /decide endpoint.
2025-05-03 19:40:26,852 ERROR [root]: CRITICAL: Unhandled exception in /decide endpoint!
Traceback (most recent call last):
  File "/mnt/c/Users/ryanw/OneDrive - Cal Poly Pomona/CPP Coding/CS3560/CS3560-WSS/PythonAI/main.py", line 88, in decide
    decision = engine.make_decision(
               ^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/c/Users/ryanw/OneDrive - Cal Poly Pomona/CPP Coding/CS3560/CS3560-WSS/PythonAI/decision_engine.py", line 99, in make_decision
    vision_summary = self.summarize_visible_terrain(visible_terrain)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'DecisionEngine' object has no attribute 'summarize_visible_terrain'
2025-05-03 19:40:26,854 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 19:40:26] "[35m[1mPOST /decide HTTP/1.1[0m" 500 -
2025-05-03 19:40:29,141 INFO [root]: Received request on /decide endpoint.
2025-05-03 19:40:29,142 ERROR [root]: CRITICAL: Unhandled exception in /decide endpoint!
Traceback (most recent call last):
  File "/mnt/c/Users/ryanw/OneDrive - Cal Poly Pomona/CPP Coding/CS3560/CS3560-WSS/PythonAI/main.py", line 88, in decide
    decision = engine.make_decision(
               ^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/c/Users/ryanw/OneDrive - Cal Poly Pomona/CPP Coding/CS3560/CS3560-WSS/PythonAI/decision_engine.py", line 99, in make_decision
    vision_summary = self.summarize_visible_terrain(visible_terrain)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'DecisionEngine' object has no attribute 'summarize_visible_terrain'
2025-05-03 19:40:29,144 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 19:40:29] "[35m[1mPOST /decide HTTP/1.1[0m" 500 -
2025-05-03 19:40:31,419 INFO [root]: Received request on /decide endpoint.
2025-05-03 19:40:31,419 ERROR [root]: CRITICAL: Unhandled exception in /decide endpoint!
Traceback (most recent call last):
  File "/mnt/c/Users/ryanw/OneDrive - Cal Poly Pomona/CPP Coding/CS3560/CS3560-WSS/PythonAI/main.py", line 88, in decide
    decision = engine.make_decision(
               ^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/c/Users/ryanw/OneDrive - Cal Poly Pomona/CPP Coding/CS3560/CS3560-WSS/PythonAI/decision_engine.py", line 99, in make_decision
    vision_summary = self.summarize_visible_terrain(visible_terrain)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'DecisionEngine' object has no attribute 'summarize_visible_terrain'
2025-05-03 19:40:31,421 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 19:40:31] "[35m[1mPOST /decide HTTP/1.1[0m" 500 -
2025-05-03 19:40:33,697 INFO [root]: Received request on /decide endpoint.
2025-05-03 19:40:33,697 ERROR [root]: CRITICAL: Unhandled exception in /decide endpoint!
Traceback (most recent call last):
  File "/mnt/c/Users/ryanw/OneDrive - Cal Poly Pomona/CPP Coding/CS3560/CS3560-WSS/PythonAI/main.py", line 88, in decide
    decision = engine.make_decision(
               ^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/c/Users/ryanw/OneDrive - Cal Poly Pomona/CPP Coding/CS3560/CS3560-WSS/PythonAI/decision_engine.py", line 99, in make_decision
    vision_summary = self.summarize_visible_terrain(visible_terrain)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'DecisionEngine' object has no attribute 'summarize_visible_terrain'
2025-05-03 19:40:33,699 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 19:40:33] "[35m[1mPOST /decide HTTP/1.1[0m" 500 -
2025-05-03 19:40:35,995 INFO [root]: Received request on /decide endpoint.
2025-05-03 19:40:35,996 ERROR [root]: CRITICAL: Unhandled exception in /decide endpoint!
Traceback (most recent call last):
  File "/mnt/c/Users/ryanw/OneDrive - Cal Poly Pomona/CPP Coding/CS3560/CS3560-WSS/PythonAI/main.py", line 88, in decide
    decision = engine.make_decision(
               ^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/c/Users/ryanw/OneDrive - Cal Poly Pomona/CPP Coding/CS3560/CS3560-WSS/PythonAI/decision_engine.py", line 99, in make_decision
    vision_summary = self.summarize_visible_terrain(visible_terrain)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'DecisionEngine' object has no attribute 'summarize_visible_terrain'
2025-05-03 19:40:35,998 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 19:40:35] "[35m[1mPOST /decide HTTP/1.1[0m" 500 -
2025-05-03 19:42:43,649 INFO [root]: --- Logging configured for main.py (File & Console) ---
2025-05-03 19:42:43,878 INFO [root]: Initializing DecisionEngine with model: Qwen/Qwen3-14B-AWQ...
2025-05-03 19:42:43,901 INFO [root]: Loading prompt template from: /mnt/c/Users/ryanw/OneDrive - Cal Poly Pomona/CPP Coding/CS3560/CS3560-WSS/PythonAI/prompts/trader_test.txt
2025-05-03 19:42:43,903 INFO [root]: Loading prompt template from: /mnt/c/Users/ryanw/OneDrive - Cal Poly Pomona/CPP Coding/CS3560/CS3560-WSS/PythonAI/prompts/trade_prompt.txt
2025-05-03 19:42:43,904 INFO [root]: DecisionEngine initialized for model: Qwen/Qwen3-14B-AWQ
2025-05-03 19:42:43,904 INFO [root]: Sampling Params: Temp=0.6, TopP=0.95, PresencePenalty=None
2025-05-03 19:42:43,905 INFO [root]: Main prompt loaded: Yes
2025-05-03 19:42:43,905 INFO [root]: Trade prompt loaded: Yes
2025-05-03 19:42:43,905 INFO [root]: DecisionEngine initialized successfully.
2025-05-03 19:42:43,906 INFO [root]: Starting Flask server on 0.0.0.0:5000
2025-05-03 19:42:43,911 INFO [werkzeug]: [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://172.31.197.234:5000
2025-05-03 19:42:43,912 INFO [werkzeug]: [33mPress CTRL+C to quit[0m
2025-05-03 19:42:58,702 INFO [root]: Received request on /reset endpoint.
2025-05-03 19:42:58,702 INFO [root]: AI memory reset successfully via /reset endpoint.
2025-05-03 19:42:58,703 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 19:42:58] "POST /reset HTTP/1.1" 200 -
2025-05-03 19:43:00,621 INFO [root]: Received request on /decide endpoint.
2025-05-03 19:43:00,621 INFO [root]: Sending request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 19:43:34,917 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 19:43:34,918 INFO [root]: LLM generation finish reason: stop
2025-05-03 19:43:34,918 INFO [root]: Decision: MOVE NORTH | Reason: The nearest visible Trader is at (+1,-2). Moving NORTH to (0,-1) reduces the distance to this Trader while incurring the lowest combined resource cost (2E, 4F, 3W) compared to other directions.
2025-05-03 19:43:34,919 INFO [root]: Decision received from engine: MOVE NORTH
2025-05-03 19:43:34,919 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 19:43:34] "POST /decide HTTP/1.1" 200 -
2025-05-03 19:43:37,269 INFO [root]: Received request on /decide endpoint.
2025-05-03 19:43:37,269 INFO [root]: Sending request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 19:43:54,250 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 19:43:54,251 INFO [root]: LLM generation finish reason: stop
2025-05-03 19:43:54,251 INFO [root]: Decision: MOVE SOUTHEAST | Reason: The nearest visible Trader is at (+1,+1). Moving SOUTHEAST directly reaches this tile, which has a Trader. The move costs 5 Energy, 4 Food, 3 Water, all of which are within the player's current resources (Energy:9 → 4, Food:10 → 6, Water:10 → 7). This is the most direct path to the Trader.
2025-05-03 19:43:54,251 INFO [root]: Decision received from engine: MOVE SOUTHEAST
2025-05-03 19:43:54,251 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 19:43:54] "POST /decide HTTP/1.1" 200 -
2025-05-03 19:43:56,587 INFO [root]: Received request on /decide endpoint.
2025-05-03 19:43:56,587 INFO [root]: Sending request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 19:44:41,456 INFO [root]: Received request on /reset endpoint.
2025-05-03 19:44:41,456 INFO [root]: AI memory reset successfully via /reset endpoint.
2025-05-03 19:44:41,456 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 19:44:41] "POST /reset HTTP/1.1" 200 -
2025-05-03 19:44:42,677 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 19:44:42,678 INFO [root]: LLM generation finish reason: stop
2025-05-03 19:44:42,678 INFO [root]: Decision: MOVE NORTH | Reason: The nearest visible trader is at (+0,-2) (North). Moving NORTH is the first step toward this trader, with a movement cost of 3 ENERGY (affordable with current 4 ENERGY).
2025-05-03 19:44:42,678 INFO [root]: Decision received from engine: MOVE NORTH
2025-05-03 19:44:42,678 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 19:44:42] "POST /decide HTTP/1.1" 200 -
2025-05-03 19:44:43,374 INFO [root]: Received request on /decide endpoint.
2025-05-03 19:44:43,375 INFO [root]: Sending request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 19:45:32,364 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 19:45:32,365 INFO [root]: LLM generation finish reason: stop
2025-05-03 19:45:32,366 INFO [root]: Decision: MOVE SOUTH | Reason: The nearest visible trader is at (+0,+1) (south), only one step away. Moving south directly reaches this trader with a manageable cost (2E, 2F, 7W), leaving all resources above zero. This satisfies Priority #2 (move toward the nearest trader) and avoids unnecessary detours.
2025-05-03 19:45:32,366 INFO [root]: Decision received from engine: MOVE SOUTH
2025-05-03 19:45:32,366 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 19:45:32] "POST /decide HTTP/1.1" 200 -
2025-05-03 19:45:34,715 INFO [root]: Received request on /decide endpoint.
2025-05-03 19:45:34,715 INFO [root]: Sending request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 19:45:47,024 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 19:45:47,024 INFO [root]: LLM generation finish reason: stop
2025-05-03 19:45:47,025 INFO [root]: Decision: MOVE NORTH | Reason: The nearest visible Trader is at (+0,-1), directly north. Moving there costs 3 Energy, 2 Food, and 7 Water, which leaves all resources above zero, ensuring survival and progress toward the trader.
2025-05-03 19:45:47,025 INFO [root]: Decision received from engine: MOVE NORTH
2025-05-03 19:45:47,025 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 19:45:47] "POST /decide HTTP/1.1" 200 -
2025-05-03 19:45:49,371 INFO [root]: Received request on /decide endpoint.
2025-05-03 19:45:49,372 INFO [root]: Sending request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 19:46:50,677 INFO [root]: Received request on /decide endpoint.
2025-05-03 19:46:50,677 INFO [root]: Sending request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 19:47:20,535 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 19:47:20,535 INFO [root]: LLM generation finish reason: stop
2025-05-03 19:47:20,536 INFO [root]: Decision: REST | Reason: All direct paths to the nearest visible trader at (0, +1) would cause water to drop below 0 (requires -7W). Survival is prioritized over immediate trader movement.
2025-05-03 19:47:20,536 INFO [root]: Decision received from engine: REST
2025-05-03 19:47:20,536 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 19:47:20] "POST /decide HTTP/1.1" 200 -
2025-05-03 19:48:06,077 INFO [root]: Received request on /reset endpoint.
2025-05-03 19:48:06,077 INFO [root]: AI memory reset successfully via /reset endpoint.
2025-05-03 19:48:06,077 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 19:48:06] "POST /reset HTTP/1.1" 200 -
2025-05-03 19:48:08,002 INFO [root]: Received request on /decide endpoint.
2025-05-03 19:48:08,003 INFO [root]: Sending request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 19:48:10,962 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 19:48:10,963 INFO [root]: LLM generation finish reason: stop
2025-05-03 19:48:10,963 INFO [root]: Decision: REST | Reason: All visible trader paths require moving into tiles that would cause Water to drop to 0 or below, necessitating survival prioritization. Resting is the only viable action to avoid immediate death, despite the risk of Water reaching 0.
2025-05-03 19:48:10,963 INFO [root]: Decision received from engine: REST
2025-05-03 19:48:10,964 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 19:48:10] "POST /decide HTTP/1.1" 200 -
2025-05-03 19:48:18,379 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 19:48:18,380 INFO [root]: LLM generation finish reason: stop
2025-05-03 19:48:18,381 INFO [root]: Decision: MOVE EAST | Reason: The nearest visible Trader is at (+1,0), which is directly east. Moving east will take the player one step closer to the Trader with minimal resource cost (Energy: 15-5=10, Food: 15-3=12, Water: 15-5=10), all remaining above zero.
2025-05-03 19:48:18,381 INFO [root]: Decision received from engine: MOVE EAST
2025-05-03 19:48:18,381 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 19:48:18] "POST /decide HTTP/1.1" 200 -
2025-05-03 19:48:23,653 INFO [root]: Received request on /decide endpoint.
2025-05-03 19:48:23,654 INFO [root]: Sending request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 19:48:31,597 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 19:48:31,597 INFO [root]: LLM generation finish reason: stop
2025-05-03 19:48:31,597 INFO [root]: Decision: TRADE | Reason: Player is already on a tile with a Trader at (0,0), so the objective is met and TRADE is the appropriate action.
2025-05-03 19:48:31,598 INFO [root]: Decision received from engine: TRADE
2025-05-03 19:48:31,598 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 19:48:31] "POST /decide HTTP/1.1" 200 -
2025-05-03 19:48:33,482 INFO [root]: Received request on /trade_decide endpoint.
2025-05-03 19:48:33,483 INFO [root]: Received request on /decide endpoint.
2025-05-03 19:48:33,483 ERROR [root]: KeyError during trade prompt formatting! Missing key: ''json_offer_details''. Context keys were: ['player_food', 'player_water', 'player_gold', 'player_max_food', 'player_max_water', 'trader_type', 'trader_personality_hint', 'trader_food_stock', 'trader_water_stock', 'current_offer_str', 'food_to_player', 'water_to_player', 'gold_to_player', 'food_to_trader', 'water_to_trader', 'gold_to_trader']
Traceback (most recent call last):
  File "/mnt/c/Users/ryanw/OneDrive - Cal Poly Pomona/CPP Coding/CS3560/CS3560-WSS/PythonAI/decision_engine.py", line 306, in make_trade_decision
    prompt = self.trade_prompt_template.format(**context) # The line that throws the error
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
KeyError: 'json_offer_details'
2025-05-03 19:48:33,484 INFO [root]: Sending request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 19:48:33,486 ERROR [root]: The trade_prompt_template being used starts with: # prompts/trade_prompt.txt
You are the trading advisor for a player in a survival game. Your goal is to help the player get needed resources (Food, Water) by trading Gold, while considering the trader...
2025-05-03 19:48:33,487 INFO [root]: Sending trade request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 19:48:37,457 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 19:48:37,457 INFO [root]: LLM trade generation finish reason: stop
2025-05-03 19:48:37,458 INFO [root]: Trade Decision Raw: REJECT | Reason: The required key 'json_offer_details' is missing from the trade prompt, making it impossible to evaluate or process the trade request.
2025-05-03 19:48:37,458 WARNING [root]: AI failed to generate an initial COUNTER OFFER, received: REJECT. Defaulting to REJECT.
2025-05-03 19:48:37,458 INFO [root]: Trade decision received from engine: REJECT
2025-05-03 19:48:37,458 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 19:48:37] "POST /trade_decide HTTP/1.1" 200 -
2025-05-03 19:48:43,071 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 19:48:43,072 INFO [root]: LLM generation finish reason: stop
2025-05-03 19:48:43,072 INFO [root]: Decision: TRADE | Reason: Player is already on a tile containing a Trader at (0,0), satisfying the objective to reach a trader.
2025-05-03 19:48:43,072 INFO [root]: Decision received from engine: TRADE
2025-05-03 19:48:43,073 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 19:48:43] "POST /decide HTTP/1.1" 200 -
2025-05-03 19:48:44,934 INFO [root]: Received request on /decide endpoint.
2025-05-03 19:48:44,934 INFO [root]: Received request on /trade_decide endpoint.
2025-05-03 19:48:44,935 INFO [root]: Sending request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 19:48:44,935 ERROR [root]: KeyError during trade prompt formatting! Missing key: ''json_offer_details''. Context keys were: ['player_food', 'player_water', 'player_gold', 'player_max_food', 'player_max_water', 'trader_type', 'trader_personality_hint', 'trader_food_stock', 'trader_water_stock', 'current_offer_str', 'food_to_player', 'water_to_player', 'gold_to_player', 'food_to_trader', 'water_to_trader', 'gold_to_trader']
Traceback (most recent call last):
  File "/mnt/c/Users/ryanw/OneDrive - Cal Poly Pomona/CPP Coding/CS3560/CS3560-WSS/PythonAI/decision_engine.py", line 306, in make_trade_decision
    prompt = self.trade_prompt_template.format(**context) # The line that throws the error
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
KeyError: 'json_offer_details'
2025-05-03 19:48:44,937 ERROR [root]: The trade_prompt_template being used starts with: # prompts/trade_prompt.txt
You are the trading advisor for a player in a survival game. Your goal is to help the player get needed resources (Food, Water) by trading Gold, while considering the trader...
2025-05-03 19:48:44,937 INFO [root]: Sending trade request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 19:48:48,242 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 19:48:48,243 INFO [root]: LLM trade generation finish reason: stop
2025-05-03 19:48:48,243 INFO [root]: Trade Decision Raw: REJECT | Reason: The required 'json_offer_details' key is missing from the trade prompt, making it impossible to evaluate or respond to the trade offer.
2025-05-03 19:48:48,243 WARNING [root]: AI failed to generate an initial COUNTER OFFER, received: REJECT. Defaulting to REJECT.
2025-05-03 19:48:48,243 INFO [root]: Trade decision received from engine: REJECT
2025-05-03 19:48:48,244 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 19:48:48] "POST /trade_decide HTTP/1.1" 200 -
2025-05-03 19:49:00,682 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 19:49:00,682 INFO [root]: LLM generation finish reason: stop
2025-05-03 19:49:00,682 INFO [root]: Decision: TRADE | Reason: The player is already on a tile with a Trader at (0,0), so the objective is met.
2025-05-03 19:49:00,683 INFO [root]: Decision received from engine: TRADE
2025-05-03 19:49:00,683 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 19:49:00] "POST /decide HTTP/1.1" 200 -
2025-05-03 19:49:02,571 INFO [root]: Received request on /decide endpoint.
2025-05-03 19:49:02,572 INFO [root]: Received request on /trade_decide endpoint.
2025-05-03 19:49:02,572 INFO [root]: Sending request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 19:49:02,572 ERROR [root]: KeyError during trade prompt formatting! Missing key: ''json_offer_details''. Context keys were: ['player_food', 'player_water', 'player_gold', 'player_max_food', 'player_max_water', 'trader_type', 'trader_personality_hint', 'trader_food_stock', 'trader_water_stock', 'current_offer_str', 'food_to_player', 'water_to_player', 'gold_to_player', 'food_to_trader', 'water_to_trader', 'gold_to_trader']
Traceback (most recent call last):
  File "/mnt/c/Users/ryanw/OneDrive - Cal Poly Pomona/CPP Coding/CS3560/CS3560-WSS/PythonAI/decision_engine.py", line 306, in make_trade_decision
    prompt = self.trade_prompt_template.format(**context) # The line that throws the error
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
KeyError: 'json_offer_details'
2025-05-03 19:49:02,573 ERROR [root]: The trade_prompt_template being used starts with: # prompts/trade_prompt.txt
You are the trading advisor for a player in a survival game. Your goal is to help the player get needed resources (Food, Water) by trading Gold, while considering the trader...
2025-05-03 19:49:02,574 INFO [root]: Sending trade request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 19:49:07,987 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 19:49:07,987 INFO [root]: LLM trade generation finish reason: stop
2025-05-03 19:49:07,987 INFO [root]: Trade Decision Raw: REJECT | Reason: The trade prompt is incomplete as the required 'json_offer_details' key is missing. This information is necessary to evaluate and respond to the trade offer. Please provide the full details in the correct format.
2025-05-03 19:49:07,988 WARNING [root]: AI failed to generate an initial COUNTER OFFER, received: REJECT. Defaulting to REJECT.
2025-05-03 19:49:07,988 INFO [root]: Trade decision received from engine: REJECT
2025-05-03 19:49:07,988 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 19:49:07] "POST /trade_decide HTTP/1.1" 200 -
2025-05-03 19:49:12,017 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 19:49:12,017 INFO [root]: LLM generation finish reason: stop
2025-05-03 19:49:12,017 INFO [root]: Decision: TRADE | Reason: The player is already on a tile with a Trader at (0,0), so the objective is met and TRADE is the required action.
2025-05-03 19:49:12,018 INFO [root]: Decision received from engine: TRADE
2025-05-03 19:49:12,018 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 19:49:12] "POST /decide HTTP/1.1" 200 -
2025-05-03 19:49:13,894 INFO [root]: Received request on /decide endpoint.
2025-05-03 19:49:13,894 INFO [root]: Received request on /trade_decide endpoint.
2025-05-03 19:49:13,895 INFO [root]: Sending request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 19:49:13,895 ERROR [root]: KeyError during trade prompt formatting! Missing key: ''json_offer_details''. Context keys were: ['player_food', 'player_water', 'player_gold', 'player_max_food', 'player_max_water', 'trader_type', 'trader_personality_hint', 'trader_food_stock', 'trader_water_stock', 'current_offer_str', 'food_to_player', 'water_to_player', 'gold_to_player', 'food_to_trader', 'water_to_trader', 'gold_to_trader']
Traceback (most recent call last):
  File "/mnt/c/Users/ryanw/OneDrive - Cal Poly Pomona/CPP Coding/CS3560/CS3560-WSS/PythonAI/decision_engine.py", line 306, in make_trade_decision
    prompt = self.trade_prompt_template.format(**context) # The line that throws the error
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
KeyError: 'json_offer_details'
2025-05-03 19:49:13,896 ERROR [root]: The trade_prompt_template being used starts with: # prompts/trade_prompt.txt
You are the trading advisor for a player in a survival game. Your goal is to help the player get needed resources (Food, Water) by trading Gold, while considering the trader...
2025-05-03 19:49:13,896 INFO [root]: Sending trade request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 19:49:19,968 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 19:49:19,969 INFO [root]: LLM trade generation finish reason: stop
2025-05-03 19:49:19,969 INFO [root]: Trade Decision Raw: REJECT | Reason: The required key 'json_offer_details' is missing from the trade prompt, preventing proper evaluation of the offer. Please provide the offer details in the specified JSON format.
2025-05-03 19:49:19,969 WARNING [root]: AI failed to generate an initial COUNTER OFFER, received: REJECT. Defaulting to REJECT.
2025-05-03 19:49:19,969 INFO [root]: Trade decision received from engine: REJECT
2025-05-03 19:49:19,970 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 19:49:19] "POST /trade_decide HTTP/1.1" 200 -
2025-05-03 19:49:24,569 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 19:49:24,570 INFO [root]: LLM generation finish reason: stop
2025-05-03 19:49:24,570 INFO [root]: Decision: TRADE | Reason: The player is already on a tile with a Trader at (0,0), so the objective is met and TRADE is the required action.
2025-05-03 19:49:24,570 INFO [root]: Decision received from engine: TRADE
2025-05-03 19:49:24,570 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 19:49:24] "POST /decide HTTP/1.1" 200 -
2025-05-03 19:49:26,431 INFO [root]: Received request on /decide endpoint.
2025-05-03 19:49:26,432 INFO [root]: Sending request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 19:49:26,446 INFO [root]: Received request on /trade_decide endpoint.
2025-05-03 19:49:26,447 ERROR [root]: KeyError during trade prompt formatting! Missing key: ''json_offer_details''. Context keys were: ['player_food', 'player_water', 'player_gold', 'player_max_food', 'player_max_water', 'trader_type', 'trader_personality_hint', 'trader_food_stock', 'trader_water_stock', 'current_offer_str', 'food_to_player', 'water_to_player', 'gold_to_player', 'food_to_trader', 'water_to_trader', 'gold_to_trader']
Traceback (most recent call last):
  File "/mnt/c/Users/ryanw/OneDrive - Cal Poly Pomona/CPP Coding/CS3560/CS3560-WSS/PythonAI/decision_engine.py", line 306, in make_trade_decision
    prompt = self.trade_prompt_template.format(**context) # The line that throws the error
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
KeyError: 'json_offer_details'
2025-05-03 19:49:26,448 ERROR [root]: The trade_prompt_template being used starts with: # prompts/trade_prompt.txt
You are the trading advisor for a player in a survival game. Your goal is to help the player get needed resources (Food, Water) by trading Gold, while considering the trader...
2025-05-03 19:49:26,448 INFO [root]: Sending trade request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 19:49:35,725 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 19:49:35,725 INFO [root]: LLM trade generation finish reason: stop
2025-05-03 19:49:35,726 INFO [root]: Trade Decision Raw: REJECT | Reason: The required key 'json_offer_details' is missing from the trade prompt, making it impossible to evaluate or respond to the trade offer.
2025-05-03 19:49:35,726 WARNING [root]: AI failed to generate an initial COUNTER OFFER, received: REJECT. Defaulting to REJECT.
2025-05-03 19:49:35,726 INFO [root]: Trade decision received from engine: REJECT
2025-05-03 19:49:35,726 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 19:49:35] "POST /trade_decide HTTP/1.1" 200 -
2025-05-03 19:49:37,385 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 19:49:37,386 INFO [root]: LLM generation finish reason: stop
2025-05-03 19:49:37,386 INFO [root]: Decision: TRADE | Reason: The player is already on a tile with a Trader at (0,0), so the objective is met and TRADE is the required action.
2025-05-03 19:49:37,387 INFO [root]: Decision received from engine: TRADE
2025-05-03 19:49:37,387 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 19:49:37] "POST /decide HTTP/1.1" 200 -
2025-05-03 19:49:39,267 INFO [root]: Received request on /decide endpoint.
2025-05-03 19:49:39,268 INFO [root]: Received request on /trade_decide endpoint.
2025-05-03 19:49:39,268 INFO [root]: Sending request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 19:49:39,268 ERROR [root]: KeyError during trade prompt formatting! Missing key: ''json_offer_details''. Context keys were: ['player_food', 'player_water', 'player_gold', 'player_max_food', 'player_max_water', 'trader_type', 'trader_personality_hint', 'trader_food_stock', 'trader_water_stock', 'current_offer_str', 'food_to_player', 'water_to_player', 'gold_to_player', 'food_to_trader', 'water_to_trader', 'gold_to_trader']
Traceback (most recent call last):
  File "/mnt/c/Users/ryanw/OneDrive - Cal Poly Pomona/CPP Coding/CS3560/CS3560-WSS/PythonAI/decision_engine.py", line 306, in make_trade_decision
    prompt = self.trade_prompt_template.format(**context) # The line that throws the error
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
KeyError: 'json_offer_details'
2025-05-03 19:49:39,270 ERROR [root]: The trade_prompt_template being used starts with: # prompts/trade_prompt.txt
You are the trading advisor for a player in a survival game. Your goal is to help the player get needed resources (Food, Water) by trading Gold, while considering the trader...
2025-05-03 19:49:39,270 INFO [root]: Sending trade request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 19:49:46,908 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 19:49:46,908 INFO [root]: LLM generation finish reason: stop
2025-05-03 19:49:46,909 INFO [root]: Decision: TRADE | Reason: The player is already on a tile with a Trader at (0,0), so the objective is met and TRADE is the correct action.
2025-05-03 19:49:46,909 INFO [root]: Decision received from engine: TRADE
2025-05-03 19:49:46,909 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 19:49:46] "POST /decide HTTP/1.1" 200 -
2025-05-03 19:49:47,660 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 19:49:47,660 INFO [root]: LLM trade generation finish reason: stop
2025-05-03 19:49:47,661 INFO [root]: Trade Decision Raw: REJECT | Reason: The trade prompt is missing the required 'json_offer_details' key, which is necessary to process the trade action. Please ensure the prompt includes a properly formatted JSON object with this key.
2025-05-03 19:49:47,661 WARNING [root]: AI failed to generate an initial COUNTER OFFER, received: REJECT. Defaulting to REJECT.
2025-05-03 19:49:47,661 INFO [root]: Trade decision received from engine: REJECT
2025-05-03 19:49:47,661 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 19:49:47] "POST /trade_decide HTTP/1.1" 200 -
2025-05-03 19:49:48,782 INFO [root]: Received request on /trade_decide endpoint.
2025-05-03 19:49:48,783 ERROR [root]: KeyError during trade prompt formatting! Missing key: ''json_offer_details''. Context keys were: ['player_food', 'player_water', 'player_gold', 'player_max_food', 'player_max_water', 'trader_type', 'trader_personality_hint', 'trader_food_stock', 'trader_water_stock', 'current_offer_str', 'food_to_player', 'water_to_player', 'gold_to_player', 'food_to_trader', 'water_to_trader', 'gold_to_trader']
Traceback (most recent call last):
  File "/mnt/c/Users/ryanw/OneDrive - Cal Poly Pomona/CPP Coding/CS3560/CS3560-WSS/PythonAI/decision_engine.py", line 306, in make_trade_decision
    prompt = self.trade_prompt_template.format(**context) # The line that throws the error
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
KeyError: 'json_offer_details'
2025-05-03 19:49:48,784 ERROR [root]: The trade_prompt_template being used starts with: # prompts/trade_prompt.txt
You are the trading advisor for a player in a survival game. Your goal is to help the player get needed resources (Food, Water) by trading Gold, while considering the trader...
2025-05-03 19:49:48,784 INFO [root]: Sending trade request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 19:49:49,527 INFO [root]: Received request on /decide endpoint.
2025-05-03 19:49:49,528 INFO [root]: Sending request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 19:49:55,169 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 19:49:55,170 INFO [root]: LLM trade generation finish reason: stop
2025-05-03 19:49:55,170 INFO [root]: Trade Decision Raw: REJECT | Reason: The trade prompt is missing the required 'json_offer_details' key, which contains the structured offer information needed to evaluate the trade. Please provide the offer details in the specified JSON format.
2025-05-03 19:49:55,171 WARNING [root]: AI failed to generate an initial COUNTER OFFER, received: REJECT. Defaulting to REJECT.
2025-05-03 19:49:55,171 INFO [root]: Trade decision received from engine: REJECT
2025-05-03 19:49:55,171 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 19:49:55] "POST /trade_decide HTTP/1.1" 200 -
2025-05-03 19:49:57,159 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 19:49:57,160 INFO [root]: LLM generation finish reason: stop
2025-05-03 19:49:57,160 INFO [root]: Decision: TRADE | Reason: The player is already on a tile with a Trader at (0,0), so the objective is met.
2025-05-03 19:49:57,161 INFO [root]: Decision received from engine: TRADE
2025-05-03 19:49:57,161 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 19:49:57] "POST /decide HTTP/1.1" 200 -
2025-05-03 19:49:59,028 INFO [root]: Received request on /trade_decide endpoint.
2025-05-03 19:49:59,028 ERROR [root]: KeyError during trade prompt formatting! Missing key: ''json_offer_details''. Context keys were: ['player_food', 'player_water', 'player_gold', 'player_max_food', 'player_max_water', 'trader_type', 'trader_personality_hint', 'trader_food_stock', 'trader_water_stock', 'current_offer_str', 'food_to_player', 'water_to_player', 'gold_to_player', 'food_to_trader', 'water_to_trader', 'gold_to_trader']
Traceback (most recent call last):
  File "/mnt/c/Users/ryanw/OneDrive - Cal Poly Pomona/CPP Coding/CS3560/CS3560-WSS/PythonAI/decision_engine.py", line 306, in make_trade_decision
    prompt = self.trade_prompt_template.format(**context) # The line that throws the error
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
KeyError: 'json_offer_details'
2025-05-03 19:49:59,029 ERROR [root]: The trade_prompt_template being used starts with: # prompts/trade_prompt.txt
You are the trading advisor for a player in a survival game. Your goal is to help the player get needed resources (Food, Water) by trading Gold, while considering the trader...
2025-05-03 19:49:59,030 INFO [root]: Sending trade request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 19:49:59,052 INFO [root]: Received request on /decide endpoint.
2025-05-03 19:49:59,052 INFO [root]: Sending request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 19:50:04,264 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 19:50:04,265 INFO [root]: LLM trade generation finish reason: stop
2025-05-03 19:50:04,265 INFO [root]: Trade Decision Raw: REJECT | Reason: The required key 'json_offer_details' is missing from the trade prompt, making it impossible to evaluate or process the trade request.
2025-05-03 19:50:04,265 WARNING [root]: AI failed to generate an initial COUNTER OFFER, received: REJECT. Defaulting to REJECT.
2025-05-03 19:50:04,266 INFO [root]: Trade decision received from engine: REJECT
2025-05-03 19:50:04,266 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 19:50:04] "POST /trade_decide HTTP/1.1" 200 -
2025-05-03 19:50:10,198 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 19:50:10,198 INFO [root]: LLM generation finish reason: stop
2025-05-03 19:50:10,199 INFO [root]: Decision: TRADE | Reason: Player is already on a tile with a Trader at (0,0), so the objective is met and TRADE is the appropriate action.
2025-05-03 19:50:10,199 INFO [root]: Decision received from engine: TRADE
2025-05-03 19:50:10,199 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 19:50:10] "POST /decide HTTP/1.1" 200 -
2025-05-03 19:50:12,050 INFO [root]: Received request on /trade_decide endpoint.
2025-05-03 19:50:12,050 ERROR [root]: KeyError during trade prompt formatting! Missing key: ''json_offer_details''. Context keys were: ['player_food', 'player_water', 'player_gold', 'player_max_food', 'player_max_water', 'trader_type', 'trader_personality_hint', 'trader_food_stock', 'trader_water_stock', 'current_offer_str', 'food_to_player', 'water_to_player', 'gold_to_player', 'food_to_trader', 'water_to_trader', 'gold_to_trader']
Traceback (most recent call last):
  File "/mnt/c/Users/ryanw/OneDrive - Cal Poly Pomona/CPP Coding/CS3560/CS3560-WSS/PythonAI/decision_engine.py", line 306, in make_trade_decision
    prompt = self.trade_prompt_template.format(**context) # The line that throws the error
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
KeyError: 'json_offer_details'
2025-05-03 19:50:12,051 ERROR [root]: The trade_prompt_template being used starts with: # prompts/trade_prompt.txt
You are the trading advisor for a player in a survival game. Your goal is to help the player get needed resources (Food, Water) by trading Gold, while considering the trader...
2025-05-03 19:50:12,051 INFO [root]: Sending trade request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 19:50:12,092 INFO [root]: Received request on /decide endpoint.
2025-05-03 19:50:12,092 INFO [root]: Sending request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 19:50:17,229 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 19:50:17,230 INFO [root]: LLM trade generation finish reason: stop
2025-05-03 19:50:17,230 INFO [root]: Trade Decision Raw: REJECT | Reason: The trade prompt is missing the required 'json_offer_details' key, which contains essential information about the offer (e.g., price, quantity, terms). Without this data, the system cannot evaluate or execute the trade action. Please provide the complete trade prompt with the necessary JSON structure.
2025-05-03 19:50:17,230 WARNING [root]: AI failed to generate an initial COUNTER OFFER, received: REJECT. Defaulting to REJECT.
2025-05-03 19:50:17,230 INFO [root]: Trade decision received from engine: REJECT
2025-05-03 19:50:17,231 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 19:50:17] "POST /trade_decide HTTP/1.1" 200 -
2025-05-03 19:50:19,213 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 19:50:19,214 INFO [root]: LLM generation finish reason: stop
2025-05-03 19:50:19,214 INFO [root]: Decision: TRADE | Reason: The player is already on a tile with a Trader at (0,0), so the objective is met and TRADE is the correct action.
2025-05-03 19:50:19,214 INFO [root]: Decision received from engine: TRADE
2025-05-03 19:50:19,215 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 19:50:19] "POST /decide HTTP/1.1" 200 -
2025-05-03 19:50:21,091 INFO [root]: Received request on /decide endpoint.
2025-05-03 19:50:21,092 INFO [root]: Sending request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 19:50:21,092 INFO [root]: Received request on /trade_decide endpoint.
2025-05-03 19:50:21,094 ERROR [root]: KeyError during trade prompt formatting! Missing key: ''json_offer_details''. Context keys were: ['player_food', 'player_water', 'player_gold', 'player_max_food', 'player_max_water', 'trader_type', 'trader_personality_hint', 'trader_food_stock', 'trader_water_stock', 'current_offer_str', 'food_to_player', 'water_to_player', 'gold_to_player', 'food_to_trader', 'water_to_trader', 'gold_to_trader']
Traceback (most recent call last):
  File "/mnt/c/Users/ryanw/OneDrive - Cal Poly Pomona/CPP Coding/CS3560/CS3560-WSS/PythonAI/decision_engine.py", line 306, in make_trade_decision
    prompt = self.trade_prompt_template.format(**context) # The line that throws the error
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
KeyError: 'json_offer_details'
2025-05-03 19:50:21,095 ERROR [root]: The trade_prompt_template being used starts with: # prompts/trade_prompt.txt
You are the trading advisor for a player in a survival game. Your goal is to help the player get needed resources (Food, Water) by trading Gold, while considering the trader...
2025-05-03 19:50:21,095 INFO [root]: Sending trade request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 19:50:27,759 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 19:50:27,760 INFO [root]: LLM generation finish reason: stop
2025-05-03 19:50:27,760 INFO [root]: Decision: TRADE | Reason: The player is already on a tile with a Trader at (0,0), fulfilling the objective.
2025-05-03 19:50:27,760 INFO [root]: Decision received from engine: TRADE
2025-05-03 19:50:27,761 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 19:50:27] "POST /decide HTTP/1.1" 200 -
2025-05-03 19:50:28,414 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 19:50:28,414 INFO [root]: LLM trade generation finish reason: stop
2025-05-03 19:50:28,414 INFO [root]: Trade Decision Raw: REJECT | Reason: The 'json_offer_details' key is missing from the trade prompt, making it impossible to process or evaluate the trade request.
2025-05-03 19:50:28,415 WARNING [root]: AI failed to generate an initial COUNTER OFFER, received: REJECT. Defaulting to REJECT.
2025-05-03 19:50:28,415 INFO [root]: Trade decision received from engine: REJECT
2025-05-03 19:50:28,415 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 19:50:28] "POST /trade_decide HTTP/1.1" 200 -
2025-05-03 19:50:29,647 INFO [root]: Received request on /trade_decide endpoint.
2025-05-03 19:50:29,647 ERROR [root]: KeyError during trade prompt formatting! Missing key: ''json_offer_details''. Context keys were: ['player_food', 'player_water', 'player_gold', 'player_max_food', 'player_max_water', 'trader_type', 'trader_personality_hint', 'trader_food_stock', 'trader_water_stock', 'current_offer_str', 'food_to_player', 'water_to_player', 'gold_to_player', 'food_to_trader', 'water_to_trader', 'gold_to_trader']
Traceback (most recent call last):
  File "/mnt/c/Users/ryanw/OneDrive - Cal Poly Pomona/CPP Coding/CS3560/CS3560-WSS/PythonAI/decision_engine.py", line 306, in make_trade_decision
    prompt = self.trade_prompt_template.format(**context) # The line that throws the error
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
KeyError: 'json_offer_details'
2025-05-03 19:50:29,648 ERROR [root]: The trade_prompt_template being used starts with: # prompts/trade_prompt.txt
You are the trading advisor for a player in a survival game. Your goal is to help the player get needed resources (Food, Water) by trading Gold, while considering the trader...
2025-05-03 19:50:29,648 INFO [root]: Sending trade request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 19:50:30,291 INFO [root]: Received request on /decide endpoint.
2025-05-03 19:50:30,291 INFO [root]: Sending request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 19:50:34,820 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 19:50:34,821 INFO [root]: LLM trade generation finish reason: stop
2025-05-03 19:50:34,821 INFO [root]: Trade Decision Raw: REJECT | Reason: The trade prompt is missing the required 'json_offer_details' key, which is necessary to process the trade action.
2025-05-03 19:50:34,821 WARNING [root]: AI failed to generate an initial COUNTER OFFER, received: REJECT. Defaulting to REJECT.
2025-05-03 19:50:34,821 INFO [root]: Trade decision received from engine: REJECT
2025-05-03 19:50:34,822 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 19:50:34] "POST /trade_decide HTTP/1.1" 200 -
2025-05-03 19:50:37,902 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 19:50:37,903 INFO [root]: LLM generation finish reason: stop
2025-05-03 19:50:37,903 INFO [root]: Decision: TRADE | Reason: Player is already on a tile with a Trader at (0,0), so the objective is met and TRADE is the appropriate action.
2025-05-03 19:50:37,904 INFO [root]: Decision received from engine: TRADE
2025-05-03 19:50:37,904 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 19:50:37] "POST /decide HTTP/1.1" 200 -
2025-05-03 19:50:39,758 INFO [root]: Received request on /trade_decide endpoint.
2025-05-03 19:50:39,759 INFO [root]: Received request on /decide endpoint.
2025-05-03 19:50:39,759 ERROR [root]: KeyError during trade prompt formatting! Missing key: ''json_offer_details''. Context keys were: ['player_food', 'player_water', 'player_gold', 'player_max_food', 'player_max_water', 'trader_type', 'trader_personality_hint', 'trader_food_stock', 'trader_water_stock', 'current_offer_str', 'food_to_player', 'water_to_player', 'gold_to_player', 'food_to_trader', 'water_to_trader', 'gold_to_trader']
Traceback (most recent call last):
  File "/mnt/c/Users/ryanw/OneDrive - Cal Poly Pomona/CPP Coding/CS3560/CS3560-WSS/PythonAI/decision_engine.py", line 306, in make_trade_decision
    prompt = self.trade_prompt_template.format(**context) # The line that throws the error
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
KeyError: 'json_offer_details'
2025-05-03 19:50:39,759 INFO [root]: Sending request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 19:50:39,760 ERROR [root]: The trade_prompt_template being used starts with: # prompts/trade_prompt.txt
You are the trading advisor for a player in a survival game. Your goal is to help the player get needed resources (Food, Water) by trading Gold, while considering the trader...
2025-05-03 19:50:39,762 INFO [root]: Sending trade request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 19:50:48,000 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 19:50:48,001 INFO [root]: LLM generation finish reason: stop
2025-05-03 19:50:48,001 INFO [root]: Decision: TRADE | Reason: The player is already on a tile with a Trader at (0,0), so the objective is met and TRADE is the appropriate action.
2025-05-03 19:50:48,002 INFO [root]: Decision received from engine: TRADE
2025-05-03 19:50:48,002 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 19:50:48] "POST /decide HTTP/1.1" 200 -
2025-05-03 19:50:48,302 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 19:50:48,303 INFO [root]: LLM trade generation finish reason: stop
2025-05-03 19:50:48,303 INFO [root]: Trade Decision Raw: REJECT | Reason: The trade prompt is missing the required 'json_offer_details' key, which is necessary to process the trade request properly. Please ensure all required fields are included in the input.
2025-05-03 19:50:48,303 WARNING [root]: AI failed to generate an initial COUNTER OFFER, received: REJECT. Defaulting to REJECT.
2025-05-03 19:50:48,304 INFO [root]: Trade decision received from engine: REJECT
2025-05-03 19:50:48,304 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 19:50:48] "POST /trade_decide HTTP/1.1" 200 -
2025-05-03 19:50:49,890 INFO [root]: Received request on /trade_decide endpoint.
2025-05-03 19:50:49,890 ERROR [root]: KeyError during trade prompt formatting! Missing key: ''json_offer_details''. Context keys were: ['player_food', 'player_water', 'player_gold', 'player_max_food', 'player_max_water', 'trader_type', 'trader_personality_hint', 'trader_food_stock', 'trader_water_stock', 'current_offer_str', 'food_to_player', 'water_to_player', 'gold_to_player', 'food_to_trader', 'water_to_trader', 'gold_to_trader']
Traceback (most recent call last):
  File "/mnt/c/Users/ryanw/OneDrive - Cal Poly Pomona/CPP Coding/CS3560/CS3560-WSS/PythonAI/decision_engine.py", line 306, in make_trade_decision
    prompt = self.trade_prompt_template.format(**context) # The line that throws the error
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
KeyError: 'json_offer_details'
2025-05-03 19:50:49,891 ERROR [root]: The trade_prompt_template being used starts with: # prompts/trade_prompt.txt
You are the trading advisor for a player in a survival game. Your goal is to help the player get needed resources (Food, Water) by trading Gold, while considering the trader...
2025-05-03 19:50:49,891 INFO [root]: Sending trade request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 19:50:50,177 INFO [root]: Received request on /decide endpoint.
2025-05-03 19:50:50,177 INFO [root]: Sending request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 19:50:56,295 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 19:50:56,297 INFO [root]: LLM trade generation finish reason: stop
2025-05-03 19:50:56,297 INFO [root]: Trade Decision Raw: REJECT | Reason: The trade prompt is incomplete as the required 'json_offer_details' key is missing. Please provide the full offer details in JSON format for proper evaluation.
2025-05-03 19:50:56,297 WARNING [root]: AI failed to generate an initial COUNTER OFFER, received: REJECT. Defaulting to REJECT.
2025-05-03 19:50:56,297 INFO [root]: Trade decision received from engine: REJECT
2025-05-03 19:50:56,298 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 19:50:56] "POST /trade_decide HTTP/1.1" 200 -
2025-05-03 19:51:01,571 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 19:51:01,571 INFO [root]: LLM generation finish reason: stop
2025-05-03 19:51:01,572 INFO [root]: Decision: TRADE | Reason: The player is already on a tile with a Trader at (0,0), so the objective is met and trading is the required action.
2025-05-03 19:51:01,572 INFO [root]: Decision received from engine: TRADE
2025-05-03 19:51:01,572 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 19:51:01] "POST /decide HTTP/1.1" 200 -
2025-05-03 19:51:03,453 INFO [root]: Received request on /trade_decide endpoint.
2025-05-03 19:51:03,453 INFO [root]: Received request on /decide endpoint.
2025-05-03 19:51:03,453 ERROR [root]: KeyError during trade prompt formatting! Missing key: ''json_offer_details''. Context keys were: ['player_food', 'player_water', 'player_gold', 'player_max_food', 'player_max_water', 'trader_type', 'trader_personality_hint', 'trader_food_stock', 'trader_water_stock', 'current_offer_str', 'food_to_player', 'water_to_player', 'gold_to_player', 'food_to_trader', 'water_to_trader', 'gold_to_trader']
Traceback (most recent call last):
  File "/mnt/c/Users/ryanw/OneDrive - Cal Poly Pomona/CPP Coding/CS3560/CS3560-WSS/PythonAI/decision_engine.py", line 306, in make_trade_decision
    prompt = self.trade_prompt_template.format(**context) # The line that throws the error
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
KeyError: 'json_offer_details'
2025-05-03 19:51:03,454 INFO [root]: Sending request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 19:51:03,454 ERROR [root]: The trade_prompt_template being used starts with: # prompts/trade_prompt.txt
You are the trading advisor for a player in a survival game. Your goal is to help the player get needed resources (Food, Water) by trading Gold, while considering the trader...
2025-05-03 19:51:03,455 INFO [root]: Sending trade request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 19:51:07,910 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 19:51:07,910 INFO [root]: LLM trade generation finish reason: stop
2025-05-03 19:51:07,911 INFO [root]: Trade Decision Raw: REJECT | Reason: The trade prompt is missing the required 'json_offer_details' key, which is necessary to evaluate the offer.
2025-05-03 19:51:07,911 WARNING [root]: AI failed to generate an initial COUNTER OFFER, received: REJECT. Defaulting to REJECT.
2025-05-03 19:51:07,911 INFO [root]: Trade decision received from engine: REJECT
2025-05-03 19:51:07,912 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 19:51:07] "POST /trade_decide HTTP/1.1" 200 -
2025-05-03 19:51:18,245 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 19:51:18,246 INFO [root]: LLM generation finish reason: stop
2025-05-03 19:51:18,246 INFO [root]: Decision: TRADE | Reason: The player is already on a tile containing a Trader at (0,0), so the objective is met and TRADE is the required action.
2025-05-03 19:51:18,246 INFO [root]: Decision received from engine: TRADE
2025-05-03 19:51:18,247 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 19:51:18] "POST /decide HTTP/1.1" 200 -
2025-05-03 19:51:20,121 INFO [root]: Received request on /decide endpoint.
2025-05-03 19:51:20,122 INFO [root]: Received request on /trade_decide endpoint.
2025-05-03 19:51:20,122 INFO [root]: Sending request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 19:51:20,122 ERROR [root]: KeyError during trade prompt formatting! Missing key: ''json_offer_details''. Context keys were: ['player_food', 'player_water', 'player_gold', 'player_max_food', 'player_max_water', 'trader_type', 'trader_personality_hint', 'trader_food_stock', 'trader_water_stock', 'current_offer_str', 'food_to_player', 'water_to_player', 'gold_to_player', 'food_to_trader', 'water_to_trader', 'gold_to_trader']
Traceback (most recent call last):
  File "/mnt/c/Users/ryanw/OneDrive - Cal Poly Pomona/CPP Coding/CS3560/CS3560-WSS/PythonAI/decision_engine.py", line 306, in make_trade_decision
    prompt = self.trade_prompt_template.format(**context) # The line that throws the error
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
KeyError: 'json_offer_details'
2025-05-03 19:51:20,124 ERROR [root]: The trade_prompt_template being used starts with: # prompts/trade_prompt.txt
You are the trading advisor for a player in a survival game. Your goal is to help the player get needed resources (Food, Water) by trading Gold, while considering the trader...
2025-05-03 19:51:20,124 INFO [root]: Sending trade request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 19:51:24,776 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 19:51:24,776 INFO [root]: LLM trade generation finish reason: stop
2025-05-03 19:51:24,776 INFO [root]: Trade Decision Raw: REJECT | Reason: The trade prompt is missing the required 'json_offer_details' key, which contains the necessary information to evaluate the trade offer. Without this data, the trade cannot be processed.
2025-05-03 19:51:24,777 WARNING [root]: AI failed to generate an initial COUNTER OFFER, received: REJECT. Defaulting to REJECT.
2025-05-03 19:51:24,777 INFO [root]: Trade decision received from engine: REJECT
2025-05-03 19:51:24,777 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 19:51:24] "POST /trade_decide HTTP/1.1" 200 -
2025-05-03 19:51:26,405 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 19:51:26,406 INFO [root]: LLM generation finish reason: stop
2025-05-03 19:51:26,407 INFO [root]: Decision: TRADE | Reason: The player is already on a tile containing a Trader at (0,0), fulfilling the objective.
2025-05-03 19:51:26,407 INFO [root]: Decision received from engine: TRADE
2025-05-03 19:51:26,407 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 19:51:26] "POST /decide HTTP/1.1" 200 -
2025-05-03 19:51:28,273 INFO [root]: Received request on /decide endpoint.
2025-05-03 19:51:28,274 INFO [root]: Received request on /trade_decide endpoint.
2025-05-03 19:51:28,274 INFO [root]: Sending request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 19:51:28,275 ERROR [root]: KeyError during trade prompt formatting! Missing key: ''json_offer_details''. Context keys were: ['player_food', 'player_water', 'player_gold', 'player_max_food', 'player_max_water', 'trader_type', 'trader_personality_hint', 'trader_food_stock', 'trader_water_stock', 'current_offer_str', 'food_to_player', 'water_to_player', 'gold_to_player', 'food_to_trader', 'water_to_trader', 'gold_to_trader']
Traceback (most recent call last):
  File "/mnt/c/Users/ryanw/OneDrive - Cal Poly Pomona/CPP Coding/CS3560/CS3560-WSS/PythonAI/decision_engine.py", line 306, in make_trade_decision
    prompt = self.trade_prompt_template.format(**context) # The line that throws the error
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
KeyError: 'json_offer_details'
2025-05-03 19:51:28,276 ERROR [root]: The trade_prompt_template being used starts with: # prompts/trade_prompt.txt
You are the trading advisor for a player in a survival game. Your goal is to help the player get needed resources (Food, Water) by trading Gold, while considering the trader...
2025-05-03 19:51:28,276 INFO [root]: Sending trade request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 19:51:34,266 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 19:51:34,266 INFO [root]: LLM trade generation finish reason: stop
2025-05-03 19:51:34,266 INFO [root]: Trade Decision Raw: REJECT | Reason: The trade prompt is missing the required 'json_offer_details' key, which is necessary to evaluate the offer. Please provide the trade details in the correct JSON format as specified.
2025-05-03 19:51:34,267 WARNING [root]: AI failed to generate an initial COUNTER OFFER, received: REJECT. Defaulting to REJECT.
2025-05-03 19:51:34,267 INFO [root]: Trade decision received from engine: REJECT
2025-05-03 19:51:34,267 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 19:51:34] "POST /trade_decide HTTP/1.1" 200 -
2025-05-03 19:51:35,837 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 19:51:35,838 INFO [root]: LLM generation finish reason: stop
2025-05-03 19:51:35,838 INFO [root]: Decision: TRADE | Reason: Player is already on a tile with a Trader at (0,0), so the objective is met and TRADE is the required action.
2025-05-03 19:51:35,838 INFO [root]: Decision received from engine: TRADE
2025-05-03 19:51:35,838 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 19:51:35] "POST /decide HTTP/1.1" 200 -
2025-05-03 19:51:37,707 INFO [root]: Received request on /decide endpoint.
2025-05-03 19:51:37,707 INFO [root]: Received request on /trade_decide endpoint.
2025-05-03 19:51:37,707 INFO [root]: Sending request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 19:51:37,708 ERROR [root]: KeyError during trade prompt formatting! Missing key: ''json_offer_details''. Context keys were: ['player_food', 'player_water', 'player_gold', 'player_max_food', 'player_max_water', 'trader_type', 'trader_personality_hint', 'trader_food_stock', 'trader_water_stock', 'current_offer_str', 'food_to_player', 'water_to_player', 'gold_to_player', 'food_to_trader', 'water_to_trader', 'gold_to_trader']
Traceback (most recent call last):
  File "/mnt/c/Users/ryanw/OneDrive - Cal Poly Pomona/CPP Coding/CS3560/CS3560-WSS/PythonAI/decision_engine.py", line 306, in make_trade_decision
    prompt = self.trade_prompt_template.format(**context) # The line that throws the error
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
KeyError: 'json_offer_details'
2025-05-03 19:51:37,709 ERROR [root]: The trade_prompt_template being used starts with: # prompts/trade_prompt.txt
You are the trading advisor for a player in a survival game. Your goal is to help the player get needed resources (Food, Water) by trading Gold, while considering the trader...
2025-05-03 19:51:37,709 INFO [root]: Sending trade request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 19:51:43,235 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 19:51:43,236 INFO [root]: LLM generation finish reason: stop
2025-05-03 19:51:43,236 INFO [root]: Decision: TRADE | Reason: The player is already on a tile with a Trader at (0,0), so the objective is met and TRADE is the correct action.
2025-05-03 19:51:43,237 INFO [root]: Decision received from engine: TRADE
2025-05-03 19:51:43,237 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 19:51:43] "POST /decide HTTP/1.1" 200 -
2025-05-03 19:51:45,088 INFO [root]: Received request on /trade_decide endpoint.
2025-05-03 19:51:45,089 ERROR [root]: KeyError during trade prompt formatting! Missing key: ''json_offer_details''. Context keys were: ['player_food', 'player_water', 'player_gold', 'player_max_food', 'player_max_water', 'trader_type', 'trader_personality_hint', 'trader_food_stock', 'trader_water_stock', 'current_offer_str', 'food_to_player', 'water_to_player', 'gold_to_player', 'food_to_trader', 'water_to_trader', 'gold_to_trader']
Traceback (most recent call last):
  File "/mnt/c/Users/ryanw/OneDrive - Cal Poly Pomona/CPP Coding/CS3560/CS3560-WSS/PythonAI/decision_engine.py", line 306, in make_trade_decision
    prompt = self.trade_prompt_template.format(**context) # The line that throws the error
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
KeyError: 'json_offer_details'
2025-05-03 19:51:45,090 ERROR [root]: The trade_prompt_template being used starts with: # prompts/trade_prompt.txt
You are the trading advisor for a player in a survival game. Your goal is to help the player get needed resources (Food, Water) by trading Gold, while considering the trader...
2025-05-03 19:51:45,090 INFO [root]: Sending trade request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 19:51:49,233 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 19:51:49,233 INFO [root]: LLM trade generation finish reason: stop
2025-05-03 19:51:49,234 INFO [root]: Trade Decision Raw: REJECT | Reason: The trade prompt is invalid due to the missing 'json_offer_details' key in the provided JSON structure. This key is required to process the trade offer. Please ensure all necessary fields are included in the JSON input.
2025-05-03 19:51:49,234 WARNING [root]: AI failed to generate an initial COUNTER OFFER, received: REJECT. Defaulting to REJECT.
2025-05-03 19:51:49,234 INFO [root]: Trade decision received from engine: REJECT
2025-05-03 19:51:49,235 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 19:51:49] "POST /trade_decide HTTP/1.1" 200 -
2025-05-03 19:51:54,049 INFO [root]: Received request on /decide endpoint.
2025-05-03 19:51:54,050 INFO [root]: Sending request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 19:51:54,458 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 19:51:54,459 INFO [root]: LLM trade generation finish reason: stop
2025-05-03 19:51:54,459 INFO [root]: Trade Decision Raw: REJECT | Reason: The required 'json_offer_details' key is missing from the trade prompt, making it impossible to process the offer according to the specified format.
2025-05-03 19:51:54,460 WARNING [root]: AI failed to generate an initial COUNTER OFFER, received: REJECT. Defaulting to REJECT.
2025-05-03 19:51:54,460 INFO [root]: Trade decision received from engine: REJECT
2025-05-03 19:51:54,460 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 19:51:54] "POST /trade_decide HTTP/1.1" 200 -
2025-05-03 19:51:58,831 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 19:51:58,832 INFO [root]: LLM generation finish reason: stop
2025-05-03 19:51:58,832 INFO [root]: Decision: TRADE | Reason: The player is already on a tile containing a Trader at (0,0), satisfying the objective.
2025-05-03 19:51:58,833 INFO [root]: Decision received from engine: TRADE
2025-05-03 19:51:58,833 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 19:51:58] "POST /decide HTTP/1.1" 200 -
2025-05-03 19:52:00,710 INFO [root]: Received request on /trade_decide endpoint.
2025-05-03 19:52:00,711 ERROR [root]: KeyError during trade prompt formatting! Missing key: ''json_offer_details''. Context keys were: ['player_food', 'player_water', 'player_gold', 'player_max_food', 'player_max_water', 'trader_type', 'trader_personality_hint', 'trader_food_stock', 'trader_water_stock', 'current_offer_str', 'food_to_player', 'water_to_player', 'gold_to_player', 'food_to_trader', 'water_to_trader', 'gold_to_trader']
Traceback (most recent call last):
  File "/mnt/c/Users/ryanw/OneDrive - Cal Poly Pomona/CPP Coding/CS3560/CS3560-WSS/PythonAI/decision_engine.py", line 306, in make_trade_decision
    prompt = self.trade_prompt_template.format(**context) # The line that throws the error
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
KeyError: 'json_offer_details'
2025-05-03 19:52:00,712 ERROR [root]: The trade_prompt_template being used starts with: # prompts/trade_prompt.txt
You are the trading advisor for a player in a survival game. Your goal is to help the player get needed resources (Food, Water) by trading Gold, while considering the trader...
2025-05-03 19:52:00,712 INFO [root]: Sending trade request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 19:52:00,725 INFO [root]: Received request on /decide endpoint.
2025-05-03 19:52:00,725 INFO [root]: Sending request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 19:52:05,820 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 19:52:05,821 INFO [root]: LLM trade generation finish reason: stop
2025-05-03 19:52:05,821 INFO [root]: Trade Decision Raw: REJECT | Reason: The required key 'json_offer_details' is missing from the trade prompt, preventing proper evaluation of the offer terms.
2025-05-03 19:52:05,821 WARNING [root]: AI failed to generate an initial COUNTER OFFER, received: REJECT. Defaulting to REJECT.
2025-05-03 19:52:05,822 INFO [root]: Trade decision received from engine: REJECT
2025-05-03 19:52:05,822 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 19:52:05] "POST /trade_decide HTTP/1.1" 200 -
2025-05-03 19:52:06,750 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 19:52:06,750 INFO [root]: LLM generation finish reason: stop
2025-05-03 19:52:06,750 INFO [root]: Decision: TRADE | Reason: The player is already on a tile with a Trader at (0,0), so the objective is met and TRADE is the correct action.
2025-05-03 19:52:06,751 INFO [root]: Decision received from engine: TRADE
2025-05-03 19:52:06,751 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 19:52:06] "POST /decide HTTP/1.1" 200 -
2025-05-03 19:52:08,615 INFO [root]: Received request on /trade_decide endpoint.
2025-05-03 19:52:08,616 INFO [root]: Received request on /decide endpoint.
2025-05-03 19:52:08,616 ERROR [root]: KeyError during trade prompt formatting! Missing key: ''json_offer_details''. Context keys were: ['player_food', 'player_water', 'player_gold', 'player_max_food', 'player_max_water', 'trader_type', 'trader_personality_hint', 'trader_food_stock', 'trader_water_stock', 'current_offer_str', 'food_to_player', 'water_to_player', 'gold_to_player', 'food_to_trader', 'water_to_trader', 'gold_to_trader']
Traceback (most recent call last):
  File "/mnt/c/Users/ryanw/OneDrive - Cal Poly Pomona/CPP Coding/CS3560/CS3560-WSS/PythonAI/decision_engine.py", line 306, in make_trade_decision
    prompt = self.trade_prompt_template.format(**context) # The line that throws the error
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
KeyError: 'json_offer_details'
2025-05-03 19:52:08,616 INFO [root]: Sending request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 19:52:08,617 ERROR [root]: The trade_prompt_template being used starts with: # prompts/trade_prompt.txt
You are the trading advisor for a player in a survival game. Your goal is to help the player get needed resources (Food, Water) by trading Gold, while considering the trader...
2025-05-03 19:52:08,618 INFO [root]: Sending trade request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 19:55:43,348 INFO [root]: --- Logging configured for main.py (File & Console) ---
2025-05-03 19:55:43,606 INFO [root]: Initializing DecisionEngine with model: Qwen/Qwen3-14B-AWQ...
2025-05-03 19:55:43,630 INFO [root]: Loading prompt template from: /mnt/c/Users/ryanw/OneDrive - Cal Poly Pomona/CPP Coding/CS3560/CS3560-WSS/PythonAI/prompts/trader_test.txt
2025-05-03 19:55:43,638 INFO [root]: Loading prompt template from: /mnt/c/Users/ryanw/OneDrive - Cal Poly Pomona/CPP Coding/CS3560/CS3560-WSS/PythonAI/prompts/trade_prompt.txt
2025-05-03 19:55:43,639 INFO [root]: DecisionEngine initialized for model: Qwen/Qwen3-14B-AWQ
2025-05-03 19:55:43,639 INFO [root]: Sampling Params: Temp=0.6, TopP=0.95, PresencePenalty=None
2025-05-03 19:55:43,640 INFO [root]: Main prompt loaded: Yes
2025-05-03 19:55:43,640 INFO [root]: Trade prompt loaded: Yes
2025-05-03 19:55:43,640 INFO [root]: DecisionEngine initialized successfully.
2025-05-03 19:55:43,641 INFO [root]: Starting Flask server on 0.0.0.0:5000
2025-05-03 19:55:43,647 INFO [werkzeug]: [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://172.31.197.234:5000
2025-05-03 19:55:43,647 INFO [werkzeug]: [33mPress CTRL+C to quit[0m
2025-05-03 19:55:45,155 INFO [root]: Received request on /trade_decide endpoint.
2025-05-03 19:55:45,156 INFO [root]: Received request on /decide endpoint.
2025-05-03 19:55:45,156 ERROR [root]: KeyError during trade prompt formatting! Missing key: ''json''. Context keys were: ['player_food', 'player_water', 'player_gold', 'player_max_food', 'player_max_water', 'trader_type', 'trader_personality_hint', 'trader_food_stock', 'trader_water_stock', 'current_offer_str', 'food_to_player', 'water_to_player', 'gold_to_player', 'food_to_trader', 'water_to_trader', 'gold_to_trader']
Traceback (most recent call last):
  File "/mnt/c/Users/ryanw/OneDrive - Cal Poly Pomona/CPP Coding/CS3560/CS3560-WSS/PythonAI/decision_engine.py", line 306, in make_trade_decision
    prompt = self.trade_prompt_template.format(**context) # The line that throws the error
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
KeyError: 'json'
2025-05-03 19:55:45,157 INFO [root]: Sending request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 19:55:45,159 ERROR [root]: The trade_prompt_template being used starts with: # prompts/trade_prompt.txt
You are the trading advisor for a player in a survival game. Your goal is to help the player get needed resources (Food, Water) by trading Gold, while considering the trader...
2025-05-03 19:55:45,161 INFO [root]: Sending trade request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 19:55:50,195 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 19:55:50,197 INFO [root]: LLM generation finish reason: stop
2025-05-03 19:55:50,197 INFO [root]: Decision: TRADE | Reason: The player is already on a tile containing a Trader at (0,0), so the objective is met and trading is the appropriate action.
2025-05-03 19:55:50,197 INFO [root]: Decision received from engine: TRADE
2025-05-03 19:55:50,198 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 19:55:50] "POST /decide HTTP/1.1" 200 -
2025-05-03 19:55:51,325 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 19:55:51,325 INFO [root]: LLM trade generation finish reason: stop
2025-05-03 19:55:51,326 INFO [root]: Trade Decision Raw: REJECT | Reason: No explanation provided.
2025-05-03 19:55:51,326 WARNING [root]: AI failed to generate an initial COUNTER OFFER, received: REJECT. Defaulting to REJECT.
2025-05-03 19:55:51,326 INFO [root]: Trade decision received from engine: REJECT
2025-05-03 19:55:51,326 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 19:55:51] "POST /trade_decide HTTP/1.1" 200 -
2025-05-03 19:55:56,387 INFO [root]: Received request on /reset endpoint.
2025-05-03 19:55:56,388 INFO [root]: AI memory reset successfully via /reset endpoint.
2025-05-03 19:55:56,388 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 19:55:56] "POST /reset HTTP/1.1" 200 -
2025-05-03 19:55:58,299 INFO [root]: Received request on /decide endpoint.
2025-05-03 19:55:58,301 INFO [root]: Sending request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 19:56:21,109 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 19:56:21,109 INFO [root]: LLM generation finish reason: stop
2025-05-03 19:56:21,110 INFO [root]: Decision: MOVE SOUTH | Reason: The nearest visible Trader is at (0,+1) directly to the south. Moving there requires subtracting 5 from each resource (Food: 15→10, Water: 15→10, Energy: 15→10), which keeps all resources above zero. This is the shortest path to a Trader.
2025-05-03 19:56:21,110 INFO [root]: Decision received from engine: MOVE SOUTH
2025-05-03 19:56:21,110 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 19:56:21] "POST /decide HTTP/1.1" 200 -
2025-05-03 19:56:23,450 INFO [root]: Received request on /decide endpoint.
2025-05-03 19:56:23,450 INFO [root]: Sending request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 19:56:58,840 INFO [root]: Received request on /reset endpoint.
2025-05-03 19:56:58,840 INFO [root]: AI memory reset successfully via /reset endpoint.
2025-05-03 19:56:58,841 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 19:56:58] "POST /reset HTTP/1.1" 200 -
2025-05-03 19:57:00,764 INFO [root]: Received request on /decide endpoint.
2025-05-03 19:57:00,766 INFO [root]: Sending request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 19:57:03,453 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 19:57:03,454 INFO [root]: LLM generation finish reason: stop
2025-05-03 19:57:03,454 INFO [root]: Decision: MOVE EAST | Reason: The nearest visible traders are at (2,0) and (0,2), both 2 steps away. Moving EAST to (1,0) (cost: 3E, 3F, 2W, total 8) is cheaper than moving SOUTH to (0,1) (cost: 6E, 5F, 4W, total 15). EAST is preferred per tie-breaking rules.
2025-05-03 19:57:03,454 INFO [root]: Decision received from engine: MOVE EAST
2025-05-03 19:57:03,455 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 19:57:03] "POST /decide HTTP/1.1" 200 -
2025-05-03 19:57:14,631 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 19:57:14,631 INFO [root]: LLM generation finish reason: stop
2025-05-03 19:57:14,632 INFO [root]: Decision: TRADE | Reason: The player is already on a tile containing a Trader at (0,0), so the objective is met and trading is the appropriate action.
2025-05-03 19:57:14,632 INFO [root]: Decision received from engine: TRADE
2025-05-03 19:57:14,632 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 19:57:14] "POST /decide HTTP/1.1" 200 -
2025-05-03 19:57:16,511 INFO [root]: Received request on /trade_decide endpoint.
2025-05-03 19:57:16,511 ERROR [root]: KeyError during trade prompt formatting! Missing key: ''json''. Context keys were: ['player_food', 'player_water', 'player_gold', 'player_max_food', 'player_max_water', 'trader_type', 'trader_personality_hint', 'trader_food_stock', 'trader_water_stock', 'current_offer_str', 'food_to_player', 'water_to_player', 'gold_to_player', 'food_to_trader', 'water_to_trader', 'gold_to_trader']
Traceback (most recent call last):
  File "/mnt/c/Users/ryanw/OneDrive - Cal Poly Pomona/CPP Coding/CS3560/CS3560-WSS/PythonAI/decision_engine.py", line 306, in make_trade_decision
    prompt = self.trade_prompt_template.format(**context) # The line that throws the error
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
KeyError: 'json'
2025-05-03 19:57:16,512 ERROR [root]: The trade_prompt_template being used starts with: # prompts/trade_prompt.txt
You are the trading advisor for a player in a survival game. Your goal is to help the player get needed resources (Food, Water) by trading Gold, while considering the trader...
2025-05-03 19:57:16,512 INFO [root]: Sending trade request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 19:57:16,526 INFO [root]: Received request on /decide endpoint.
2025-05-03 19:57:16,526 INFO [root]: Sending request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 19:57:21,357 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 19:57:21,357 INFO [root]: LLM generation finish reason: stop
2025-05-03 19:57:21,357 INFO [root]: Decision: TRADE | Reason: The player is already on a tile with a Trader at (0,0), so the objective is met and TRADE is the correct action.
2025-05-03 19:57:21,358 INFO [root]: Decision received from engine: TRADE
2025-05-03 19:57:21,358 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 19:57:21] "POST /decide HTTP/1.1" 200 -
2025-05-03 19:57:23,251 INFO [root]: Received request on /trade_decide endpoint.
2025-05-03 19:57:23,251 ERROR [root]: KeyError during trade prompt formatting! Missing key: ''json''. Context keys were: ['player_food', 'player_water', 'player_gold', 'player_max_food', 'player_max_water', 'trader_type', 'trader_personality_hint', 'trader_food_stock', 'trader_water_stock', 'current_offer_str', 'food_to_player', 'water_to_player', 'gold_to_player', 'food_to_trader', 'water_to_trader', 'gold_to_trader']
Traceback (most recent call last):
  File "/mnt/c/Users/ryanw/OneDrive - Cal Poly Pomona/CPP Coding/CS3560/CS3560-WSS/PythonAI/decision_engine.py", line 306, in make_trade_decision
    prompt = self.trade_prompt_template.format(**context) # The line that throws the error
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
KeyError: 'json'
2025-05-03 19:57:23,252 ERROR [root]: The trade_prompt_template being used starts with: # prompts/trade_prompt.txt
You are the trading advisor for a player in a survival game. Your goal is to help the player get needed resources (Food, Water) by trading Gold, while considering the trader...
2025-05-03 19:57:23,253 INFO [root]: Sending trade request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 19:57:27,677 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 19:57:27,677 INFO [root]: LLM trade generation finish reason: stop
2025-05-03 19:57:27,678 INFO [root]: Trade Decision Raw: REJECT | Reason: The trade prompt is invalid or incomplete, as it lacks necessary details or formatting required for processing.
2025-05-03 19:57:27,678 WARNING [root]: AI failed to generate an initial COUNTER OFFER, received: REJECT. Defaulting to REJECT.
2025-05-03 19:57:27,678 INFO [root]: Trade decision received from engine: REJECT
2025-05-03 19:57:27,678 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 19:57:27] "POST /trade_decide HTTP/1.1" 200 -
2025-05-03 19:57:29,560 INFO [root]: Received request on /decide endpoint.
2025-05-03 19:57:29,560 INFO [root]: Sending request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 19:57:34,347 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 19:57:34,348 INFO [root]: LLM trade generation finish reason: stop
2025-05-03 19:57:34,348 INFO [root]: Trade Decision Raw: COUNTER OFFER {"terms": "adjusted price", "conditions": "new terms"} | Reason: The original terms were unacceptable, so a counter offer with adjusted conditions was proposed.
2025-05-03 19:57:34,348 INFO [root]: Trade decision received from engine: COUNTER OFFER {"terms": "adjusted price", "conditions": "new terms"}
2025-05-03 19:57:34,348 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 19:57:34] "POST /trade_decide HTTP/1.1" 200 -
2025-05-03 19:57:34,914 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 19:57:34,915 INFO [root]: LLM generation finish reason: stop
2025-05-03 19:57:34,915 INFO [root]: Decision: TRADE | Reason: The player is already on a tile with a Trader at (0,0), so the objective is met and TRADE is the appropriate action.
2025-05-03 19:57:34,915 INFO [root]: Decision received from engine: TRADE
2025-05-03 19:57:34,916 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 19:57:34] "POST /decide HTTP/1.1" 200 -
2025-05-03 19:57:36,781 INFO [root]: Received request on /trade_decide endpoint.
2025-05-03 19:57:36,781 INFO [root]: Received request on /decide endpoint.
2025-05-03 19:57:36,782 ERROR [root]: KeyError during trade prompt formatting! Missing key: ''json''. Context keys were: ['player_food', 'player_water', 'player_gold', 'player_max_food', 'player_max_water', 'trader_type', 'trader_personality_hint', 'trader_food_stock', 'trader_water_stock', 'current_offer_str', 'food_to_player', 'water_to_player', 'gold_to_player', 'food_to_trader', 'water_to_trader', 'gold_to_trader']
Traceback (most recent call last):
  File "/mnt/c/Users/ryanw/OneDrive - Cal Poly Pomona/CPP Coding/CS3560/CS3560-WSS/PythonAI/decision_engine.py", line 306, in make_trade_decision
    prompt = self.trade_prompt_template.format(**context) # The line that throws the error
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
KeyError: 'json'
2025-05-03 19:57:36,782 INFO [root]: Sending request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 19:57:36,783 ERROR [root]: The trade_prompt_template being used starts with: # prompts/trade_prompt.txt
You are the trading advisor for a player in a survival game. Your goal is to help the player get needed resources (Food, Water) by trading Gold, while considering the trader...
2025-05-03 19:57:36,784 INFO [root]: Sending trade request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 19:57:43,002 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 19:57:43,003 INFO [root]: LLM trade generation finish reason: stop
2025-05-03 19:57:43,003 INFO [root]: Trade Decision Raw: COUNTER OFFER {"counter_offer": {"terms": "50% deposit upfront, 50% upon delivery", "valid_until": "2023-12-31"}} | Reason: The original terms were too favorable to the buyer. Counter offer balances payment terms while maintaining flexibility for both parties.
2025-05-03 19:57:43,003 INFO [root]: Trade decision received from engine: COUNTER OFFER {"counter_offer": {"terms": "50% deposit upfront, 50% upon delivery", "valid_until": "2023-12-31"}}
2025-05-03 19:57:43,004 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 19:57:43] "POST /trade_decide HTTP/1.1" 200 -
2025-05-03 19:57:43,166 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 19:57:43,166 INFO [root]: LLM generation finish reason: stop
2025-05-03 19:57:43,166 INFO [root]: Decision: TRADE | Reason: The player is already on a tile containing a Trader at (0,0), so the objective is met and TRADE is the required action.
2025-05-03 19:57:43,166 INFO [root]: Decision received from engine: TRADE
2025-05-03 19:57:43,167 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 19:57:43] "POST /decide HTTP/1.1" 200 -
2025-05-03 19:57:45,010 INFO [root]: Received request on /decide endpoint.
2025-05-03 19:57:45,010 INFO [root]: Received request on /trade_decide endpoint.
2025-05-03 19:57:45,010 INFO [root]: Sending request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 19:57:45,011 ERROR [root]: KeyError during trade prompt formatting! Missing key: ''json''. Context keys were: ['player_food', 'player_water', 'player_gold', 'player_max_food', 'player_max_water', 'trader_type', 'trader_personality_hint', 'trader_food_stock', 'trader_water_stock', 'current_offer_str', 'food_to_player', 'water_to_player', 'gold_to_player', 'food_to_trader', 'water_to_trader', 'gold_to_trader']
Traceback (most recent call last):
  File "/mnt/c/Users/ryanw/OneDrive - Cal Poly Pomona/CPP Coding/CS3560/CS3560-WSS/PythonAI/decision_engine.py", line 306, in make_trade_decision
    prompt = self.trade_prompt_template.format(**context) # The line that throws the error
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
KeyError: 'json'
2025-05-03 19:57:45,012 ERROR [root]: The trade_prompt_template being used starts with: # prompts/trade_prompt.txt
You are the trading advisor for a player in a survival game. Your goal is to help the player get needed resources (Food, Water) by trading Gold, while considering the trader...
2025-05-03 19:57:45,012 INFO [root]: Sending trade request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 19:57:50,351 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 19:57:50,352 INFO [root]: LLM generation finish reason: stop
2025-05-03 19:57:50,352 INFO [root]: Decision: TRADE | Reason: The player is already on a tile containing a Trader at (0,0), so the objective is met and trading is the appropriate action.
2025-05-03 19:57:50,352 INFO [root]: Decision received from engine: TRADE
2025-05-03 19:57:50,352 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 19:57:50] "POST /decide HTTP/1.1" 200 -
2025-05-03 19:57:51,358 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 19:57:51,359 INFO [root]: LLM trade generation finish reason: stop
2025-05-03 19:57:51,359 INFO [root]: Trade Decision Raw: REJECT | Reason: The trade prompt is missing the required 'json' key, which is necessary for proper formatting and processing of the trade action.
2025-05-03 19:57:51,359 WARNING [root]: AI failed to generate an initial COUNTER OFFER, received: REJECT. Defaulting to REJECT.
2025-05-03 19:57:51,359 INFO [root]: Trade decision received from engine: REJECT
2025-05-03 19:57:51,360 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 19:57:51] "POST /trade_decide HTTP/1.1" 200 -
2025-05-03 19:57:52,201 INFO [root]: Received request on /trade_decide endpoint.
2025-05-03 19:57:52,202 ERROR [root]: KeyError during trade prompt formatting! Missing key: ''json''. Context keys were: ['player_food', 'player_water', 'player_gold', 'player_max_food', 'player_max_water', 'trader_type', 'trader_personality_hint', 'trader_food_stock', 'trader_water_stock', 'current_offer_str', 'food_to_player', 'water_to_player', 'gold_to_player', 'food_to_trader', 'water_to_trader', 'gold_to_trader']
Traceback (most recent call last):
  File "/mnt/c/Users/ryanw/OneDrive - Cal Poly Pomona/CPP Coding/CS3560/CS3560-WSS/PythonAI/decision_engine.py", line 306, in make_trade_decision
    prompt = self.trade_prompt_template.format(**context) # The line that throws the error
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
KeyError: 'json'
2025-05-03 19:57:52,203 ERROR [root]: The trade_prompt_template being used starts with: # prompts/trade_prompt.txt
You are the trading advisor for a player in a survival game. Your goal is to help the player get needed resources (Food, Water) by trading Gold, while considering the trader...
2025-05-03 19:57:52,203 INFO [root]: Sending trade request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 19:57:53,244 INFO [root]: Received request on /decide endpoint.
2025-05-03 19:57:53,245 INFO [root]: Sending request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 19:58:01,786 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 19:58:01,787 INFO [root]: LLM generation finish reason: stop
2025-05-03 19:58:01,787 INFO [root]: Decision: TRADE | Reason: The player is already on a tile containing a Trader at (0,0), so the objective is met and TRADE is the required action.
2025-05-03 19:58:01,787 INFO [root]: Decision received from engine: TRADE
2025-05-03 19:58:01,787 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 19:58:01] "POST /decide HTTP/1.1" 200 -
2025-05-03 19:58:03,299 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 19:58:03,300 INFO [root]: LLM trade generation finish reason: stop
2025-05-03 19:58:03,300 INFO [root]: Trade Decision Raw: COUNTER OFFER {"offer": "10000", "currency": "USD", "terms": "30-day payment"} | Reason: The original offer was insufficient; a counter offer with a higher price and clear payment terms is necessary to ensure mutual benefit.
2025-05-03 19:58:03,300 INFO [root]: Trade decision received from engine: COUNTER OFFER {"offer": "10000", "currency": "USD", "terms": "30-day payment"}
2025-05-03 19:58:03,301 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 19:58:03] "POST /trade_decide HTTP/1.1" 200 -
2025-05-03 19:58:03,651 INFO [root]: Received request on /trade_decide endpoint.
2025-05-03 19:58:03,651 ERROR [root]: KeyError during trade prompt formatting! Missing key: ''json''. Context keys were: ['player_food', 'player_water', 'player_gold', 'player_max_food', 'player_max_water', 'trader_type', 'trader_personality_hint', 'trader_food_stock', 'trader_water_stock', 'current_offer_str', 'food_to_player', 'water_to_player', 'gold_to_player', 'food_to_trader', 'water_to_trader', 'gold_to_trader']
Traceback (most recent call last):
  File "/mnt/c/Users/ryanw/OneDrive - Cal Poly Pomona/CPP Coding/CS3560/CS3560-WSS/PythonAI/decision_engine.py", line 306, in make_trade_decision
    prompt = self.trade_prompt_template.format(**context) # The line that throws the error
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
KeyError: 'json'
2025-05-03 19:58:03,652 ERROR [root]: The trade_prompt_template being used starts with: # prompts/trade_prompt.txt
You are the trading advisor for a player in a survival game. Your goal is to help the player get needed resources (Food, Water) by trading Gold, while considering the trader...
2025-05-03 19:58:03,652 INFO [root]: Sending trade request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 19:58:05,168 INFO [root]: Received request on /decide endpoint.
2025-05-03 19:58:05,169 INFO [root]: Sending request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 19:58:10,155 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 19:58:10,156 INFO [root]: LLM generation finish reason: stop
2025-05-03 19:58:10,156 INFO [root]: Decision: TRADE | Reason: The player is already on a tile with a Trader at (0,0), so the objective is met and trading is the appropriate action.
2025-05-03 19:58:10,156 INFO [root]: Decision received from engine: TRADE
2025-05-03 19:58:10,157 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 19:58:10] "POST /decide HTTP/1.1" 200 -
2025-05-03 19:58:12,023 INFO [root]: Received request on /trade_decide endpoint.
2025-05-03 19:58:12,024 ERROR [root]: KeyError during trade prompt formatting! Missing key: ''json''. Context keys were: ['player_food', 'player_water', 'player_gold', 'player_max_food', 'player_max_water', 'trader_type', 'trader_personality_hint', 'trader_food_stock', 'trader_water_stock', 'current_offer_str', 'food_to_player', 'water_to_player', 'gold_to_player', 'food_to_trader', 'water_to_trader', 'gold_to_trader']
Traceback (most recent call last):
  File "/mnt/c/Users/ryanw/OneDrive - Cal Poly Pomona/CPP Coding/CS3560/CS3560-WSS/PythonAI/decision_engine.py", line 306, in make_trade_decision
    prompt = self.trade_prompt_template.format(**context) # The line that throws the error
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
KeyError: 'json'
2025-05-03 19:58:12,025 ERROR [root]: The trade_prompt_template being used starts with: # prompts/trade_prompt.txt
You are the trading advisor for a player in a survival game. Your goal is to help the player get needed resources (Food, Water) by trading Gold, while considering the trader...
2025-05-03 19:58:12,025 INFO [root]: Sending trade request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 19:58:13,305 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 19:58:13,306 INFO [root]: LLM trade generation finish reason: stop
2025-05-03 19:58:13,306 INFO [root]: Trade Decision Raw: COUNTER OFFER {"price": 500, "terms": "30-day payment", "quantity": 100} | Reason: The counter offer adjusts the price, payment terms, and quantity to reach a mutually beneficial agreement.
2025-05-03 19:58:13,306 INFO [root]: Trade decision received from engine: COUNTER OFFER {"price": 500, "terms": "30-day payment", "quantity": 100}
2025-05-03 19:58:13,307 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 19:58:13] "POST /trade_decide HTTP/1.1" 200 -
2025-05-03 19:58:15,185 INFO [root]: Received request on /decide endpoint.
2025-05-03 19:58:15,185 INFO [root]: Sending request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 19:58:22,055 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 19:58:22,056 INFO [root]: LLM generation finish reason: stop
2025-05-03 19:58:22,057 INFO [root]: Decision: TRADE | Reason: The player is already on a tile with a Trader at (0,0), so the objective is met and trading is the appropriate action.
2025-05-03 19:58:22,057 INFO [root]: Decision received from engine: TRADE
2025-05-03 19:58:22,057 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 19:58:22] "POST /decide HTTP/1.1" 200 -
2025-05-03 19:58:23,943 INFO [root]: Received request on /trade_decide endpoint.
2025-05-03 19:58:23,943 ERROR [root]: KeyError during trade prompt formatting! Missing key: ''json''. Context keys were: ['player_food', 'player_water', 'player_gold', 'player_max_food', 'player_max_water', 'trader_type', 'trader_personality_hint', 'trader_food_stock', 'trader_water_stock', 'current_offer_str', 'food_to_player', 'water_to_player', 'gold_to_player', 'food_to_trader', 'water_to_trader', 'gold_to_trader']
Traceback (most recent call last):
  File "/mnt/c/Users/ryanw/OneDrive - Cal Poly Pomona/CPP Coding/CS3560/CS3560-WSS/PythonAI/decision_engine.py", line 306, in make_trade_decision
    prompt = self.trade_prompt_template.format(**context) # The line that throws the error
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
KeyError: 'json'
2025-05-03 19:58:23,944 ERROR [root]: The trade_prompt_template being used starts with: # prompts/trade_prompt.txt
You are the trading advisor for a player in a survival game. Your goal is to help the player get needed resources (Food, Water) by trading Gold, while considering the trader...
2025-05-03 19:58:23,944 INFO [root]: Sending trade request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 19:58:27,585 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 19:58:27,586 INFO [root]: LLM trade generation finish reason: stop
2025-05-03 19:58:27,586 INFO [root]: Trade Decision Raw: REJECT | Reason: The trade prompt was incorrectly formatted, missing the required 'json' key for structured data exchange. A valid trade action requires proper JSON structure when a counter offer is involved.
2025-05-03 19:58:27,586 WARNING [root]: AI failed to generate an initial COUNTER OFFER, received: REJECT. Defaulting to REJECT.
2025-05-03 19:58:27,587 INFO [root]: Trade decision received from engine: REJECT
2025-05-03 19:58:27,587 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 19:58:27] "POST /trade_decide HTTP/1.1" 200 -
2025-05-03 19:58:29,468 INFO [root]: Received request on /decide endpoint.
2025-05-03 19:58:29,469 INFO [root]: Sending request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 19:58:30,249 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 19:58:30,249 INFO [root]: LLM trade generation finish reason: stop
2025-05-03 19:58:30,250 INFO [root]: Trade Decision Raw: REJECT | Reason: The trade prompt lacks the required 'json' key in the counter offer section, leading to invalid formatting. The 'json' key must be included to ensure proper structure when a counter offer is proposed.
2025-05-03 19:58:30,250 WARNING [root]: AI failed to generate an initial COUNTER OFFER, received: REJECT. Defaulting to REJECT.
2025-05-03 19:58:30,250 INFO [root]: Trade decision received from engine: REJECT
2025-05-03 19:58:30,250 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 19:58:30] "POST /trade_decide HTTP/1.1" 200 -
2025-05-03 19:58:38,965 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 19:58:38,966 INFO [root]: LLM generation finish reason: stop
2025-05-03 19:58:38,966 INFO [root]: Decision: TRADE | Reason: The player is already on a tile with a Trader at (0,0), so the objective is met and TRADE is the correct action.
2025-05-03 19:58:38,966 INFO [root]: Decision received from engine: TRADE
2025-05-03 19:58:38,967 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 19:58:38] "POST /decide HTTP/1.1" 200 -
2025-05-03 19:58:40,832 INFO [root]: Received request on /decide endpoint.
2025-05-03 19:58:40,832 INFO [root]: Sending request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 19:58:40,847 INFO [root]: Received request on /trade_decide endpoint.
2025-05-03 19:58:40,847 ERROR [root]: KeyError during trade prompt formatting! Missing key: ''json''. Context keys were: ['player_food', 'player_water', 'player_gold', 'player_max_food', 'player_max_water', 'trader_type', 'trader_personality_hint', 'trader_food_stock', 'trader_water_stock', 'current_offer_str', 'food_to_player', 'water_to_player', 'gold_to_player', 'food_to_trader', 'water_to_trader', 'gold_to_trader']
Traceback (most recent call last):
  File "/mnt/c/Users/ryanw/OneDrive - Cal Poly Pomona/CPP Coding/CS3560/CS3560-WSS/PythonAI/decision_engine.py", line 306, in make_trade_decision
    prompt = self.trade_prompt_template.format(**context) # The line that throws the error
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
KeyError: 'json'
2025-05-03 19:58:40,848 ERROR [root]: The trade_prompt_template being used starts with: # prompts/trade_prompt.txt
You are the trading advisor for a player in a survival game. Your goal is to help the player get needed resources (Food, Water) by trading Gold, while considering the trader...
2025-05-03 19:58:40,848 INFO [root]: Sending trade request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 19:58:44,710 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 19:58:44,710 INFO [root]: LLM generation finish reason: stop
2025-05-03 19:58:44,711 INFO [root]: Decision: TRADE | Reason: The player is already on a tile with a Trader at (0,0), so the objective is met and TRADE is the required action.
2025-05-03 19:58:44,711 INFO [root]: Decision received from engine: TRADE
2025-05-03 19:58:44,711 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 19:58:44] "POST /decide HTTP/1.1" 200 -
2025-05-03 19:58:45,865 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 19:58:45,865 INFO [root]: LLM trade generation finish reason: stop
2025-05-03 19:58:45,866 INFO [root]: Trade Decision Raw: REJECT | Reason: The trade prompt is missing the required 'json' key, which is necessary to format a valid counter offer. Please provide the missing JSON data for the counter offer.
2025-05-03 19:58:45,866 WARNING [root]: AI failed to generate an initial COUNTER OFFER, received: REJECT. Defaulting to REJECT.
2025-05-03 19:58:45,866 INFO [root]: Trade decision received from engine: REJECT
2025-05-03 19:58:45,866 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 19:58:45] "POST /trade_decide HTTP/1.1" 200 -
2025-05-03 19:58:46,597 INFO [root]: Received request on /trade_decide endpoint.
2025-05-03 19:58:46,597 ERROR [root]: KeyError during trade prompt formatting! Missing key: ''json''. Context keys were: ['player_food', 'player_water', 'player_gold', 'player_max_food', 'player_max_water', 'trader_type', 'trader_personality_hint', 'trader_food_stock', 'trader_water_stock', 'current_offer_str', 'food_to_player', 'water_to_player', 'gold_to_player', 'food_to_trader', 'water_to_trader', 'gold_to_trader']
Traceback (most recent call last):
  File "/mnt/c/Users/ryanw/OneDrive - Cal Poly Pomona/CPP Coding/CS3560/CS3560-WSS/PythonAI/decision_engine.py", line 306, in make_trade_decision
    prompt = self.trade_prompt_template.format(**context) # The line that throws the error
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
KeyError: 'json'
2025-05-03 19:58:46,599 ERROR [root]: The trade_prompt_template being used starts with: # prompts/trade_prompt.txt
You are the trading advisor for a player in a survival game. Your goal is to help the player get needed resources (Food, Water) by trading Gold, while considering the trader...
2025-05-03 19:58:46,599 INFO [root]: Sending trade request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 19:58:47,756 INFO [root]: Received request on /decide endpoint.
2025-05-03 19:58:47,756 INFO [root]: Sending request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 19:58:54,905 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 19:58:54,906 INFO [root]: LLM generation finish reason: stop
2025-05-03 19:58:54,906 INFO [root]: Decision: TRADE | Reason: The player is already on a tile with a Trader at (0,0), so the objective is met and trading is the appropriate action.
2025-05-03 19:58:54,906 INFO [root]: Decision received from engine: TRADE
2025-05-03 19:58:54,906 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 19:58:54] "POST /decide HTTP/1.1" 200 -
2025-05-03 19:58:56,764 INFO [root]: Received request on /trade_decide endpoint.
2025-05-03 19:58:56,764 ERROR [root]: KeyError during trade prompt formatting! Missing key: ''json''. Context keys were: ['player_food', 'player_water', 'player_gold', 'player_max_food', 'player_max_water', 'trader_type', 'trader_personality_hint', 'trader_food_stock', 'trader_water_stock', 'current_offer_str', 'food_to_player', 'water_to_player', 'gold_to_player', 'food_to_trader', 'water_to_trader', 'gold_to_trader']
Traceback (most recent call last):
  File "/mnt/c/Users/ryanw/OneDrive - Cal Poly Pomona/CPP Coding/CS3560/CS3560-WSS/PythonAI/decision_engine.py", line 306, in make_trade_decision
    prompt = self.trade_prompt_template.format(**context) # The line that throws the error
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
KeyError: 'json'
2025-05-03 19:58:56,765 ERROR [root]: The trade_prompt_template being used starts with: # prompts/trade_prompt.txt
You are the trading advisor for a player in a survival game. Your goal is to help the player get needed resources (Food, Water) by trading Gold, while considering the trader...
2025-05-03 19:58:56,766 INFO [root]: Sending trade request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 19:59:00,469 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 19:59:00,470 INFO [root]: LLM trade generation finish reason: stop
2025-05-03 19:59:00,471 INFO [root]: Trade Decision Raw: REJECT | Reason: The trade prompt is missing the required 'json' key, which is necessary to properly format and process the trade action. Please ensure the prompt includes the 'json' key with the relevant trade details.
2025-05-03 19:59:00,471 WARNING [root]: AI failed to generate an initial COUNTER OFFER, received: REJECT. Defaulting to REJECT.
2025-05-03 19:59:00,471 INFO [root]: Trade decision received from engine: REJECT
2025-05-03 19:59:00,472 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 19:59:00] "POST /trade_decide HTTP/1.1" 200 -
2025-05-03 19:59:01,565 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 19:59:01,566 INFO [root]: LLM trade generation finish reason: stop
2025-05-03 19:59:01,566 INFO [root]: Trade Decision Raw: COUNTER OFFER {"terms": "adjusted price", "conditions": "new terms"} | Reason: The original terms were not favorable, so a counter offer with adjusted conditions is proposed.
2025-05-03 19:59:01,566 INFO [root]: Trade decision received from engine: COUNTER OFFER {"terms": "adjusted price", "conditions": "new terms"}
2025-05-03 19:59:01,566 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 19:59:01] "POST /trade_decide HTTP/1.1" 200 -
2025-05-03 19:59:02,342 INFO [root]: Received request on /decide endpoint.
2025-05-03 19:59:02,342 INFO [root]: Sending request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 19:59:14,481 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 19:59:14,481 INFO [root]: LLM generation finish reason: stop
2025-05-03 19:59:14,482 INFO [root]: Decision: TRADE | Reason: The player is already on a tile with a Trader at (0,0), so the objective is met and TRADE is the required action.
2025-05-03 19:59:14,482 INFO [root]: Decision received from engine: TRADE
2025-05-03 19:59:14,482 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 19:59:14] "POST /decide HTTP/1.1" 200 -
2025-05-03 19:59:16,356 INFO [root]: Received request on /trade_decide endpoint.
2025-05-03 19:59:16,356 ERROR [root]: KeyError during trade prompt formatting! Missing key: ''json''. Context keys were: ['player_food', 'player_water', 'player_gold', 'player_max_food', 'player_max_water', 'trader_type', 'trader_personality_hint', 'trader_food_stock', 'trader_water_stock', 'current_offer_str', 'food_to_player', 'water_to_player', 'gold_to_player', 'food_to_trader', 'water_to_trader', 'gold_to_trader']
Traceback (most recent call last):
  File "/mnt/c/Users/ryanw/OneDrive - Cal Poly Pomona/CPP Coding/CS3560/CS3560-WSS/PythonAI/decision_engine.py", line 306, in make_trade_decision
    prompt = self.trade_prompt_template.format(**context) # The line that throws the error
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
KeyError: 'json'
2025-05-03 19:59:16,356 INFO [root]: Received request on /decide endpoint.
2025-05-03 19:59:16,357 ERROR [root]: The trade_prompt_template being used starts with: # prompts/trade_prompt.txt
You are the trading advisor for a player in a survival game. Your goal is to help the player get needed resources (Food, Water) by trading Gold, while considering the trader...
2025-05-03 19:59:16,358 INFO [root]: Sending request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 19:59:16,358 INFO [root]: Sending trade request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 19:59:22,121 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 19:59:22,122 INFO [root]: LLM generation finish reason: stop
2025-05-03 19:59:22,122 INFO [root]: Decision: TRADE | Reason: Player is already on a tile containing a Trader at (0,0), satisfying the objective.
2025-05-03 19:59:22,122 INFO [root]: Decision received from engine: TRADE
2025-05-03 19:59:22,123 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 19:59:22] "POST /decide HTTP/1.1" 200 -
2025-05-03 19:59:24,013 INFO [root]: Received request on /trade_decide endpoint.
2025-05-03 19:59:24,014 ERROR [root]: KeyError during trade prompt formatting! Missing key: ''json''. Context keys were: ['player_food', 'player_water', 'player_gold', 'player_max_food', 'player_max_water', 'trader_type', 'trader_personality_hint', 'trader_food_stock', 'trader_water_stock', 'current_offer_str', 'food_to_player', 'water_to_player', 'gold_to_player', 'food_to_trader', 'water_to_trader', 'gold_to_trader']
Traceback (most recent call last):
  File "/mnt/c/Users/ryanw/OneDrive - Cal Poly Pomona/CPP Coding/CS3560/CS3560-WSS/PythonAI/decision_engine.py", line 306, in make_trade_decision
    prompt = self.trade_prompt_template.format(**context) # The line that throws the error
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
KeyError: 'json'
2025-05-03 19:59:24,015 ERROR [root]: The trade_prompt_template being used starts with: # prompts/trade_prompt.txt
You are the trading advisor for a player in a survival game. Your goal is to help the player get needed resources (Food, Water) by trading Gold, while considering the trader...
2025-05-03 19:59:24,015 INFO [root]: Sending trade request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 19:59:26,572 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 19:59:26,573 INFO [root]: LLM trade generation finish reason: stop
2025-05-03 19:59:26,573 INFO [root]: Trade Decision Raw: REJECT | Reason: The trade prompt is missing the required 'json' key, which is necessary for proper formatting and processing of the trade request.
2025-05-03 19:59:26,573 WARNING [root]: AI failed to generate an initial COUNTER OFFER, received: REJECT. Defaulting to REJECT.
2025-05-03 19:59:26,573 INFO [root]: Trade decision received from engine: REJECT
2025-05-03 19:59:26,574 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 19:59:26] "POST /trade_decide HTTP/1.1" 200 -
2025-05-03 19:59:35,676 INFO [root]: --- Logging configured for main.py (File & Console) ---
2025-05-03 19:59:35,922 INFO [root]: Initializing DecisionEngine with model: Qwen/Qwen3-14B-AWQ...
2025-05-03 19:59:35,947 INFO [root]: Loading prompt template from: /mnt/c/Users/ryanw/OneDrive - Cal Poly Pomona/CPP Coding/CS3560/CS3560-WSS/PythonAI/prompts/trader_test.txt
2025-05-03 19:59:35,955 INFO [root]: Loading prompt template from: /mnt/c/Users/ryanw/OneDrive - Cal Poly Pomona/CPP Coding/CS3560/CS3560-WSS/PythonAI/prompts/trade_prompt.txt
2025-05-03 19:59:35,956 INFO [root]: DecisionEngine initialized for model: Qwen/Qwen3-14B-AWQ
2025-05-03 19:59:35,956 INFO [root]: Sampling Params: Temp=0.6, TopP=0.95, PresencePenalty=None
2025-05-03 19:59:35,956 INFO [root]: Main prompt loaded: Yes
2025-05-03 19:59:35,956 INFO [root]: Trade prompt loaded: Yes
2025-05-03 19:59:35,956 INFO [root]: DecisionEngine initialized successfully.
2025-05-03 19:59:35,957 INFO [root]: Starting Flask server on 0.0.0.0:5000
2025-05-03 19:59:35,963 INFO [werkzeug]: [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://172.31.197.234:5000
2025-05-03 19:59:35,963 INFO [werkzeug]: [33mPress CTRL+C to quit[0m
2025-05-03 19:59:36,378 INFO [root]: Received request on /decide endpoint.
2025-05-03 19:59:36,379 INFO [root]: Received request on /trade_decide endpoint.
2025-05-03 19:59:36,379 INFO [root]: Sending request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 19:59:36,380 INFO [root]: Sending trade request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 19:59:41,674 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 19:59:41,677 INFO [root]: LLM trade generation finish reason: stop
2025-05-03 19:59:41,677 INFO [root]: Trade Decision Raw: REJECT | Reason: Player is already at maximum capacity for both Food and Water (15/15), so they cannot accept any additional resources from the trader.
2025-05-03 19:59:41,678 WARNING [root]: AI failed to generate an initial COUNTER OFFER, received: REJECT. Defaulting to REJECT.
2025-05-03 19:59:41,678 INFO [root]: Trade decision received from engine: REJECT
2025-05-03 19:59:41,679 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 19:59:41] "POST /trade_decide HTTP/1.1" 200 -
2025-05-03 19:59:48,097 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 19:59:48,098 INFO [root]: LLM generation finish reason: stop
2025-05-03 19:59:48,098 INFO [root]: Decision: TRADE | Reason: The player is already on a tile containing a Trader at (0,0), so the objective is met and trading is the appropriate action.
2025-05-03 19:59:48,099 INFO [root]: Decision received from engine: TRADE
2025-05-03 19:59:48,099 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 19:59:48] "POST /decide HTTP/1.1" 200 -
2025-05-03 19:59:49,990 INFO [root]: Received request on /decide endpoint.
2025-05-03 19:59:49,990 INFO [root]: Sending request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 19:59:49,990 INFO [root]: Received request on /trade_decide endpoint.
2025-05-03 19:59:49,991 INFO [root]: Sending trade request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 19:59:53,955 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 19:59:53,956 INFO [root]: LLM generation finish reason: stop
2025-05-03 19:59:53,956 INFO [root]: Decision: TRADE | Reason: The player is already on a tile containing a Trader at (0,0), so the objective is met and TRADE is the appropriate action.
2025-05-03 19:59:53,956 INFO [root]: Decision received from engine: TRADE
2025-05-03 19:59:53,957 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 19:59:53] "POST /decide HTTP/1.1" 200 -
2025-05-03 19:59:55,841 INFO [root]: Received request on /trade_decide endpoint.
2025-05-03 19:59:55,841 INFO [root]: Sending trade request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 19:59:58,194 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 19:59:58,194 INFO [root]: LLM trade generation finish reason: stop
2025-05-03 19:59:58,194 INFO [root]: Trade Decision Raw: REJECT | Reason: Player's Food and Water are already at maximum capacity (15/15), so they cannot accept additional resources from the trader.
2025-05-03 19:59:58,195 WARNING [root]: AI failed to generate an initial COUNTER OFFER, received: REJECT. Defaulting to REJECT.
2025-05-03 19:59:58,195 INFO [root]: Trade decision received from engine: REJECT
2025-05-03 19:59:58,195 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 19:59:58] "POST /trade_decide HTTP/1.1" 200 -
2025-05-03 20:00:00,064 INFO [root]: Received request on /decide endpoint.
2025-05-03 20:00:00,065 INFO [root]: Sending request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 20:00:09,641 INFO [root]: --- Logging configured for main.py (File & Console) ---
2025-05-03 20:00:09,850 INFO [root]: Initializing DecisionEngine with model: Qwen/Qwen3-14B-AWQ...
2025-05-03 20:00:09,871 INFO [root]: Loading prompt template from: /mnt/c/Users/ryanw/OneDrive - Cal Poly Pomona/CPP Coding/CS3560/CS3560-WSS/PythonAI/prompts/trader_test.txt
2025-05-03 20:00:09,873 INFO [root]: Loading prompt template from: /mnt/c/Users/ryanw/OneDrive - Cal Poly Pomona/CPP Coding/CS3560/CS3560-WSS/PythonAI/prompts/trade_prompt.txt
2025-05-03 20:00:09,874 INFO [root]: DecisionEngine initialized for model: Qwen/Qwen3-14B-AWQ
2025-05-03 20:00:09,874 INFO [root]: Sampling Params: Temp=0.6, TopP=0.95, PresencePenalty=None
2025-05-03 20:00:09,874 INFO [root]: Main prompt loaded: Yes
2025-05-03 20:00:09,874 INFO [root]: Trade prompt loaded: Yes
2025-05-03 20:00:09,874 INFO [root]: DecisionEngine initialized successfully.
2025-05-03 20:00:09,875 INFO [root]: Starting Flask server on 0.0.0.0:5000
2025-05-03 20:00:09,881 INFO [werkzeug]: [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://172.31.197.234:5000
2025-05-03 20:00:09,881 INFO [werkzeug]: [33mPress CTRL+C to quit[0m
2025-05-03 20:00:24,082 INFO [root]: Received request on /reset endpoint.
2025-05-03 20:00:24,082 INFO [root]: AI memory reset successfully via /reset endpoint.
2025-05-03 20:00:24,083 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 20:00:24] "POST /reset HTTP/1.1" 200 -
2025-05-03 20:00:26,001 INFO [root]: Received request on /decide endpoint.
2025-05-03 20:00:26,002 INFO [root]: Sending request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 20:00:34,274 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 20:00:34,276 INFO [root]: LLM generation finish reason: stop
2025-05-03 20:00:34,276 INFO [root]: Decision: TRADE | Reason: Player is already on the trader tile at (0,0).
2025-05-03 20:00:34,276 INFO [root]: Decision received from engine: TRADE
2025-05-03 20:00:34,276 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 20:00:34] "POST /decide HTTP/1.1" 200 -
2025-05-03 20:00:36,152 INFO [root]: Received request on /trade_decide endpoint.
2025-05-03 20:00:36,152 INFO [root]: Received request on /decide endpoint.
2025-05-03 20:00:36,153 INFO [root]: Sending trade request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 20:00:36,153 INFO [root]: Sending request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 20:00:42,032 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 20:00:42,033 INFO [root]: LLM generation finish reason: stop
2025-05-03 20:00:42,033 INFO [root]: Decision: TRADE | Reason: The player is already on a tile with a Trader at (0,0), so the objective is met and TRADE is the appropriate action.
2025-05-03 20:00:42,033 INFO [root]: Decision received from engine: TRADE
2025-05-03 20:00:42,034 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 20:00:42] "POST /decide HTTP/1.1" 200 -
2025-05-03 20:00:42,559 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 20:00:42,560 INFO [root]: LLM trade generation finish reason: stop
2025-05-03 20:00:42,560 INFO [root]: Trade Decision Raw: REJECT | Reason: Player is already at maximum capacity for Food and Water (15/15), so no trade can be accepted without exceeding limits.
2025-05-03 20:00:42,560 WARNING [root]: AI failed to generate an initial COUNTER OFFER, received: REJECT. Defaulting to REJECT.
2025-05-03 20:00:42,561 INFO [root]: Trade decision received from engine: REJECT
2025-05-03 20:00:42,561 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 20:00:42] "POST /trade_decide HTTP/1.1" 200 -
2025-05-03 20:00:43,890 INFO [root]: Received request on /trade_decide endpoint.
2025-05-03 20:00:43,890 INFO [root]: Sending trade request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 20:00:44,433 INFO [root]: Received request on /decide endpoint.
2025-05-03 20:00:44,433 INFO [root]: Sending request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 20:00:48,113 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 20:00:48,114 INFO [root]: LLM trade generation finish reason: stop
2025-05-03 20:00:48,114 INFO [root]: Trade Decision Raw: REJECT | Reason: Player's Food and Water are already at maximum capacity (15/15), so they cannot accept any resources from the trader.
2025-05-03 20:00:48,115 WARNING [root]: AI failed to generate an initial COUNTER OFFER, received: REJECT. Defaulting to REJECT.
2025-05-03 20:00:48,115 INFO [root]: Trade decision received from engine: REJECT
2025-05-03 20:00:48,115 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 20:00:48] "POST /trade_decide HTTP/1.1" 200 -
2025-05-03 20:00:50,526 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 20:00:50,527 INFO [root]: LLM generation finish reason: stop
2025-05-03 20:00:50,527 INFO [root]: Decision: TRADE | Reason: The player is already on a tile containing a Trader at (0,0), so the objective is met and TRADE is the required action.
2025-05-03 20:00:50,528 INFO [root]: Decision received from engine: TRADE
2025-05-03 20:00:50,528 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 20:00:50] "POST /decide HTTP/1.1" 200 -
2025-05-03 20:00:52,386 INFO [root]: Received request on /decide endpoint.
2025-05-03 20:00:52,386 INFO [root]: Received request on /trade_decide endpoint.
2025-05-03 20:00:52,386 INFO [root]: Sending request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 20:00:52,387 INFO [root]: Sending trade request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 20:01:01,721 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 20:01:01,721 INFO [root]: LLM generation finish reason: stop
2025-05-03 20:01:01,722 INFO [root]: Decision: TRADE | Reason: The player is already on a tile with a Trader at (0,0), so the objective is met and TRADE is the appropriate action.
2025-05-03 20:01:01,722 INFO [root]: Decision received from engine: TRADE
2025-05-03 20:01:01,722 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 20:01:01] "POST /decide HTTP/1.1" 200 -
2025-05-03 20:01:03,581 INFO [root]: Received request on /trade_decide endpoint.
2025-05-03 20:01:03,582 INFO [root]: Sending trade request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 20:01:03,815 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 20:01:03,816 INFO [root]: LLM trade generation finish reason: stop
2025-05-03 20:01:03,816 INFO [root]: Trade Decision Raw: REJECT | Reason: Player's Food and Water are already at maximum capacity (15/15), so accepting any resources from the trader would violate the "CAPACITY" rule. No valid trade can be made without exceeding storage limits.
2025-05-03 20:01:03,816 WARNING [root]: AI failed to generate an initial COUNTER OFFER, received: REJECT. Defaulting to REJECT.
2025-05-03 20:01:03,816 INFO [root]: Trade decision received from engine: REJECT
2025-05-03 20:01:03,817 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 20:01:03] "POST /trade_decide HTTP/1.1" 200 -
2025-05-03 20:01:05,697 INFO [root]: Received request on /decide endpoint.
2025-05-03 20:01:05,698 INFO [root]: Sending request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 20:01:09,910 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 20:01:09,911 INFO [root]: LLM trade generation finish reason: stop
2025-05-03 20:01:09,911 INFO [root]: Trade Decision Raw: REJECT | Reason: Player's Food and Water are already at maximum capacity (15/15), so they cannot accept additional resources. Trading is unnecessary here.
2025-05-03 20:01:09,911 WARNING [root]: AI failed to generate an initial COUNTER OFFER, received: REJECT. Defaulting to REJECT.
2025-05-03 20:01:09,911 INFO [root]: Trade decision received from engine: REJECT
2025-05-03 20:01:09,912 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 20:01:09] "POST /trade_decide HTTP/1.1" 200 -
2025-05-03 20:01:14,835 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 20:01:14,836 INFO [root]: LLM generation finish reason: stop
2025-05-03 20:01:14,836 INFO [root]: Decision: TRADE | Reason: Player is already on a tile with a Trader at (0,0), so the objective is met.
2025-05-03 20:01:14,836 INFO [root]: Decision received from engine: TRADE
2025-05-03 20:01:14,837 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 20:01:14] "POST /decide HTTP/1.1" 200 -
2025-05-03 20:01:23,955 INFO [root]: Received request on /reset endpoint.
2025-05-03 20:01:23,956 INFO [root]: AI memory reset successfully via /reset endpoint.
2025-05-03 20:01:23,957 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 20:01:23] "POST /reset HTTP/1.1" 200 -
2025-05-03 20:01:25,900 INFO [root]: Received request on /decide endpoint.
2025-05-03 20:01:25,901 INFO [root]: Sending request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 20:01:40,519 INFO [root]: Received request on /reset endpoint.
2025-05-03 20:01:40,520 INFO [root]: AI memory reset successfully via /reset endpoint.
2025-05-03 20:01:40,520 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 20:01:40] "POST /reset HTTP/1.1" 200 -
2025-05-03 20:01:42,448 INFO [root]: Received request on /decide endpoint.
2025-05-03 20:01:42,449 INFO [root]: Sending request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 20:01:50,820 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 20:01:50,821 INFO [root]: LLM generation finish reason: stop
2025-05-03 20:01:50,821 INFO [root]: Decision: TRADE | Reason: The player is already on a tile with a Trader at (0,0), so the objective is met and trading is the appropriate action.
2025-05-03 20:01:50,821 INFO [root]: Decision received from engine: TRADE
2025-05-03 20:01:50,822 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 20:01:50] "POST /decide HTTP/1.1" 200 -
2025-05-03 20:01:52,827 INFO [root]: Received request on /reset endpoint.
2025-05-03 20:01:52,828 INFO [root]: AI memory reset successfully via /reset endpoint.
2025-05-03 20:01:52,828 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 20:01:52] "POST /reset HTTP/1.1" 200 -
2025-05-03 20:01:54,745 INFO [root]: Received request on /decide endpoint.
2025-05-03 20:01:54,746 INFO [root]: Sending request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 20:02:03,907 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 20:02:03,908 INFO [root]: LLM generation finish reason: stop
2025-05-03 20:02:03,908 INFO [root]: Decision: MOVE EAST | Reason: The nearest visible Trader is at (+2,+0). Moving EAST from (0,0) to (+1,0) is the first step toward this Trader, with resource costs (Energy: 15-3=12, Food: 15-2=13, Water: 15-7=8) all remaining positive.
2025-05-03 20:02:03,908 INFO [root]: Decision received from engine: MOVE EAST
2025-05-03 20:02:03,909 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 20:02:03] "POST /decide HTTP/1.1" 200 -
2025-05-03 20:02:08,979 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 20:02:08,979 INFO [root]: LLM generation finish reason: stop
2025-05-03 20:02:08,979 INFO [root]: Decision: MOVE EAST | Reason: The nearest visible Traders are at (+2,-1) and (+1,+2), both 3 steps away. Moving east toward (+1,+2) aligns with the tie-breaker preference for eastward movement when combined costs are equal. The first step east to (+1,0) (Jungle) is valid and prioritizes eastward progress toward the trader.
2025-05-03 20:02:08,980 INFO [root]: Decision received from engine: MOVE EAST
2025-05-03 20:02:08,980 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 20:02:08] "POST /decide HTTP/1.1" 200 -
2025-05-03 20:02:09,198 INFO [root]: Received request on /decide endpoint.
2025-05-03 20:02:09,198 INFO [root]: Sending request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 20:02:18,156 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 20:02:18,157 INFO [root]: LLM generation finish reason: stop
2025-05-03 20:02:18,157 INFO [root]: Decision: MOVE EAST | Reason: The nearest visible Trader is at (+1, +0), directly East. Moving East reduces distance to the Trader while maintaining resource safety (Energy: 12-6=6, Food: 13-3=10, Water: 8-3=5).
2025-05-03 20:02:18,158 INFO [root]: Decision received from engine: MOVE EAST
2025-05-03 20:02:18,158 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 20:02:18] "POST /decide HTTP/1.1" 200 -
2025-05-03 20:02:20,469 INFO [root]: Received request on /decide endpoint.
2025-05-03 20:02:20,469 INFO [root]: Sending request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 20:02:31,245 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 20:02:31,246 INFO [root]: LLM generation finish reason: stop
2025-05-03 20:02:31,246 INFO [root]: Decision: TRADE | Reason: The player is already on a tile containing a Trader at coordinate (+0,+0), so the objective is met and trading is the required action.
2025-05-03 20:02:31,246 INFO [root]: Decision received from engine: TRADE
2025-05-03 20:02:31,247 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 20:02:31] "POST /decide HTTP/1.1" 200 -
2025-05-03 20:02:33,129 INFO [root]: Received request on /trade_decide endpoint.
2025-05-03 20:02:33,129 INFO [root]: Received request on /decide endpoint.
2025-05-03 20:02:33,130 INFO [root]: Sending trade request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 20:02:33,130 INFO [root]: Sending request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 20:02:45,538 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 20:02:45,539 INFO [root]: LLM generation finish reason: stop
2025-05-03 20:02:45,539 INFO [root]: Decision: TRADE | Reason: Player is already on a tile containing a Trader at (0,0), fulfilling the objective.
2025-05-03 20:02:45,540 INFO [root]: Decision received from engine: TRADE
2025-05-03 20:02:45,540 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 20:02:45] "POST /decide HTTP/1.1" 200 -
2025-05-03 20:02:47,432 INFO [root]: Received request on /trade_decide endpoint.
2025-05-03 20:02:47,432 INFO [root]: Sending trade request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 20:02:58,139 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 20:02:58,140 INFO [root]: LLM trade generation finish reason: stop
2025-05-03 20:02:58,140 INFO [root]: Trade Decision Raw: COUNTER OFFER {"waterToPlayer": 3, "goldToTrader": 5} | Reason: Prioritize acquiring Water (current 5/15) over Food (10/15). Trader has sufficient Water stock (8), and 3 Water for 5 Gold aligns with fair trade value for a normal trader. Maintains player's Gold reserve (15 → 10) while improving Water to 8/15 without exceeding capacity.
2025-05-03 20:02:58,140 INFO [root]: Trade decision received from engine: COUNTER OFFER {"waterToPlayer": 3, "goldToTrader": 5}
2025-05-03 20:02:58,141 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 20:02:58] "POST /trade_decide HTTP/1.1" 200 -
2025-05-03 20:02:59,963 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 20:02:59,964 INFO [root]: LLM trade generation finish reason: stop
2025-05-03 20:02:59,964 INFO [root]: Trade Decision Raw: COUNTER OFFER {"waterToPlayer": 8, "goldToTrader": 8} | Reason: Prioritize acquiring Water (current 5/15) over Food (10/15) as it's lower relative to max. Trader has 8 Water in stock, which would bring player's Water to 13/15 (within capacity). A 8 Gold-for-8 Water trade is fair for a normal trader, balancing value while preserving Gold reserves.
2025-05-03 20:02:59,964 INFO [root]: Trade decision received from engine: COUNTER OFFER {"waterToPlayer": 8, "goldToTrader": 8}
2025-05-03 20:02:59,965 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 20:02:59] "POST /trade_decide HTTP/1.1" 200 -
2025-05-03 20:03:00,019 INFO [root]: Received request on /decide endpoint.
2025-05-03 20:03:00,019 INFO [root]: Sending request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 20:03:01,848 INFO [root]: Received request on /trade_decide endpoint.
2025-05-03 20:03:01,848 INFO [root]: Sending trade request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 20:03:12,300 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 20:03:12,301 INFO [root]: LLM generation finish reason: stop
2025-05-03 20:03:12,301 INFO [root]: Decision: TRADE | Reason: The player is already on a tile containing a Trader at (0,0), so the objective is met and TRADE is the required action.
2025-05-03 20:03:12,302 INFO [root]: Decision received from engine: TRADE
2025-05-03 20:03:12,302 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 20:03:12] "POST /decide HTTP/1.1" 200 -
2025-05-03 20:03:13,525 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 20:03:13,525 INFO [root]: LLM trade generation finish reason: stop
2025-05-03 20:03:13,526 INFO [root]: Trade Decision Raw: ACCEPT | Reason: The offer provides 3 Water (needed resource) for 3 Gold, a fair 1:1 exchange. Trader's stock allows the trade, and player's capacity isn't exceeded.
2025-05-03 20:03:13,526 INFO [root]: Trade decision received from engine: ACCEPT
2025-05-03 20:03:13,526 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 20:03:13] "POST /trade_decide HTTP/1.1" 200 -
2025-05-03 20:03:14,181 INFO [root]: Received request on /trade_decide endpoint.
2025-05-03 20:03:14,181 INFO [root]: Sending trade request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 20:03:15,397 INFO [root]: Received request on /decide endpoint.
2025-05-03 20:03:15,397 INFO [root]: Sending request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 20:03:23,725 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 20:03:23,726 INFO [root]: LLM generation finish reason: stop
2025-05-03 20:03:23,726 INFO [root]: Decision: TRADE | Reason: The player is already on the Trader tile at (0,0), so the objective is met.
2025-05-03 20:03:23,727 INFO [root]: Decision received from engine: TRADE
2025-05-03 20:03:23,727 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 20:03:23] "POST /decide HTTP/1.1" 200 -
2025-05-03 20:03:25,595 INFO [root]: Received request on /trade_decide endpoint.
2025-05-03 20:03:25,595 INFO [root]: Sending trade request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 20:03:35,256 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 20:03:35,257 INFO [root]: LLM trade generation finish reason: stop
2025-05-03 20:03:35,257 INFO [root]: Trade Decision Raw: COUNTER OFFER {"waterToPlayer": 8, "goldToTrader": 12} | Reason: Prioritize acquiring Water (current 5/15) over Food. Trader has 8 Water in stock, which would bring player's Water to 13/15 (under capacity). For a fair trade with a normal trader, 12 Gold (2/3 of player's Gold) is reasonable to acquire 8 Water (1.5 Gold per unit).
2025-05-03 20:03:35,257 INFO [root]: Trade decision received from engine: COUNTER OFFER {"waterToPlayer": 8, "goldToTrader": 12}
2025-05-03 20:03:35,257 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 20:03:35] "POST /trade_decide HTTP/1.1" 200 -
2025-05-03 20:03:35,795 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 20:03:35,795 INFO [root]: LLM trade generation finish reason: stop
2025-05-03 20:03:35,796 INFO [root]: Trade Decision Raw: COUNTER OFFER {"waterToPlayer": 8, "goldToTrader": 10} | Reason: Prioritize increasing low Water (5/15) by acquiring 8 units from the trader's stock, offering 10 Gold for fair value in a normal trade. This brings Water to 13/15 without exceeding capacity.
2025-05-03 20:03:35,796 INFO [root]: Trade decision received from engine: COUNTER OFFER {"waterToPlayer": 8, "goldToTrader": 10}
2025-05-03 20:03:35,796 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 20:03:35] "POST /trade_decide HTTP/1.1" 200 -
2025-05-03 20:03:37,133 INFO [root]: Received request on /decide endpoint.
2025-05-03 20:03:37,134 INFO [root]: Sending request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 20:03:37,661 INFO [root]: Received request on /trade_decide endpoint.
2025-05-03 20:03:37,662 INFO [root]: Sending trade request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 20:03:43,405 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 20:03:43,406 INFO [root]: LLM generation finish reason: stop
2025-05-03 20:03:43,406 INFO [root]: Decision: TRADE | Reason: The player is already on a tile with a Trader at (0,0), so the objective is met and TRADE is the appropriate action.
2025-05-03 20:03:43,406 INFO [root]: Decision received from engine: TRADE
2025-05-03 20:03:43,406 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 20:03:43] "POST /decide HTTP/1.1" 200 -
2025-05-03 20:03:45,286 INFO [root]: Received request on /trade_decide endpoint.
2025-05-03 20:03:45,286 INFO [root]: Sending trade request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 20:03:59,098 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 20:03:59,098 INFO [root]: LLM trade generation finish reason: stop
2025-05-03 20:03:59,099 INFO [root]: Trade Decision Raw: ACCEPT | Reason: The player needs Water (current 5/15) more urgently than Food. The trader offers 8 Water (matching their stock) for 8 Gold, which is a fair 1:1 exchange for a normal trader. Accepting this trade addresses the survival priority without overspending Gold.
2025-05-03 20:03:59,099 INFO [root]: Trade decision received from engine: ACCEPT
2025-05-03 20:03:59,099 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 20:03:59] "POST /trade_decide HTTP/1.1" 200 -
2025-05-03 20:04:00,979 INFO [root]: Received request on /trade_decide endpoint.
2025-05-03 20:04:00,979 INFO [root]: Sending trade request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 20:04:06,646 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 20:04:06,646 INFO [root]: LLM trade generation finish reason: stop
2025-05-03 20:04:06,646 INFO [root]: Trade Decision Raw: ACCEPT | Reason: The player's Water level is critically low (5/15), and the offer provides 8 Water (exactly the trader's stock) in exchange for 8 Gold. Since the trader is "normal" (fair trade), this exchange balances value (8 Gold for 8 Water) while addressing the player's immediate survival need for Water. The player retains 7 Gold post-trade, which is sufficient to avoid overspending.
2025-05-03 20:04:06,647 INFO [root]: Trade decision received from engine: ACCEPT
2025-05-03 20:04:06,647 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 20:04:06] "POST /trade_decide HTTP/1.1" 200 -
2025-05-03 20:04:08,525 INFO [root]: Received request on /decide endpoint.
2025-05-03 20:04:08,525 INFO [root]: Sending request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 20:04:09,617 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 20:04:09,618 INFO [root]: LLM trade generation finish reason: stop
2025-05-03 20:04:09,618 INFO [root]: Trade Decision Raw: COUNTER OFFER {"foodToPlayer": 0, "waterToPlayer": 8, "goldToTrader": 5} | Reason: Prioritize acquiring Water (current 5/15) which is lower relative to max capacity. Trader has 8 Water in stock, and offering 5 Gold (1/3 of player's total) for 8 Water aligns with fair value for a normal trader. Ensures Water stays above minimum threshold while avoiding excessive Gold expenditure.
2025-05-03 20:04:09,618 INFO [root]: Trade decision received from engine: COUNTER OFFER {"foodToPlayer": 0, "waterToPlayer": 8, "goldToTrader": 5}
2025-05-03 20:04:09,618 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 20:04:09] "POST /trade_decide HTTP/1.1" 200 -
2025-05-03 20:04:18,549 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 20:04:18,550 INFO [root]: LLM generation finish reason: stop
2025-05-03 20:04:18,550 INFO [root]: Decision: TRADE | Reason: The player is already on a tile containing a Trader at (0,0), satisfying the objective to reach a trader.
2025-05-03 20:04:18,550 INFO [root]: Decision received from engine: TRADE
2025-05-03 20:04:18,550 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 20:04:18] "POST /decide HTTP/1.1" 200 -
2025-05-03 20:04:20,408 INFO [root]: Received request on /decide endpoint.
2025-05-03 20:04:20,409 INFO [root]: Received request on /trade_decide endpoint.
2025-05-03 20:04:20,409 INFO [root]: Sending request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 20:04:20,409 INFO [root]: Sending trade request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 20:04:30,585 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 20:04:30,586 INFO [root]: LLM generation finish reason: stop
2025-05-03 20:04:30,586 INFO [root]: Decision: TRADE | Reason: The player is already on a tile containing a Trader at (0,0), so the objective is met and trading is the required action.
2025-05-03 20:04:30,586 INFO [root]: Decision received from engine: TRADE
2025-05-03 20:04:30,587 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 20:04:30] "POST /decide HTTP/1.1" 200 -
2025-05-03 20:04:32,471 INFO [root]: Received request on /trade_decide endpoint.
2025-05-03 20:04:32,471 INFO [root]: Sending trade request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 20:04:37,212 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 20:04:37,213 INFO [root]: LLM trade generation finish reason: stop
2025-05-03 20:04:37,213 INFO [root]: Trade Decision Raw: COUNTER OFFER {"foodToPlayer": 3, "goldToTrader": 1} | Reason: Prioritize acquiring Food (10/15) over Water (13/15) since it's relatively lower. Trader has 5 Food stock, so request 3 to bring player closer to capacity without exceeding it. Offer 1 Gold (1/7) for fair value, as the trader is "normal" and expects balanced trades.
2025-05-03 20:04:37,213 INFO [root]: Trade decision received from engine: COUNTER OFFER {"foodToPlayer": 3, "goldToTrader": 1}
2025-05-03 20:04:37,213 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 20:04:37] "POST /trade_decide HTTP/1.1" 200 -
2025-05-03 20:04:39,095 INFO [root]: Received request on /decide endpoint.
2025-05-03 20:04:39,096 INFO [root]: Sending request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 20:04:43,804 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 20:04:43,805 INFO [root]: LLM trade generation finish reason: stop
2025-05-03 20:04:43,805 INFO [root]: Trade Decision Raw: COUNTER OFFER {"foodToPlayer": 5, "goldToTrader": 3} | Reason: Prioritize acquiring Food (player has 10/15, trader has 5 in stock) since it's lower relative to max. Offer 3 Gold (fair value for 5 Food from a normal trader) to maximize Food gain without exceeding player's capacity or overspending Gold.
2025-05-03 20:04:43,805 INFO [root]: Trade decision received from engine: COUNTER OFFER {"foodToPlayer": 5, "goldToTrader": 3}
2025-05-03 20:04:43,806 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 20:04:43] "POST /trade_decide HTTP/1.1" 200 -
2025-05-03 20:04:43,915 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 20:04:43,916 INFO [root]: LLM generation finish reason: stop
2025-05-03 20:04:43,916 INFO [root]: Decision: TRADE | Reason: Player is already on the trader tile at (0,0) which contains a Trader.
2025-05-03 20:04:43,916 INFO [root]: Decision received from engine: TRADE
2025-05-03 20:04:43,917 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 20:04:43] "POST /decide HTTP/1.1" 200 -
2025-05-03 20:04:45,676 INFO [root]: Received request on /trade_decide endpoint.
2025-05-03 20:04:45,676 INFO [root]: Sending trade request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 20:04:45,805 INFO [root]: Received request on /trade_decide endpoint.
2025-05-03 20:04:45,806 INFO [root]: Sending trade request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 20:04:51,657 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 20:04:51,658 INFO [root]: LLM trade generation finish reason: stop
2025-05-03 20:04:51,658 INFO [root]: Trade Decision Raw: ACCEPT | Reason: The offer provides 3 Food (needed to increase from 10/15) for 3 Gold, which aligns with the trader's "normal" fairness. Player's Gold (7) can afford the trade, and the trader has sufficient Food stock (5). No capacity issues.
2025-05-03 20:04:51,658 INFO [root]: Trade decision received from engine: ACCEPT
2025-05-03 20:04:51,659 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 20:04:51] "POST /trade_decide HTTP/1.1" 200 -
2025-05-03 20:04:58,275 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 20:04:58,276 INFO [root]: LLM trade generation finish reason: stop
2025-05-03 20:04:58,276 INFO [root]: Trade Decision Raw: COUNTER OFFER {"foodToPlayer": 5, "goldToTrader": 4} | Reason: The current offer would leave the player with 2 Gold (below the 3 threshold). A counter offer of 5 Food for 4 Gold keeps Gold at 3, ensuring survival needs while maintaining a fair trade with the normal trader.
2025-05-03 20:04:58,276 INFO [root]: Trade decision received from engine: COUNTER OFFER {"foodToPlayer": 5, "goldToTrader": 4}
2025-05-03 20:04:58,276 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 20:04:58] "POST /trade_decide HTTP/1.1" 200 -
2025-05-03 20:26:05,304 INFO [root]: --- Logging configured for main.py (File & Console) ---
2025-05-03 20:26:05,799 INFO [root]: Initializing DecisionEngine with model: Qwen/Qwen3-14B-AWQ...
2025-05-03 20:26:05,838 INFO [root]: Loading prompt template from: /mnt/c/Users/ryanw/OneDrive - Cal Poly Pomona/CPP Coding/CS3560/CS3560-WSS/PythonAI/prompts/trader_test.txt
2025-05-03 20:26:05,844 INFO [root]: Loading prompt template from: /mnt/c/Users/ryanw/OneDrive - Cal Poly Pomona/CPP Coding/CS3560/CS3560-WSS/PythonAI/prompts/trade_prompt.txt
2025-05-03 20:26:05,845 INFO [root]: DecisionEngine initialized for model: Qwen/Qwen3-14B-AWQ
2025-05-03 20:26:05,845 INFO [root]: Sampling Params: Temp=0.6, TopP=0.95, PresencePenalty=None
2025-05-03 20:26:05,845 INFO [root]: Main prompt loaded: Yes
2025-05-03 20:26:05,845 INFO [root]: Trade prompt loaded: Yes
2025-05-03 20:26:05,845 INFO [root]: DecisionEngine initialized successfully.
2025-05-03 20:26:05,846 INFO [root]: Starting Flask server on 0.0.0.0:5000
2025-05-03 20:26:05,854 INFO [werkzeug]: [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://172.31.197.234:5000
2025-05-03 20:26:05,855 INFO [werkzeug]: [33mPress CTRL+C to quit[0m
2025-05-03 20:26:38,371 INFO [root]: Received request on /reset endpoint.
2025-05-03 20:26:38,372 INFO [root]: AI memory reset successfully via /reset endpoint.
2025-05-03 20:26:38,372 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 20:26:38] "POST /reset HTTP/1.1" 200 -
2025-05-03 20:26:40,291 INFO [root]: Received request on /decide endpoint.
2025-05-03 20:26:40,293 INFO [root]: Sending request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 20:26:51,225 INFO [root]: Received request on /reset endpoint.
2025-05-03 20:26:51,225 INFO [root]: AI memory reset successfully via /reset endpoint.
2025-05-03 20:26:51,225 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 20:26:51] "POST /reset HTTP/1.1" 200 -
2025-05-03 20:26:53,144 INFO [root]: Received request on /decide endpoint.
2025-05-03 20:26:53,145 INFO [root]: Sending request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 20:26:53,809 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 20:26:53,810 INFO [root]: LLM generation finish reason: stop
2025-05-03 20:26:53,811 INFO [root]: Decision: MOVE SOUTH | Reason: Moving towards the nearest visible Trader at (0,+2). The closest Trader is two tiles directly south, and the move to (0,+1) is affordable with current resources.
2025-05-03 20:26:53,811 INFO [root]: Decision received from engine: MOVE SOUTH
2025-05-03 20:26:53,811 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 20:26:53] "POST /decide HTTP/1.1" 200 -
2025-05-03 20:27:08,746 INFO [root]: Received request on /reset endpoint.
2025-05-03 20:27:08,746 INFO [root]: AI memory reset successfully via /reset endpoint.
2025-05-03 20:27:08,746 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 20:27:08] "POST /reset HTTP/1.1" 200 -
2025-05-03 20:27:09,132 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 20:27:09,133 INFO [root]: LLM generation finish reason: stop
2025-05-03 20:27:09,133 INFO [root]: Decision: TRADE | Reason: The player is already on a tile with a Trader at (0,0), so the objective is met and TRADE is the appropriate action.
2025-05-03 20:27:09,133 INFO [root]: Decision received from engine: TRADE
2025-05-03 20:27:09,133 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 20:27:09] "POST /decide HTTP/1.1" 200 -
2025-05-03 20:27:10,665 INFO [root]: Received request on /decide endpoint.
2025-05-03 20:27:10,666 INFO [root]: Sending request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 20:27:25,424 INFO [root]: Received request on /reset endpoint.
2025-05-03 20:27:25,424 INFO [root]: AI memory reset successfully via /reset endpoint.
2025-05-03 20:27:25,425 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 20:27:25] "POST /reset HTTP/1.1" 200 -
2025-05-03 20:27:27,350 INFO [root]: Received request on /decide endpoint.
2025-05-03 20:27:27,351 INFO [root]: Sending request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 20:27:44,279 INFO [root]: Received request on /reset endpoint.
2025-05-03 20:27:44,279 INFO [root]: AI memory reset successfully via /reset endpoint.
2025-05-03 20:27:44,279 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 20:27:44] "POST /reset HTTP/1.1" 200 -
2025-05-03 20:27:46,197 INFO [root]: Received request on /decide endpoint.
2025-05-03 20:27:46,197 INFO [root]: Sending request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 20:27:48,232 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 20:27:48,233 INFO [root]: LLM generation finish reason: stop
2025-05-03 20:27:48,233 INFO [root]: Decision: MOVE NE | Reason: The nearest visible trader is at (+1,-1) (NE direction). Moving NE directly reaches this trader with sufficient resources (Food: 15-4=11, Water: 15-2=13, Energy: 15-2=13), avoiding any resource depletion.
2025-05-03 20:27:48,234 INFO [root]: Decision received from engine: MOVE NE
2025-05-03 20:27:48,234 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 20:27:48] "POST /decide HTTP/1.1" 200 -
2025-05-03 20:27:48,578 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 20:27:48,579 INFO [root]: LLM generation finish reason: stop
2025-05-03 20:27:48,579 INFO [root]: Decision: MOVE SOUTH | Reason: The nearest visible Trader is at (0,+1) (directly south), which can be reached with minimal resource cost (Food:15→13, Water:15→14, Energy:15→14), satisfying the priority to move toward the closest trader.
2025-05-03 20:27:48,579 INFO [root]: Decision received from engine: MOVE SOUTH
2025-05-03 20:27:48,579 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 20:27:48] "POST /decide HTTP/1.1" 200 -
2025-05-03 20:27:53,122 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 20:27:53,123 INFO [root]: LLM generation finish reason: stop
2025-05-03 20:27:53,123 INFO [root]: Decision: MOVE EAST | Reason: Trader is at (+1,+0), directly East. Moving East reaches the trader in one step with sufficient resources (Food:15→10, Water:15→12, Energy:15→12).
2025-05-03 20:27:53,124 INFO [root]: Decision received from engine: MOVE EAST
2025-05-03 20:27:53,124 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 20:27:53] "POST /decide HTTP/1.1" 200 -
2025-05-03 20:27:55,460 INFO [root]: Received request on /decide endpoint.
2025-05-03 20:27:55,461 INFO [root]: Sending request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 20:28:06,972 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 20:28:06,972 INFO [root]: LLM generation finish reason: stop
2025-05-03 20:28:06,973 INFO [root]: Decision: TRADE | Reason: The player is already on a tile containing a Trader at coordinates (0,0), so the objective is met and trading is the appropriate action.
2025-05-03 20:28:06,973 INFO [root]: Decision received from engine: TRADE
2025-05-03 20:28:06,973 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 20:28:06] "POST /decide HTTP/1.1" 200 -
2025-05-03 20:28:08,853 INFO [root]: Received request on /trade_decide endpoint.
2025-05-03 20:28:08,854 INFO [root]: Received request on /decide endpoint.
2025-05-03 20:28:08,854 INFO [root]: Sending trade request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 20:28:08,855 INFO [root]: Sending request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 20:28:18,820 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 20:28:18,821 INFO [root]: LLM generation finish reason: stop
2025-05-03 20:28:18,821 INFO [root]: Decision: TRADE | Reason: The player is already on the trader tile at (0,0), as indicated by the "Trader" marker in the current vision. Rule 6 explicitly states to choose TRADE when on a trader tile.
2025-05-03 20:28:18,822 INFO [root]: Decision received from engine: TRADE
2025-05-03 20:28:18,822 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 20:28:18] "POST /decide HTTP/1.1" 200 -
2025-05-03 20:28:20,700 INFO [root]: Received request on /trade_decide endpoint.
2025-05-03 20:28:20,700 INFO [root]: Sending trade request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 20:28:21,060 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 20:28:21,060 INFO [root]: LLM trade generation finish reason: stop
2025-05-03 20:28:21,061 INFO [root]: Trade Decision Raw: REJECT | Reason: Player's Food and Water are already at maximum capacity (15/15), so they cannot accept any trade that would add more resources. No initial offer can be made without exceeding capacity.
2025-05-03 20:28:21,061 WARNING [root]: AI failed to generate an initial COUNTER OFFER, received: REJECT. Defaulting to REJECT.
2025-05-03 20:28:21,061 INFO [root]: Trade decision received from engine: REJECT
2025-05-03 20:28:21,061 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 20:28:21] "POST /trade_decide HTTP/1.1" 200 -
2025-05-03 20:28:22,930 INFO [root]: Received request on /decide endpoint.
2025-05-03 20:28:22,930 INFO [root]: Sending request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 20:28:27,356 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 20:28:27,357 INFO [root]: LLM trade generation finish reason: stop
2025-05-03 20:28:27,357 INFO [root]: Trade Decision Raw: REJECT | Reason: Player's Food and Water are already at maximum capacity (15/15), so no trade can be accepted without exceeding limits. Trader is stingy, making it unlikely to offer favorable terms. No need to initiate a trade that would require carrying excess resources.
2025-05-03 20:28:27,357 WARNING [root]: AI failed to generate an initial COUNTER OFFER, received: REJECT. Defaulting to REJECT.
2025-05-03 20:28:27,357 INFO [root]: Trade decision received from engine: REJECT
2025-05-03 20:28:27,357 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 20:28:27] "POST /trade_decide HTTP/1.1" 200 -
2025-05-03 20:28:27,941 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 20:28:27,941 INFO [root]: LLM generation finish reason: stop
2025-05-03 20:28:27,942 INFO [root]: Decision: TRADE | Reason: The player is already on the tile containing the Trader at (+0, +0), so the objective is met and TRADE is the required action.
2025-05-03 20:28:27,942 INFO [root]: Decision received from engine: TRADE
2025-05-03 20:28:27,942 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 20:28:27] "POST /decide HTTP/1.1" 200 -
2025-05-03 20:28:29,811 INFO [root]: Received request on /trade_decide endpoint.
2025-05-03 20:28:29,812 INFO [root]: Sending trade request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 20:28:29,824 INFO [root]: Received request on /decide endpoint.
2025-05-03 20:28:29,825 INFO [root]: Sending request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 20:28:35,756 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 20:28:35,757 INFO [root]: LLM generation finish reason: stop
2025-05-03 20:28:35,757 INFO [root]: Decision: TRADE | Reason: The player is already on the Trader tile at (0,0), so the objective is met and TRADE is the required action.
2025-05-03 20:28:35,757 INFO [root]: Decision received from engine: TRADE
2025-05-03 20:28:35,758 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 20:28:35] "POST /decide HTTP/1.1" 200 -
2025-05-03 20:28:37,649 INFO [root]: Received request on /trade_decide endpoint.
2025-05-03 20:28:37,649 INFO [root]: Sending trade request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 20:28:40,032 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 20:28:40,033 INFO [root]: LLM trade generation finish reason: stop
2025-05-03 20:28:40,033 INFO [root]: Trade Decision Raw: REJECT | Reason: Player's Food and Water are already at maximum capacity (15/15), so they cannot accept any resources from the trader. Trading would require giving up Gold for no benefit, which is inefficient against a stingy trader.
2025-05-03 20:28:40,033 WARNING [root]: AI failed to generate an initial COUNTER OFFER, received: REJECT. Defaulting to REJECT.
2025-05-03 20:28:40,033 INFO [root]: Trade decision received from engine: REJECT
2025-05-03 20:28:40,034 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 20:28:40] "POST /trade_decide HTTP/1.1" 200 -
2025-05-03 20:28:41,925 INFO [root]: Received request on /decide endpoint.
2025-05-03 20:28:41,926 INFO [root]: Sending request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 20:28:42,733 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 20:28:42,734 INFO [root]: LLM trade generation finish reason: stop
2025-05-03 20:28:42,734 INFO [root]: Trade Decision Raw: REJECT | Reason: Player is already at maximum capacity for both Food and Water (15/15), so no trade can be accepted. Trader is stingy and would not offer resources that player cannot take.
2025-05-03 20:28:42,735 WARNING [root]: AI failed to generate an initial COUNTER OFFER, received: REJECT. Defaulting to REJECT.
2025-05-03 20:28:42,735 INFO [root]: Trade decision received from engine: REJECT
2025-05-03 20:28:42,735 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 20:28:42] "POST /trade_decide HTTP/1.1" 200 -
2025-05-03 20:28:49,772 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 20:28:49,772 INFO [root]: LLM generation finish reason: stop
2025-05-03 20:28:49,773 INFO [root]: Decision: TRADE | Reason: Player is already on the trader tile at (0,0), so the objective is met and TRADE is the required action.
2025-05-03 20:28:49,773 INFO [root]: Decision received from engine: TRADE
2025-05-03 20:28:49,773 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 20:28:49] "POST /decide HTTP/1.1" 200 -
2025-05-03 20:28:51,639 INFO [root]: Received request on /trade_decide endpoint.
2025-05-03 20:28:51,639 INFO [root]: Received request on /decide endpoint.
2025-05-03 20:28:51,639 INFO [root]: Sending trade request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 20:28:51,640 INFO [root]: Sending request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 20:28:56,877 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 20:28:56,878 INFO [root]: LLM generation finish reason: stop
2025-05-03 20:28:56,878 INFO [root]: Decision: TRADE | Reason: The player is already on the trader tile at (0, 0), so the objective is met and trading is the appropriate action.
2025-05-03 20:28:56,878 INFO [root]: Decision received from engine: TRADE
2025-05-03 20:28:56,878 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 20:28:56] "POST /decide HTTP/1.1" 200 -
2025-05-03 20:28:58,767 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 20:28:58,768 INFO [root]: LLM trade generation finish reason: stop
2025-05-03 20:28:58,768 INFO [root]: Trade Decision Raw: REJECT | Reason: Player's Food and Water are already at maximum capacity (15/15), so acquiring more is unnecessary. Trader is stingy, and there's no viable trade that benefits the player without exceeding capacity.
2025-05-03 20:28:58,768 WARNING [root]: AI failed to generate an initial COUNTER OFFER, received: REJECT. Defaulting to REJECT.
2025-05-03 20:28:58,768 INFO [root]: Trade decision received from engine: REJECT
2025-05-03 20:28:58,769 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 20:28:58] "POST /trade_decide HTTP/1.1" 200 -
2025-05-03 20:29:07,069 INFO [root]: Received request on /reset endpoint.
2025-05-03 20:29:07,069 INFO [root]: AI memory reset successfully via /reset endpoint.
2025-05-03 20:29:07,070 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 20:29:07] "POST /reset HTTP/1.1" 200 -
2025-05-03 20:29:16,571 INFO [root]: Received request on /reset endpoint.
2025-05-03 20:29:16,572 INFO [root]: AI memory reset successfully via /reset endpoint.
2025-05-03 20:29:16,572 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 20:29:16] "POST /reset HTTP/1.1" 200 -
2025-05-03 20:29:18,480 INFO [root]: Received request on /decide endpoint.
2025-05-03 20:29:18,481 INFO [root]: Sending request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 20:29:34,347 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 20:29:34,348 INFO [root]: LLM generation finish reason: stop
2025-05-03 20:29:34,348 INFO [root]: Decision: MOVE EAST | Reason: The nearest Traders are at (+1,+0) and (0,+1), both one step away. Moving EAST to (+1,+0) has a lower combined resource cost (6E+3F+3W=12) compared to moving SOUTH (6E+3F+4W=13). EAST is preferred per tie-breaking rules.
2025-05-03 20:29:34,349 INFO [root]: Decision received from engine: MOVE EAST
2025-05-03 20:29:34,349 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 20:29:34] "POST /decide HTTP/1.1" 200 -
2025-05-03 20:29:36,694 INFO [root]: Received request on /decide endpoint.
2025-05-03 20:29:36,694 INFO [root]: Sending request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 20:29:48,037 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 20:29:48,037 INFO [root]: LLM generation finish reason: stop
2025-05-03 20:29:48,038 INFO [root]: Decision: TRADE | Reason: The player is already on a tile containing a Trader at coordinates (0, 0), fulfilling the objective to reach a Trader.
2025-05-03 20:29:48,038 INFO [root]: Decision received from engine: TRADE
2025-05-03 20:29:48,038 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 20:29:48] "POST /decide HTTP/1.1" 200 -
2025-05-03 20:29:49,927 INFO [root]: Received request on /trade_decide endpoint.
2025-05-03 20:29:49,928 INFO [root]: Received request on /decide endpoint.
2025-05-03 20:29:49,928 INFO [root]: Sending trade request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 20:29:49,928 INFO [root]: Sending request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 20:30:04,302 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 20:30:04,303 INFO [root]: LLM generation finish reason: stop
2025-05-03 20:30:04,303 INFO [root]: Decision: TRADE | Reason: The player is already on a tile with a Trader at (0,0), so the objective is met and TRADE is the required action.
2025-05-03 20:30:04,303 INFO [root]: Decision received from engine: TRADE
2025-05-03 20:30:04,304 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 20:30:04] "POST /decide HTTP/1.1" 200 -
2025-05-03 20:30:06,179 INFO [root]: Received request on /trade_decide endpoint.
2025-05-03 20:30:06,179 INFO [root]: Sending trade request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 20:30:16,810 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 20:30:16,810 INFO [root]: LLM trade generation finish reason: stop
2025-05-03 20:30:16,811 INFO [root]: Trade Decision Raw: COUNTER OFFER {"waterToPlayer": 4, "goldToTrader": 4} | Reason: Prioritize acquiring Water (11/15) which is closer to the maximum than Food (12/15). A fair trade of 4 Gold for 4 Water aligns with the trader's normal type (equal value) and fills the player's Water capacity without exceeding limits.
2025-05-03 20:30:16,811 INFO [root]: Trade decision received from engine: COUNTER OFFER {"waterToPlayer": 4, "goldToTrader": 4}
2025-05-03 20:30:16,811 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 20:30:16] "POST /trade_decide HTTP/1.1" 200 -
2025-05-03 20:30:18,693 INFO [root]: Received request on /decide endpoint.
2025-05-03 20:30:18,693 INFO [root]: Sending request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 20:30:20,799 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 20:30:20,799 INFO [root]: LLM trade generation finish reason: stop
2025-05-03 20:30:20,799 INFO [root]: Trade Decision Raw: COUNTER OFFER {"waterToPlayer": 4, "goldToTrader": 4} | Reason: Prioritize replenishing water (11/15) which is closer to capacity than food. Trader has 8 water stock, so requesting 4 (half of stock) is reasonable. Offering 4 gold matches value (1:1 ratio) for a fair trade with a normal trader. This brings water to max capacity without exceeding limits.
2025-05-03 20:30:20,800 INFO [root]: Trade decision received from engine: COUNTER OFFER {"waterToPlayer": 4, "goldToTrader": 4}
2025-05-03 20:30:20,800 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 20:30:20] "POST /trade_decide HTTP/1.1" 200 -
2025-05-03 20:30:29,091 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 20:30:29,091 INFO [root]: LLM generation finish reason: stop
2025-05-03 20:30:29,091 INFO [root]: Decision: TRADE | Reason: Player is already on a tile containing a Trader at coordinates (+0, +0), fulfilling the objective to reach a trader.
2025-05-03 20:30:29,092 INFO [root]: Decision received from engine: TRADE
2025-05-03 20:30:29,092 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 20:30:29] "POST /decide HTTP/1.1" 200 -
2025-05-03 20:30:33,886 INFO [root]: Received request on /trade_decide endpoint.
2025-05-03 20:30:33,887 INFO [root]: Received request on /decide endpoint.
2025-05-03 20:30:33,887 INFO [root]: Sending trade request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 20:30:33,887 INFO [root]: Sending request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 20:30:41,108 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 20:30:41,108 INFO [root]: LLM generation finish reason: stop
2025-05-03 20:30:41,109 INFO [root]: Decision: TRADE | Reason: The player is already on a tile with a Trader at (0,0), so the objective is met and TRADE is the required action.
2025-05-03 20:30:41,109 INFO [root]: Decision received from engine: TRADE
2025-05-03 20:30:41,109 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 20:30:41] "POST /decide HTTP/1.1" 200 -
2025-05-03 20:30:42,978 INFO [root]: Received request on /trade_decide endpoint.
2025-05-03 20:30:42,978 INFO [root]: Sending trade request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 20:30:54,376 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 20:30:54,377 INFO [root]: LLM trade generation finish reason: stop
2025-05-03 20:30:54,377 INFO [root]: Trade Decision Raw: COUNTER OFFER {"waterToPlayer": 4, "goldToTrader": 5} | Reason: Prioritize increasing Water (11/15) to avoid going below 3. Trader has 8 Water stock, so request 4 to reach 15 (max). Offer 5 Gold (15 available) for fair exchange (normal trader). Avoid overpaying while securing critical resource.
2025-05-03 20:30:54,377 INFO [root]: Trade decision received from engine: COUNTER OFFER {"waterToPlayer": 4, "goldToTrader": 5}
2025-05-03 20:30:54,378 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 20:30:54] "POST /trade_decide HTTP/1.1" 200 -
2025-05-03 20:30:56,265 INFO [root]: Received request on /decide endpoint.
2025-05-03 20:30:56,266 INFO [root]: Sending request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 20:31:05,127 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 20:31:05,128 INFO [root]: LLM trade generation finish reason: stop
2025-05-03 20:31:05,128 INFO [root]: Trade Decision Raw: COUNTER OFFER {"waterToPlayer": 4, "goldToTrader": 5} | Reason: Prioritize acquiring Water (11/15) over Food (12/15) to address the more critical need. The trader has 8 Water in stock, allowing the player to request 4 units (to reach max capacity) in exchange for 5 Gold, which is a fair trade with a normal trader. This avoids overspending Gold while securing essential resources.
2025-05-03 20:31:05,128 INFO [root]: Trade decision received from engine: COUNTER OFFER {"waterToPlayer": 4, "goldToTrader": 5}
2025-05-03 20:31:05,129 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 20:31:05] "POST /trade_decide HTTP/1.1" 200 -
2025-05-03 20:31:05,432 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 20:31:05,433 INFO [root]: LLM generation finish reason: stop
2025-05-03 20:31:05,433 INFO [root]: Decision: TRADE | Reason: The player is already on a tile with a Trader at (0,0), so the objective is met.
2025-05-03 20:31:05,434 INFO [root]: Decision received from engine: TRADE
2025-05-03 20:31:05,434 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 20:31:05] "POST /decide HTTP/1.1" 200 -
2025-05-03 20:31:09,904 INFO [root]: Received request on /trade_decide endpoint.
2025-05-03 20:31:09,905 INFO [root]: Sending trade request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 20:31:10,204 INFO [root]: Received request on /trade_decide endpoint.
2025-05-03 20:31:10,204 INFO [root]: Sending trade request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 20:31:17,968 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 20:31:17,968 INFO [root]: LLM trade generation finish reason: stop
2025-05-03 20:31:17,969 INFO [root]: Trade Decision Raw: ACCEPT | Reason: The player receives 4 Water (needed to reach max capacity) in exchange for 4 Gold, which is a fair trade with a normal trader. The trade doesn't risk exceeding capacity or overspending Gold.
2025-05-03 20:31:17,969 INFO [root]: Trade decision received from engine: ACCEPT
2025-05-03 20:31:17,969 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 20:31:17] "POST /trade_decide HTTP/1.1" 200 -
2025-05-03 20:31:19,249 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 20:31:19,250 INFO [root]: LLM trade generation finish reason: stop
2025-05-03 20:31:19,250 INFO [root]: Trade Decision Raw: ACCEPT | Reason: The player receives 4 Water (needed to reach max capacity) in exchange for 4 Gold, which is a fair trade with a normal trader. The trade does not exceed the player's capacity or the trader's stock.
2025-05-03 20:31:19,250 INFO [root]: Trade decision received from engine: ACCEPT
2025-05-03 20:31:19,251 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 20:31:19] "POST /trade_decide HTTP/1.1" 200 -
2025-05-03 20:31:19,849 INFO [root]: Received request on /trade_decide endpoint.
2025-05-03 20:31:19,849 INFO [root]: Sending trade request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 20:31:21,133 INFO [root]: Received request on /decide endpoint.
2025-05-03 20:31:21,133 INFO [root]: Sending request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 20:31:31,724 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 20:31:31,725 INFO [root]: LLM generation finish reason: stop
2025-05-03 20:31:31,725 INFO [root]: Decision: TRADE | Reason: The player is already on a tile containing a Trader at (0,0), so the objective is met and TRADE is the required action.
2025-05-03 20:31:31,725 INFO [root]: Decision received from engine: TRADE
2025-05-03 20:31:31,726 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 20:31:31] "POST /decide HTTP/1.1" 200 -
2025-05-03 20:31:33,613 INFO [root]: Received request on /trade_decide endpoint.
2025-05-03 20:31:33,613 INFO [root]: Sending trade request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 20:31:41,094 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 20:31:41,095 INFO [root]: LLM trade generation finish reason: stop
2025-05-03 20:31:41,095 INFO [root]: Trade Decision Raw: COUNTER OFFER {"waterToPlayer": 4, "goldToTrader": 4} | Reason: Prioritize replenishing Water (11/15) which is closer to capacity than Food. Trader has sufficient Water stock (8) and a fair trade would exchange 4 Water for 4 Gold, keeping player Gold above 10 while maximizing Water without exceeding capacity.
2025-05-03 20:31:41,096 INFO [root]: Trade decision received from engine: COUNTER OFFER {"waterToPlayer": 4, "goldToTrader": 4}
2025-05-03 20:31:41,096 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 20:31:41] "POST /trade_decide HTTP/1.1" 200 -
2025-05-03 20:31:42,976 INFO [root]: Received request on /decide endpoint.
2025-05-03 20:31:42,976 INFO [root]: Sending request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 20:31:47,635 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 20:31:47,636 INFO [root]: LLM trade generation finish reason: stop
2025-05-03 20:31:47,637 INFO [root]: Trade Decision Raw: COUNTER OFFER {"foodToPlayer": 3, "goldToTrader": 2} | Reason: Player needs Food (12/15) to stay above survival threshold. Trader has 4 Food in stock, but player can only accept 3 to avoid exceeding capacity. Offering 2 Gold (reasonable for 3 Food) aligns with normal trader's fair value expectations.
2025-05-03 20:31:47,637 INFO [root]: Trade decision received from engine: COUNTER OFFER {"foodToPlayer": 3, "goldToTrader": 2}
2025-05-03 20:31:47,637 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 20:31:47] "POST /trade_decide HTTP/1.1" 200 -
2025-05-03 20:31:50,652 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 20:31:50,652 INFO [root]: LLM generation finish reason: stop
2025-05-03 20:31:50,653 INFO [root]: Decision: TRADE | Reason: The player is already on a tile containing a Trader at (0,0), so the objective is met and TRADE is the required action.
2025-05-03 20:31:50,653 INFO [root]: Decision received from engine: TRADE
2025-05-03 20:31:50,653 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 20:31:50] "POST /decide HTTP/1.1" 200 -
2025-05-03 20:31:52,519 INFO [root]: Received request on /decide endpoint.
2025-05-03 20:31:52,520 INFO [root]: Sending request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 20:31:52,546 INFO [root]: Received request on /trade_decide endpoint.
2025-05-03 20:31:52,546 INFO [root]: Sending trade request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 20:32:04,471 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 20:32:04,471 INFO [root]: LLM generation finish reason: stop
2025-05-03 20:32:04,472 INFO [root]: Decision: TRADE | Reason: The player is already on a tile with a Trader at (0,0), so the objective is met and TRADE is the required action.
2025-05-03 20:32:04,472 INFO [root]: Decision received from engine: TRADE
2025-05-03 20:32:04,472 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 20:32:04] "POST /decide HTTP/1.1" 200 -
2025-05-03 20:32:06,354 INFO [root]: Received request on /trade_decide endpoint.
2025-05-03 20:32:06,355 INFO [root]: Sending trade request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 20:32:13,044 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 20:32:13,045 INFO [root]: LLM trade generation finish reason: stop
2025-05-03 20:32:13,045 INFO [root]: Trade Decision Raw: COUNTER OFFER {"foodToPlayer": 3, "goldToTrader": 3} | Reason: The player needs 3 more Food to reach capacity (15/15) and the trader has 4 Food in stock. A 1:1 Gold-for-Food exchange aligns with the "normal" trader's fair value expectations while avoiding excess Gold spending.
2025-05-03 20:32:13,045 INFO [root]: Trade decision received from engine: COUNTER OFFER {"foodToPlayer": 3, "goldToTrader": 3}
2025-05-03 20:32:13,045 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 20:32:13] "POST /trade_decide HTTP/1.1" 200 -
2025-05-03 20:32:14,932 INFO [root]: Received request on /decide endpoint.
2025-05-03 20:32:14,933 INFO [root]: Sending request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 20:32:21,807 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 20:32:21,808 INFO [root]: LLM generation finish reason: stop
2025-05-03 20:32:21,808 INFO [root]: Decision: TRADE | Reason: Player is already on a tile with a Trader at (0,0), fulfilling the objective to reach a trader.
2025-05-03 20:32:21,808 INFO [root]: Decision received from engine: TRADE
2025-05-03 20:32:21,808 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 20:32:21] "POST /decide HTTP/1.1" 200 -
2025-05-03 20:32:23,684 INFO [root]: Received request on /trade_decide endpoint.
2025-05-03 20:32:23,684 INFO [root]: Sending trade request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 20:32:24,183 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 20:32:24,184 INFO [root]: LLM trade generation finish reason: stop
2025-05-03 20:32:24,184 INFO [root]: Trade Decision Raw: COUNTER OFFER {"foodToPlayer": 3, "goldToTrader": 3} | Reason: Player needs 3 Food to reach capacity (12 → 15) and trader has 4 Food in stock. Offering 3 Gold (1:1 ratio) aligns with normal trader's fairness, avoids overspending, and meets survival needs without exceeding capacity.
2025-05-03 20:32:24,184 INFO [root]: Trade decision received from engine: COUNTER OFFER {"foodToPlayer": 3, "goldToTrader": 3}
2025-05-03 20:32:24,184 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 20:32:24] "POST /trade_decide HTTP/1.1" 200 -
2025-05-03 20:32:26,074 INFO [root]: Received request on /decide endpoint.
2025-05-03 20:32:26,074 INFO [root]: Sending request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 20:32:35,942 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 20:32:35,942 INFO [root]: LLM generation finish reason: stop
2025-05-03 20:32:35,942 INFO [root]: Decision: TRADE | Reason: The player is already on a tile containing a Trader at (0,0), so the objective is met and TRADE is the required action.
2025-05-03 20:32:35,943 INFO [root]: Decision received from engine: TRADE
2025-05-03 20:32:35,943 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 20:32:35] "POST /decide HTTP/1.1" 200 -
2025-05-03 20:32:37,795 INFO [root]: Received request on /trade_decide endpoint.
2025-05-03 20:32:37,796 INFO [root]: Sending trade request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 20:32:42,885 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 20:32:42,885 INFO [root]: LLM trade generation finish reason: stop
2025-05-03 20:32:42,886 INFO [root]: Trade Decision Raw: COUNTER OFFER {"foodToPlayer": 3, "goldToTrader": 3} | Reason: The player needs 3 Food to reach capacity (12/15 → 15/15) and the trader has 4 Food in stock. A 1:1 Gold-for-Food trade aligns with the "normal" trader's fair value expectation while avoiding excess Gold spending.
2025-05-03 20:32:42,886 INFO [root]: Trade decision received from engine: COUNTER OFFER {"foodToPlayer": 3, "goldToTrader": 3}
2025-05-03 20:32:42,886 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 20:32:42] "POST /trade_decide HTTP/1.1" 200 -
2025-05-03 20:32:44,778 INFO [root]: Received request on /decide endpoint.
2025-05-03 20:32:44,779 INFO [root]: Sending request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 20:32:47,302 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 20:32:47,303 INFO [root]: LLM trade generation finish reason: stop
2025-05-03 20:32:47,303 INFO [root]: Trade Decision Raw: COUNTER OFFER {"foodToPlayer": 2, "goldToTrader": 5} | Reason: Player needs Food (12/15) to stay above survival threshold. Trader has 4 Food in stock. Offering 5 Gold (11 available) for 2 Food creates balanced trade with normal trader. Avoids wasting Gold while addressing immediate survival need.
2025-05-03 20:32:47,303 INFO [root]: Trade decision received from engine: COUNTER OFFER {"foodToPlayer": 2, "goldToTrader": 5}
2025-05-03 20:32:47,304 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 20:32:47] "POST /trade_decide HTTP/1.1" 200 -
2025-05-03 20:32:50,308 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 20:32:50,308 INFO [root]: LLM generation finish reason: stop
2025-05-03 20:32:50,308 INFO [root]: Decision: TRADE | Reason: The player is already on a tile containing a Trader at (0,0), so the objective is met and TRADE is the required action.
2025-05-03 20:32:50,309 INFO [root]: Decision received from engine: TRADE
2025-05-03 20:32:50,309 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 20:32:50] "POST /decide HTTP/1.1" 200 -
2025-05-03 20:32:52,168 INFO [root]: Received request on /decide endpoint.
2025-05-03 20:32:52,169 INFO [root]: Received request on /trade_decide endpoint.
2025-05-03 20:32:52,169 INFO [root]: Sending request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 20:32:52,169 INFO [root]: Sending trade request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 20:33:01,473 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 20:33:01,474 INFO [root]: LLM generation finish reason: stop
2025-05-03 20:33:01,474 INFO [root]: Decision: TRADE | Reason: The player is already on a tile containing a Trader at (0,0), so the objective is met and TRADE is the required action.
2025-05-03 20:33:01,475 INFO [root]: Decision received from engine: TRADE
2025-05-03 20:33:01,475 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 20:33:01] "POST /decide HTTP/1.1" 200 -
2025-05-03 20:33:03,354 INFO [root]: Received request on /trade_decide endpoint.
2025-05-03 20:33:03,354 INFO [root]: Sending trade request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 20:33:07,758 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 20:33:07,759 INFO [root]: LLM trade generation finish reason: stop
2025-05-03 20:33:07,759 INFO [root]: Trade Decision Raw: COUNTER OFFER {"foodToPlayer": 3, "goldToTrader": 3} | Reason: Prioritize acquiring Food (player has 12/15, trader has 4 available) while maintaining fair value (3 Gold for 3 Food). Trader is "normal" and will accept balanced trades.
2025-05-03 20:33:07,759 INFO [root]: Trade decision received from engine: COUNTER OFFER {"foodToPlayer": 3, "goldToTrader": 3}
2025-05-03 20:33:07,760 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 20:33:07] "POST /trade_decide HTTP/1.1" 200 -
2025-05-03 20:33:12,572 INFO [root]: Received request on /decide endpoint.
2025-05-03 20:33:12,572 INFO [root]: Sending request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 20:33:21,469 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 20:33:21,470 INFO [root]: LLM trade generation finish reason: stop
2025-05-03 20:33:21,470 INFO [root]: Trade Decision Raw: COUNTER OFFER {"foodToPlayer": 3, "goldToTrader": 5} | Reason: Prioritize acquiring Food (12/15) to reach capacity while trading 5 Gold for 3 Food, which aligns with the normal trader's fair value expectations. Avoids overspending Gold and respects trader stock limits.
2025-05-03 20:33:21,471 INFO [root]: Trade decision received from engine: COUNTER OFFER {"foodToPlayer": 3, "goldToTrader": 5}
2025-05-03 20:33:21,471 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 20:33:21] "POST /trade_decide HTTP/1.1" 200 -
2025-05-03 20:33:23,391 INFO [httpx]: HTTP Request: POST http://localhost:8000/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-03 20:33:23,392 INFO [root]: LLM generation finish reason: stop
2025-05-03 20:33:23,392 INFO [root]: Decision: TRADE | Reason: The player is already on a tile with a Trader at (0,0), so the objective is met and TRADE is the required action.
2025-05-03 20:33:23,392 INFO [root]: Decision received from engine: TRADE
2025-05-03 20:33:23,392 INFO [werkzeug]: 127.0.0.1 - - [03/May/2025 20:33:23] "POST /decide HTTP/1.1" 200 -
2025-05-03 20:33:25,275 INFO [root]: Received request on /decide endpoint.
2025-05-03 20:33:25,276 INFO [root]: Received request on /trade_decide endpoint.
2025-05-03 20:33:25,276 INFO [root]: Sending request to model: Qwen/Qwen3-14B-AWQ
2025-05-03 20:33:25,276 INFO [root]: Sending trade request to model: Qwen/Qwen3-14B-AWQ
